"use strict";(self.webpackChunkPenoplasti_ge=self.webpackChunkPenoplasti_ge||[]).push([[179],{6304:(_t,xe,U)=>{U.d(xe,{Dh:()=>Se,GT:()=>Ie,cc:()=>Pe,hO:()=>$e,on:()=>H,pX:()=>ae,xv:()=>me});var O=U(5879),c=U(120),k=U(2793);_t=U.hmd(_t);const J=["ngOnDestroy"],ae=(Ne,vt,mt,oe={})=>new Proxy(Ne,{get:(Me,he)=>mt.runOutsideAngular(()=>{var De;if(Ne[he])return!(null===(De=oe?.spy)||void 0===De)&&De.get&&oe.spy.get(he,Ne[he]),Ne[he];if(J.indexOf(he)>-1)return()=>{};const We=vt.toPromise().then(G=>{const Ce=G&&G[he];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(nt=>mt.run(()=>nt)):mt.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>We[Ce],apply:(G,Ce,nt)=>We.then(ot=>{var an;const An=ot&&ot(...nt);return!(null===(an=oe?.spy)||void 0===an)&&an.apply&&oe.spy.apply(he,nt,An),An})})})}),Ie=(Ne,vt)=>{vt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(oe=>{Object.defineProperty(Ne.prototype,oe,Object.getOwnPropertyDescriptor(mt.prototype||mt,oe))})})};class pe{constructor(vt){return vt}}const Se=new O.OlP("angularfire2.app.options"),me=new O.OlP("angularfire2.app.name");function H(Ne,vt,mt){const Me="object"==typeof mt&&mt||{};Me.name=Me.name||"string"==typeof mt&&mt||"[DEFAULT]";const De=c.Z.apps.filter(We=>We&&We.name===Me.name)[0]||vt.runOutsideAngular(()=>c.Z.initializeApp(Ne,Me));try{JSON.stringify(Ne)!==JSON.stringify(De.options)&&q("error",`${De.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(De)}const q=(Ne,...vt)=>{(0,O.X6Q)()&&typeof console<"u"&&console[Ne](...vt)},ue={provide:pe,useFactory:H,deps:[Se,O.R0b,[new O.FiY,me]]};let $e=(()=>{class Ne{constructor(mt){c.Z.registerVersion("angularfire",k.q4.full,"core"),c.Z.registerVersion("angularfire",k.q4.full,"app-compat"),c.Z.registerVersion("angular",O.q4F.full,mt.toString())}static initializeApp(mt,oe){return{ngModule:Ne,providers:[{provide:Se,useValue:mt},{provide:me,useValue:oe}]}}}return Ne.\u0275fac=function(mt){return new(mt||Ne)(O.LFG(O.Lbi))},Ne.\u0275mod=O.oAB({type:Ne}),Ne.\u0275inj=O.cJS({providers:[ue]}),Ne})();function Pe(Ne,vt,mt,oe,Me){const[,he,De]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===Ne)||[];if(he)return function et(Ne,vt){try{return Ne.toString()===vt.toString()}catch{return Ne===vt}}(Me,De)||(it("error",`${vt} was already initialized on the ${mt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Me,was:De})),he;{const We=oe();return globalThis.\u0275AngularfireInstanceCache.push([Ne,We,Me]),We}}const Le=!!_t.hot,it=(Ne,...vt)=>{(0,O.X6Q)()&&typeof console<"u"&&console[Ne](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(_t,xe,U)=>{U.d(xe,{q4:()=>Ps,iC:()=>Kl,fc:()=>Zh,HU:()=>vr,vb:()=>_a,JM:()=>Td,u3:()=>lo});var O=U(5879),c=U(4097),k=U(5861),J=U(4303),ae=U(9058),Ie=U(4537),pe=U(7879);const Se=(w,T)=>T.some(x=>w instanceof x);let me,H;const $e=new WeakMap,Pe=new WeakMap,et=new WeakMap,Le=new WeakMap,it=new WeakMap;let mt={get(w,T,x){if(w instanceof IDBTransaction){if("done"===T)return Pe.get(w);if("objectStoreNames"===T)return w.objectStoreNames||et.get(w);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return De(w[T])},set:(w,T,x)=>(w[T]=x,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function he(w){return"function"==typeof w?function Me(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(We(this),T),De($e.get(this))}:function(...T){return De(w.apply(We(this),T))}:function(T,...x){const $=w.call(We(this),T,...x);return et.set($,T.sort?T.sort():[T]),De($)}}(w):(w instanceof IDBTransaction&&function vt(w){if(Pe.has(w))return;const T=new Promise((x,$)=>{const Y=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},ie=()=>{x(),Y()},ge=()=>{$(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",ie),w.addEventListener("error",ge),w.addEventListener("abort",ge)});Pe.set(w,T)}(w),Se(w,function q(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,mt):w)}function De(w){if(w instanceof IDBRequest)return function Ne(w){const T=new Promise((x,$)=>{const Y=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",ge)},ie=()=>{x(De(w.result)),Y()},ge=()=>{$(w.error),Y()};w.addEventListener("success",ie),w.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&$e.set(x,w)}).catch(()=>{}),it.set(T,w),T}(w);if(Le.has(w))return Le.get(w);const T=he(w);return T!==w&&(Le.set(w,T),it.set(T,w)),T}const We=w=>it.get(w),nt=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],an=new Map;function An(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(an.get(T))return an.get(T);const x=T.replace(/FromIndex$/,""),$=T!==x,Y=ot.includes(x);if(!(x in($?IDBIndex:IDBObjectStore).prototype)||!Y&&!nt.includes(x))return;const ie=function(){var ge=(0,k.Z)(function*(at,...Xe){const yt=this.transaction(at,Y?"readwrite":"readonly");let Bt=yt.store;return $&&(Bt=Bt.index(Xe.shift())),(yield Promise.all([Bt[x](...Xe),Y&&yt.done]))[0]});return function(Xe){return ge.apply(this,arguments)}}();return an.set(T,ie),ie}!function oe(w){mt=w(mt)}(w=>({...w,get:(T,x,$)=>An(T,x)||w.get(T,x,$),has:(T,x)=>!!An(T,x)||w.has(T,x)}));const Sn="@firebase/installations",xn="0.6.4",mn=1e4,dr=`w:${xn}`,le="FIS_v2",Ee="https://firebaseinstallations.googleapis.com/v1",ve=36e5,Qe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function ln({projectId:w}){return`${Ee}/projects/${w}/installations`}function xt(w){return{token:w.token,requestStatus:2,expiresIn:fn(w.expiresIn),creationTime:Date.now()}}function Xt(w,T){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,k.Z)(function*(w,T){const $=(yield T.json()).error;return Qe.create("request-failed",{requestName:w,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function cn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function bn(w){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,k.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function fn(w){return Number(w.replace("s","000"))}function Ln(){return(Ln=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:x}){const $=ln(w),Y=cn(w),ie=T.getImmediate({optional:!0});if(ie){const yt=yield ie.getHeartbeatsHeader();yt&&Y.append("x-firebase-client",yt)}const at={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:le,appId:w.appId,sdkVersion:dr})},Xe=yield bn(()=>fetch($,at));if(Xe.ok){const yt=yield Xe.json();return{fid:yt.fid||x,registrationStatus:2,refreshToken:yt.refreshToken,authToken:xt(yt.authToken)}}throw yield Xt("Create Installation",Xe)})).apply(this,arguments)}function Bn(w){return new Promise(T=>{setTimeout(T,w)})}const jr=/^[cdef][\w-]{21}$/,Rt="";function pn(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const x=function Lt(w){return function Ii(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return jr.test(x)?x:Rt}catch{return Rt}}function gt(w){return`${w.appName}!${w.appId}`}const br=new Map;function ei(w,T){const x=gt(w);$n(x,T),function Hr(w,T){const x=function Ti(){return!rn&&"BroadcastChannel"in self&&(rn=new BroadcastChannel("[Firebase] FID Change"),rn.onmessage=w=>{$n(w.data.key,w.data.fid)}),rn}();x&&x.postMessage({key:w,fid:T}),function Ot(){0===br.size&&rn&&(rn.close(),rn=null)}()}(x,T)}function $n(w,T){const x=br.get(w);if(x)for(const $ of x)$(T)}let rn=null;const Ji="firebase-installations-database",Zr=1,Rr="firebase-installations-store";let Fn=null;function ye(){return Fn||(Fn=function G(w,T,{blocked:x,upgrade:$,blocking:Y,terminated:ie}={}){const ge=indexedDB.open(w,T),at=De(ge);return $&&ge.addEventListener("upgradeneeded",Xe=>{$(De(ge.result),Xe.oldVersion,Xe.newVersion,De(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),at.then(Xe=>{ie&&Xe.addEventListener("close",()=>ie()),Y&&Xe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),at}(Ji,Zr,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Rr)}})),Fn}function K(w,T){return we.apply(this,arguments)}function we(){return(we=(0,k.Z)(function*(w,T){const x=gt(w),Y=(yield ye()).transaction(Rr,"readwrite"),ie=Y.objectStore(Rr),ge=yield ie.get(x);return yield ie.put(T,x),yield Y.done,(!ge||ge.fid!==T.fid)&&ei(w,T.fid),T})).apply(this,arguments)}function je(w){return ht.apply(this,arguments)}function ht(){return(ht=(0,k.Z)(function*(w){const T=gt(w),$=(yield ye()).transaction(Rr,"readwrite");yield $.objectStore(Rr).delete(T),yield $.done})).apply(this,arguments)}function wt(w,T){return un.apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(w,T){const x=gt(w),Y=(yield ye()).transaction(Rr,"readwrite"),ie=Y.objectStore(Rr),ge=yield ie.get(x),at=T(ge);return void 0===at?yield ie.delete(x):yield ie.put(at,x),yield Y.done,at&&(!ge||ge.fid!==at.fid)&&ei(w,at.fid),at})).apply(this,arguments)}function W(w){return Z.apply(this,arguments)}function Z(){return Z=(0,k.Z)(function*(w){let T;const x=yield wt(w.appConfig,$=>{const Y=function V(w){return ct(w||{fid:pn(),registrationStatus:0})}($),ie=function B(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Qe.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},$=function R(w,T){return re.apply(this,arguments)}(w,x);return{installationEntry:x,registrationPromise:$}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ke(w)}:{installationEntry:T}}(w,Y);return T=ie.registrationPromise,ie.installationEntry});return x.fid===Rt?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}}),Z.apply(this,arguments)}function re(){return re=(0,k.Z)(function*(w,T){try{const x=yield function rr(w,T){return Ln.apply(this,arguments)}(w,T);return K(w.appConfig,x)}catch(x){throw Ke(x)&&409===x.customData.serverCode?yield je(w.appConfig):yield K(w.appConfig,{fid:T.fid,registrationStatus:0}),x}}),re.apply(this,arguments)}function ke(w){return tt.apply(this,arguments)}function tt(){return(tt=(0,k.Z)(function*(w){let T=yield Nt(w.appConfig);for(;1===T.registrationStatus;)yield Bn(100),T=yield Nt(w.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:$}=yield W(w);return $||x}return T})).apply(this,arguments)}function Nt(w){return wt(w,T=>{if(!T)throw Qe.create("installation-not-found");return ct(T)})}function ct(w){return function _n(w){return 1===w.registrationStatus&&w.registrationTime+mn<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Dn(){return(Dn=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},x){const $=function Yt(w,{fid:T}){return`${ln(w)}/${T}/authTokens:generate`}(w,x),Y=function kn(w,{refreshToken:T}){const x=cn(w);return x.append("Authorization",function Nr(w){return`${le} ${w}`}(T)),x}(w,x),ie=T.getImmediate({optional:!0});if(ie){const yt=yield ie.getHeartbeatsHeader();yt&&Y.append("x-firebase-client",yt)}const at={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:dr,appId:w.appId}})},Xe=yield bn(()=>fetch($,at));if(Xe.ok)return xt(yield Xe.json());throw yield Xt("Generate Auth Token",Xe)})).apply(this,arguments)}function zr(w){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,k.Z)(function*(w,T=!1){let x;const $=yield wt(w.appConfig,ie=>{if(!Ba(ie))throw Qe.create("not-registered");const ge=ie.authToken;if(!T&&function $a(w){return 2===w.requestStatus&&!function xu(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+ve}(w)}(ge))return ie;if(1===ge.requestStatus)return x=function Ks(w,T){return So.apply(this,arguments)}(w,T),ie;{if(!navigator.onLine)throw Qe.create("app-offline");const at=function Mu(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}(ie);return x=function $i(w,T){return sn.apply(this,arguments)}(w,at),at}});return x?yield x:$.authToken}),Jo.apply(this,arguments)}function So(){return(So=(0,k.Z)(function*(w,T){let x=yield Bi(w.appConfig);for(;1===x.authToken.requestStatus;)yield Bn(100),x=yield Bi(w.appConfig);const $=x.authToken;return 0===$.requestStatus?zr(w,T):$})).apply(this,arguments)}function Bi(w){return wt(w,T=>{if(!Ba(T))throw Qe.create("not-registered");return function Cs(w){return 1===w.requestStatus&&w.requestTime+mn<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function sn(){return sn=(0,k.Z)(function*(w,T){try{const x=yield function Ft(w,T){return Dn.apply(this,arguments)}(w,T),$=Object.assign(Object.assign({},T),{authToken:x});return yield K(w.appConfig,$),x}catch(x){if(!Ke(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const $=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield K(w.appConfig,$)}else yield je(w.appConfig);throw x}}),sn.apply(this,arguments)}function Ba(w){return void 0!==w&&2===w.registrationStatus}function Pu(){return(Pu=(0,k.Z)(function*(w){const T=w,{installationEntry:x,registrationPromise:$}=yield W(T);return $?$.catch(console.error):zr(T).catch(console.error),x.fid})).apply(this,arguments)}function ea(){return ea=(0,k.Z)(function*(w,T=!1){const x=w;return yield function Ys(w){return ja.apply(this,arguments)}(x),(yield zr(x,T)).token}),ea.apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(w){const{registrationPromise:T}=yield W(w);T&&(yield T)})).apply(this,arguments)}function Ou(w){return Qe.create("missing-app-config-values",{valueName:w})}const za="installations",Wa=w=>{const T=w.getProvider("app").getImmediate(),x=function Ai(w){if(!w||!w.options)throw Ou("App Configuration");if(!w.name)throw Ou("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!w.options[x])throw Ou(x);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,J._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Qp=w=>{const T=w.getProvider("app").getImmediate(),x=(0,J._getProvider)(T,za).getImmediate();return{getId:()=>function vl(w){return Pu.apply(this,arguments)}(x),getToken:Y=>function yl(w){return ea.apply(this,arguments)}(x,Y)}};(function Cl(){(0,J._registerComponent)(new Ie.wA(za,Wa,"PUBLIC")),(0,J._registerComponent)(new Ie.wA("installations-internal",Qp,"PRIVATE"))})(),(0,J.registerVersion)(Sn,xn),(0,J.registerVersion)(Sn,xn,"esm2017");const wl="@firebase/remote-config",Wr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $t{constructor(T,x,$,Y){this.client=T,this.storage=x,this.storageCache=$,this.logger=Y}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-x,Y=$<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Y}.`),Y}fetch(T){var x=this;return(0,k.Z)(function*(){const[$,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(T.cacheMaxAgeMillis,$))return Y;T.eTag=Y&&Y.eTag;const ie=yield x.client.fetch(T),ge=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ge.push(x.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ge),ie})()}}function Pn(w=navigator){return w.languages&&w.languages[0]||w.language}class es{constructor(T,x,$,Y,ie,ge){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=$,this.projectId=Y,this.apiKey=ie,this.appId=ge}fetch(T){var x=this;return(0,k.Z)(function*(){const[$,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Xe={sdk_version:x.sdkVersion,app_instance_id:$,app_instance_id_token:Y,app_id:x.appId,language_code:Pn()},yt={method:"POST",headers:at,body:JSON.stringify(Xe)},Bt=fetch(ge,yt),It=new Promise((yi,Kn)=>{T.signal.addEventListener(()=>{const jo=new Error("The operation was aborted.");jo.name="AbortError",Kn(jo)})});let Ir;try{yield Promise.race([Bt,It]),Ir=yield Bt}catch(yi){let Kn="fetch-client-network";throw"AbortError"===yi?.name&&(Kn="fetch-timeout"),Wr.create(Kn,{originalErrorMessage:yi?.message})}let Tr=Ir.status;const Mn=Ir.headers.get("ETag")||void 0;let Ad,Zi;if(200===Ir.status){let yi;try{yi=yield Ir.json()}catch(Kn){throw Wr.create("fetch-client-parse",{originalErrorMessage:Kn?.message})}Ad=yi.entries,Zi=yi.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?Tr=500:"NO_CHANGE"===Zi?Tr=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(Ad={}),304!==Tr&&200!==Tr)throw Wr.create("fetch-status",{httpStatus:Tr});return{status:Tr,eTag:Mn,config:Ad}})()}}class na{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,k.Z)(function*(){const $=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,$)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:$}){var Y=this;return(0,k.Z)(function*(){yield function Qs(w,T){return new Promise((x,$)=>{const Y=Math.max(T-Date.now(),0),ie=setTimeout(x,Y);w.addEventListener(()=>{clearTimeout(ie),$(Wr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const ie=yield Y.client.fetch(T);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Dr(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ie))throw ie;const ge={throttleEndTimeMillis:Date.now()+(0,ae.$s)($),backoffCount:$+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(T,ge)}})()}}class Xs{constructor(T,x,$,Y,ie){this.app=T,this._client=x,this._storageCache=$,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(w,T){const x=w.target.error||void 0;return Wr.create(T,{originalErrorMessage:x&&x?.message})}const ts="app_namespace_store";class Ya{constructor(T,x,$,Y=function zn(){return new Promise((w,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=$=>{T(At($,"storage-open"))},x.onsuccess=$=>{w($.target.result)},x.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(x){T(Wr.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=$,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,k.Z)(function*(){const $=yield x.openDbPromise;return new Promise((Y,ie)=>{const at=$.transaction([ts],"readonly").objectStore(ts),Xe=x.createCompositeKey(T);try{const yt=at.get(Xe);yt.onerror=Bt=>{ie(At(Bt,"storage-get"))},yt.onsuccess=Bt=>{const It=Bt.target.result;Y(It?It.value:void 0)}}catch(yt){ie(Wr.create("storage-get",{originalErrorMessage:yt?.message}))}})})()}set(T,x){var $=this;return(0,k.Z)(function*(){const Y=yield $.openDbPromise;return new Promise((ie,ge)=>{const Xe=Y.transaction([ts],"readwrite").objectStore(ts),yt=$.createCompositeKey(T);try{const Bt=Xe.put({compositeKey:yt,value:x});Bt.onerror=It=>{ge(At(It,"storage-set"))},Bt.onsuccess=()=>{ie()}}catch(Bt){ge(Wr.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(T){var x=this;return(0,k.Z)(function*(){const $=yield x.openDbPromise;return new Promise((Y,ie)=>{const at=$.transaction([ts],"readwrite").objectStore(ts),Xe=x.createCompositeKey(T);try{const yt=at.delete(Xe);yt.onerror=Bt=>{ie(At(Bt,"storage-delete"))},yt.onsuccess=()=>{Y()}}catch(yt){ie(Wr.create("storage-delete",{originalErrorMessage:yt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Si{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const x=T.storage.getLastFetchStatus(),$=T.storage.getLastSuccessfulFetchTimestampMillis(),Y=T.storage.getActiveConfig(),ie=yield x;ie&&(T.lastFetchStatus=ie);const ge=yield $;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const at=yield Y;at&&(T.activeConfig=at)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Oo(){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function di(){(0,J._registerComponent)(new Ie.wA("remote-config",function w(T,{instanceIdentifier:x}){const $=T.getProvider("app").getImmediate(),Y=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");if(!(0,ae.hl)())throw Wr.create("indexed-db-unavailable");const{projectId:ie,apiKey:ge,appId:at}=$.options;if(!ie)throw Wr.create("registration-project-id");if(!ge)throw Wr.create("registration-api-key");if(!at)throw Wr.create("registration-app-id");const Xe=new Ya(at,$.name,x=x||"firebase"),yt=new Si(Xe),Bt=new pe.Yd(wl);Bt.logLevel=pe.in.ERROR;const It=new es(Y,J.SDK_VERSION,x,ie,ge,at),Ir=new na(It,Xe),Tr=new $t(Ir,Xe,yt,Bt),Mn=new Xs($,Tr,yt,Xe,Bt);return function kr(w){const T=(0,ae.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Mn),Mn},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(wl,"0.4.4"),(0,J.registerVersion)(wl,"0.4.4","esm2017")}();const Qa=(w,T)=>T.some(x=>w instanceof x);let Ds,Gt;const Xa=new WeakMap,hi=new WeakMap,pr=new WeakMap,eo=new WeakMap,Ja=new WeakMap;let qr={get(w,T,x){if(w instanceof IDBTransaction){if("done"===T)return hi.get(w);if("objectStoreNames"===T)return w.objectStoreNames||pr.get(w);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return fi(w[T])},set:(w,T,x)=>(w[T]=x,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function to(w){return"function"==typeof w?function ed(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xc(){return Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(pi(this),T),fi(Xa.get(this))}:function(...T){return fi(w.apply(pi(this),T))}:function(T,...x){const $=w.call(pi(this),T,...x);return pr.set($,T.sort?T.sort():[T]),fi($)}}(w):(w instanceof IDBTransaction&&function Jc(w){if(hi.has(w))return;const T=new Promise((x,$)=>{const Y=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",ge),w.removeEventListener("abort",ge)},ie=()=>{x(),Y()},ge=()=>{$(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",ie),w.addEventListener("error",ge),w.addEventListener("abort",ge)});hi.set(w,T)}(w),Qa(w,function bh(){return Ds||(Ds=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,qr):w)}function fi(w){if(w instanceof IDBRequest)return function gr(w){const T=new Promise((x,$)=>{const Y=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",ge)},ie=()=>{x(fi(w.result)),Y()},ge=()=>{$(w.error),Y()};w.addEventListener("success",ie),w.addEventListener("error",ge)});return T.then(x=>{x instanceof IDBCursor&&Xa.set(x,w)}).catch(()=>{}),Ja.set(T,w),T}(w);if(eo.has(w))return eo.get(w);const T=to(w);return T!==w&&(eo.set(w,T),Ja.set(T,w)),T}const pi=w=>Ja.get(w);function eu(w,T,{blocked:x,upgrade:$,blocking:Y,terminated:ie}={}){const ge=indexedDB.open(w,T),at=fi(ge);return $&&ge.addEventListener("upgradeneeded",Xe=>{$(fi(ge.result),Xe.oldVersion,Xe.newVersion,fi(ge.transaction))}),x&&ge.addEventListener("blocked",()=>x()),at.then(Xe=>{ie&&Xe.addEventListener("close",()=>ie()),Y&&Xe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),at}function Nu(w,{blocked:T}={}){const x=indexedDB.deleteDatabase(w);return T&&x.addEventListener("blocked",()=>T()),fi(x).then(()=>{})}const Dh=["get","getKey","getAll","getAllKeys","count"],Ih=["put","add","delete","clear"],td=new Map;function nd(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(td.get(T))return td.get(T);const x=T.replace(/FromIndex$/,""),$=T!==x,Y=Ih.includes(x);if(!(x in($?IDBIndex:IDBObjectStore).prototype)||!Y&&!Dh.includes(x))return;const ie=function(){var ge=(0,k.Z)(function*(at,...Xe){const yt=this.transaction(at,Y?"readwrite":"readonly");let Bt=yt.store;return $&&(Bt=Bt.index(Xe.shift())),(yield Promise.all([Bt[x](...Xe),Y&&yt.done]))[0]});return function(Xe){return ge.apply(this,arguments)}}();return td.set(T,ie),ie}!function ti(w){qr=w(qr)}(w=>({...w,get:(T,x,$)=>nd(T,x)||w.get(T,x,$),has:(T,x)=>!!nd(T,x)||w.has(T,x)}));const rd="/firebase-messaging-sw.js",Th="/firebase-cloud-messaging-push-scope",Ah="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jp="https://fcmregistrations.googleapis.com/v1",eg="google.c.a.c_id",Wn="google.c.a.c_l",J0="google.c.a.ts";var Tl=function(w){return w.PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",w}(Tl||{});function ns(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ng(w){const x=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(x),Y=new Uint8Array($.length);for(let ie=0;ie<$.length;++ie)Y[ie]=$.charCodeAt(ie);return Y}const Ru="fcm_token_details_db",ra=5,R_="fcm_token_object_Store";function ig(){return ig=(0,k.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Ru))return null;let T=null;return(yield eu(Ru,ra,{upgrade:($=(0,k.Z)(function*(Y,ie,ge,at){var Xe;if(ie<2||!Y.objectStoreNames.contains(R_))return;const yt=at.objectStore(R_),Bt=yield yt.index("fcmSenderId").get(w);if(yield yt.clear(),Bt)if(2===ie){const It=Bt;if(!It.auth||!It.p256dh||!It.endpoint)return;T={token:It.fcmToken,createTime:null!==(Xe=It.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:ns(It.vapidKey)}}}else if(3===ie){const It=Bt;T={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:ns(It.auth),p256dh:ns(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:ns(It.vapidKey)}}}else if(4===ie){const It=Bt;T={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:ns(It.auth),p256dh:ns(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:ns(It.vapidKey)}}}}),function(ie,ge,at,Xe){return $.apply(this,arguments)})})).close(),yield Nu(Ru),yield Nu("fcm_vapid_details_db"),yield Nu("undefined"),function Is(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var $}),ig.apply(this,arguments)}const No="firebase-messaging-database",Sh=1,rs="firebase-messaging-store";let Vn=null;function ku(){return Vn||(Vn=eu(No,Sh,{upgrade:(w,T)=>{0===T&&w.createObjectStore(rs)}})),Vn}function gi(w){return ia.apply(this,arguments)}function ia(){return ia=(0,k.Z)(function*(w){const T=Lu(w),$=yield(yield ku()).transaction(rs).objectStore(rs).get(T);if($)return $;{const Y=yield function rg(w){return ig.apply(this,arguments)}(w.appConfig.senderId);if(Y)return yield sa(w,Y),Y}}),ia.apply(this,arguments)}function sa(w,T){return id.apply(this,arguments)}function id(){return(id=(0,k.Z)(function*(w,T){const x=Lu(w),Y=(yield ku()).transaction(rs,"readwrite");return yield Y.objectStore(rs).put(T,x),yield Y.done,T})).apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*(w){const T=Lu(w),$=(yield ku()).transaction(rs,"readwrite");yield $.objectStore(rs).delete(T),yield $.done})).apply(this,arguments)}function Lu({appConfig:w}){return w.appId}const Jn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function og(w,T){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,k.Z)(function*(w,T){const x=yield od(w),$=tu(T),Y={method:"POST",headers:x,body:JSON.stringify($)};let ie;try{ie=yield(yield fetch(Al(w.appConfig),Y)).json()}catch(ge){throw Jn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(ie.error)throw Jn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Jn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(w,T){const x=yield od(w),$=tu(T.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify($)};let ie;try{ie=yield(yield fetch(`${Al(w.appConfig)}/${T.token}`,Y)).json()}catch(ge){throw Jn.create("token-update-failed",{errorInfo:ge?.toString()})}if(ie.error)throw Jn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Jn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Uu(w,T){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(w,T){const $={method:"DELETE",headers:yield od(w)};try{const ie=yield(yield fetch(`${Al(w.appConfig)}/${T}`,$)).json();if(ie.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw Jn.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function Al({projectId:w}){return`${Jp}/projects/${w}/registrations`}function od(w){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,k.Z)(function*({appConfig:w,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function tu({p256dh:w,auth:T,endpoint:x,vapidKey:$}){const Y={web:{endpoint:x,auth:T,p256dh:w}};return $!==Ah&&(Y.web.applicationPubKey=$),Y}const ad=6048e5;function ug(){return ug=(0,k.Z)(function*(w){const T=yield function k_(w,T){return ua.apply(this,arguments)}(w.swRegistration,w.vapidKey),x={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:ns(T.getKey("auth")),p256dh:ns(T.getKey("p256dh"))},$=yield gi(w.firebaseDependencies);if($){if(function lg(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}($.subscriptionOptions,x))return Date.now()>=$.createTime+ad?function Ph(w,T){return Sl.apply(this,arguments)}(w,{token:$.token,createTime:Date.now(),subscriptionOptions:x}):$.token;try{yield Uu(w.firebaseDependencies,$.token)}catch(Y){console.warn(Y)}return $u(w.firebaseDependencies,x)}return $u(w.firebaseDependencies,x)}),ug.apply(this,arguments)}function Bu(){return Bu=(0,k.Z)(function*(w){const T=yield gi(w.firebaseDependencies);T&&(yield Uu(w.firebaseDependencies,T.token),yield function sg(w){return oa.apply(this,arguments)}(w.firebaseDependencies));const x=yield w.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),Bu.apply(this,arguments)}function Sl(){return Sl=(0,k.Z)(function*(w,T){try{const x=yield function ag(w,T){return aa.apply(this,arguments)}(w.firebaseDependencies,T),$=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield sa(w.firebaseDependencies,$),x}catch(x){throw yield function Mh(w){return Bu.apply(this,arguments)}(w),x}}),Sl.apply(this,arguments)}function $u(w,T){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,k.Z)(function*(w,T){const $={token:yield og(w,T),createTime:Date.now(),subscriptionOptions:T};return yield sa(w,$),$.token})).apply(this,arguments)}function ua(){return(ua=(0,k.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ng(T)})})).apply(this,arguments)}function Nh(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function ud(w,T){if(!T.notification)return;w.notification={};const x=T.notification.title;x&&(w.notification.title=x);const $=T.notification.body;$&&(w.notification.body=$);const Y=T.notification.image;Y&&(w.notification.image=Y);const ie=T.notification.icon;ie&&(w.notification.icon=ie)}(T,w),function xl(w,T){T.data&&(w.data=T.data)}(T,w),function L_(w,T){var x,$,Y,ie,ge;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;w.fcmOptions={};const at=null!==(Y=null===($=T.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==Y?Y:null===(ie=T.notification)||void 0===ie?void 0:ie.click_action;at&&(w.fcmOptions.link=at);const Xe=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Xe&&(w.fcmOptions.analyticsLabel=Xe)}(T,w),T}function ld(w,T){const x=[];for(let $=0;$<w.length;$++)x.push(w.charAt($)),$<T.length&&x.push(T.charAt($));return x.join("")}function cg(w){return Jn.create("missing-app-config-values",{valueName:w})}ld("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ld("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rh{constructor(T,x,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function F_(w){if(!w||!w.options)throw cg("App Configuration Object");if(!w.name)throw cg("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=w;for(const $ of T)if(!x[$])throw cg($);return{appName:w.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Y,installations:x,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Ol(){return(Ol=(0,k.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(rd,{scope:Th}),w.swRegistration.update().catch(()=>{})}catch(T){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Ts(){return(Ts=(0,k.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield function Pl(w){return Ol.apply(this,arguments)}(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function ru(){return(ru=(0,k.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=Ah)})).apply(this,arguments)}function Hu(){return Hu=(0,k.Z)(function*(w,T){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield function nu(w,T){return ru.apply(this,arguments)}(w,T?.vapidKey),yield function ju(w,T){return Ts.apply(this,arguments)}(w,T?.serviceWorkerRegistration),function xh(w){return ug.apply(this,arguments)}(w)}),Hu.apply(this,arguments)}function ji(){return(ji=(0,k.Z)(function*(w,T,x){const $=function kh(w){switch(w){case Tl.NOTIFICATION_CLICKED:return"notification_open";case Tl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:x[eg],message_name:x[Wn],message_time:x[J0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vn(){return vn=(0,k.Z)(function*(w,T){const x=T.data;if(!x.isFirebaseMessaging)return;w.onMessageHandler&&x.messageType===Tl.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Nh(x)):w.onMessageHandler.next(Nh(x)));const $=x.data;(function Ml(w){return"object"==typeof w&&!!w&&eg in w})($)&&"1"===$["google.c.a.e"]&&(yield function U_(w,T,x){return ji.apply(this,arguments)}(w,x.messageType,$))}),vn.apply(this,arguments)}const Zu="@firebase/messaging",Fr=w=>{const T=new Rh(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Nl(w,T){return vn.apply(this,arguments)}(T,x)),T},dg=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:$=>function cd(w,T){return Hu.apply(this,arguments)}(T,$)}};function Ro(){return mi.apply(this,arguments)}function mi(){return(mi=(0,k.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hg(){(0,J._registerComponent)(new Ie.wA("messaging",Fr,"PUBLIC")),(0,J._registerComponent)(new Ie.wA("messaging-internal",dg,"PRIVATE")),(0,J.registerVersion)(Zu,"0.12.4"),(0,J.registerVersion)(Zu,"0.12.4","esm2017")}();const kl="analytics",Ll="firebase_id",kt="origin",Fl=6e4,V_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fd="https://www.googletagmanager.com/gtag/js",sr=new pe.Yd("@firebase/analytics"),_r=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lo(w){if(!w.startsWith(fd)){const T=_r.create("invalid-gtag-resource",{gtagURL:w});return sr.warn(T.message),""}return w}function ca(w){return Promise.all(w.map(T=>T.catch(x=>x)))}function Fe(){return(Fe=(0,k.Z)(function*(w,T,x,$,Y,ie){const ge=$[Y];try{if(ge)yield T[ge];else{const Xe=(yield ca(x)).find(yt=>yt.measurementId===Y);Xe&&(yield T[Xe.appId])}}catch(at){sr.error(at)}w("config",Y,ie)})).apply(this,arguments)}function da(){return(da=(0,k.Z)(function*(w,T,x,$,Y){try{let ie=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const at=yield ca(x);for(const Xe of ge){const yt=at.find(It=>It.measurementId===Xe),Bt=yt&&T[yt.appId];if(!Bt){ie=[];break}ie.push(Bt)}}0===ie.length&&(ie=Object.values(T)),yield Promise.all(ie),w("event",$,Y||{})}catch(ie){sr.error(ie)}})).apply(this,arguments)}const iu=30,gd=new class Fh{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function $_(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function md(){return(md=(0,k.Z)(function*(w){var T;const{appId:x,apiKey:$}=w,Y={method:"GET",headers:$_($)},ie=V_.replace("{app-id}",x),ge=yield fetch(ie,Y);if(200!==ge.status&&304!==ge.status){let at="";try{const Xe=yield ge.json();null!==(T=Xe.error)&&void 0!==T&&T.message&&(at=Xe.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:at})}return ge.json()})).apply(this,arguments)}function Ss(){return(Ss=(0,k.Z)(function*(w,T=gd,x){const{appId:$,apiKey:Y,measurementId:ie}=w.options;if(!$)throw _r.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:$};throw _r.create("no-api-key")}const ge=T.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new _g;return setTimeout((0,k.Z)(function*(){at.abort()}),void 0!==x?x:Fl),Uh({appId:$,apiKey:Y,measurementId:ie},ge,at,T)})).apply(this,arguments)}function Uh(w,T,x){return ha.apply(this,arguments)}function ha(){return ha=(0,k.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:x},$,Y=gd){var ie;const{appId:ge,measurementId:at}=w;try{yield function xs(w,T){return new Promise((x,$)=>{const Y=Math.max(T-Date.now(),0),ie=setTimeout(x,Y);w.addEventListener(()=>{clearTimeout(ie),$(_r.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}($,T)}catch(Xe){if(at)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:ge,measurementId:at};throw Xe}try{const Xe=yield function j_(w){return md.apply(this,arguments)}(w);return Y.deleteThrottleMetadata(ge),Xe}catch(Xe){const yt=Xe;if(!function H_(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(yt)){if(Y.deleteThrottleMetadata(ge),at)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:ge,measurementId:at};throw Xe}const Bt=503===Number(null===(ie=yt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ae.$s)(x,Y.intervalMillis,iu):(0,ae.$s)(x,Y.intervalMillis),It={throttleEndTimeMillis:Date.now()+Bt,backoffCount:x+1};return Y.setThrottleMetadata(ge,It),sr.debug(`Calling attemptFetch again in ${Bt} millis`),Uh(w,It,$,Y)}}),ha.apply(this,arguments)}class _g{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let _d,bt;function Vl(){return(Vl=(0,k.Z)(function*(w,T,x,$,Y){if(Y&&Y.global)w("event",x,$);else{const ie=yield T;w("event",x,Object.assign(Object.assign({},$),{send_to:ie}))}})).apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(){if(!(0,ae.hl)())return sr.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return sr.warn(_r.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function ss(){return ss=(0,k.Z)(function*(w,T,x,$,Y,ie,ge){var at;const Xe=function Vr(w){return Ss.apply(this,arguments)}(w);Xe.then(Tr=>{x[Tr.measurementId]=Tr.appId,w.options.measurementId&&Tr.measurementId!==w.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tr=>sr.error(Tr)),T.push(Xe);const yt=function ri(){return is.apply(this,arguments)}().then(Tr=>{if(Tr)return $.getId()}),[Bt,It]=yield Promise.all([Xe,yt]);(function Lh(w){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(fd)&&x.src.includes(w))return x;return null})(ie)||function B_(w,T){const x=function Ul(w,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(w,T)),x}("firebase-js-sdk-policy",{createScriptURL:Lo}),$=document.createElement("script"),Y=`${fd}?l=${w}&id=${T}`;$.src=x?x?.createScriptURL(Y):Y,$.async=!0,document.head.appendChild($)}(ie,Bt.measurementId),bt&&(Y("consent","default",bt),function ni(w){bt=w}(void 0)),Y("js",new Date);const Ir=null!==(at=ge?.config)&&void 0!==at?at:{};return Ir[kt]="firebase",Ir.update=!0,null!=It&&(Ir[Ll]=It),Y("config",Bt.measurementId,Ir),_d&&(Y("set",_d),function jl(w){_d=w}(void 0)),Bt.measurementId}),ss.apply(this,arguments)}class Cd{constructor(T){this.app=T}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},Vt=[];const wd={};let xi,os,fa="dataLayer",er=!1;function Dd(w,T,x){!function Uo(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map(($,Y)=>`(${Y+1}) ${$}`).join(" "),x=_r.create("invalid-analytics-context",{errorInfo:T});sr.warn(x.message)}}();const $=w.options.appId;if(!$)throw _r.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw _r.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[$])throw _r.create("already-exists",{id:$});if(!er){!function pd(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(fa);const{wrappedGtag:ie,gtagCore:ge}=function Ur(w,T,x,$,Y){let ie=function(...ge){window[$].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function As(w,T,x,$){function ie(){return ie=(0,k.Z)(function*(ge,...at){try{if("event"===ge){const[Xe,yt]=at;yield function on(w,T,x,$,Y){return da.apply(this,arguments)}(w,T,x,Xe,yt)}else if("config"===ge){const[Xe,yt]=at;yield function mg(w,T,x,$,Y,ie){return Fe.apply(this,arguments)}(w,T,x,$,Xe,yt)}else if("consent"===ge){const[Xe]=at;w("consent","update",Xe)}else if("get"===ge){const[Xe,yt,Bt]=at;w("get",Xe,yt,Bt)}else if("set"===ge){const[Xe]=at;w("set",Xe)}else w(ge,...at)}catch(Xe){sr.error(Xe)}}),ie.apply(this,arguments)}return function Y(ge){return ie.apply(this,arguments)}}(ie,w,T,x),{gtagCore:ie,wrappedGtag:window[Y]}}(vi,Vt,wd,fa,"gtag");os=ie,xi=ge,er=!0}return vi[$]=function qn(w,T,x,$,Y,ie,ge){return ss.apply(this,arguments)}(w,Vt,wd,T,xi,fa,x),new Cd(w)}function zl(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,k.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const su="@firebase/analytics";!function as(){(0,J._registerComponent)(new Ie.wA(kl,(T,{options:x})=>Dd(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,J._registerComponent)(new Ie.wA("analytics-internal",function w(T){try{const x=T.getProvider(kl).getImmediate();return{logEvent:($,Y,ie)=>function Id(w,T,x,$){w=(0,ae.m9)(w),function Vh(w,T,x,$,Y){return Vl.apply(this,arguments)}(os,vi[w.app.options.appId],T,x,$).catch(Y=>sr.error(Y))}(x,$,Y,ie)}}catch(x){throw _r.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,J.registerVersion)(su,"0.10.0"),(0,J.registerVersion)(su,"0.10.0","esm2017")}();var jn=U(1954),io=U(2631);const Kr=new class us extends io.v{}(class Bo extends jn.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(T,x,$):(T.flush(this),0)}});var Hh=U(6321),Pi=U(5592),Ms=U(9397),Oi=U(3093),or=U(5137);const Ps=new O.GfV("7.6.1"),au="__angularfire_symbol__analyticsIsSupportedValue",so="__angularfire_symbol__analyticsIsSupported",uu="__angularfire_symbol__remoteConfigIsSupportedValue",Wu="__angularfire_symbol__remoteConfigIsSupported",Gl="__angularfire_symbol__messagingIsSupportedValue",oo="__angularfire_symbol__messagingIsSupported";function Td(w,T,x){if(T){if(1===T.length)return T[0];const ie=T.filter(ge=>ge.app===x);if(1===ie.length)return ie[0]}return x.container.getProvider(w).getImmediate({optional:!0})}globalThis[so]||(globalThis[so]=zl().then(w=>globalThis[au]=w).catch(()=>globalThis[au]=!1)),globalThis[oo]||(globalThis[oo]=Ro().then(w=>globalThis[Gl]=w).catch(()=>globalThis[Gl]=!1)),globalThis[Wu]||(globalThis[Wu]=Oo().then(w=>globalThis[uu]=w).catch(()=>globalThis[uu]=!1));const _a=(w,T)=>{const x=T?[T]:(0,c.C6)(),$=[];return x.forEach(Y=>{Y.container.getProvider(w).instances.forEach(ge=>{$.includes(ge)||$.push(ge)})}),$};function va(){}class ya{constructor(T,x=Kr){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,$){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{T.apply(this,[ge])})},x,$)}}class Ns{constructor(T){this.zone=T,this.task=null}call(T,x){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),x.pipe((0,Ms.b)({next:$,complete:$,error:$})).subscribe(T).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vr=(()=>{class w{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new ya(Zone.current)),this.insideAngular=x.run(()=>new ya(Zone.current,Hh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(x){return new(x||w)(O.LFG(O.R0b))},w.\u0275prov=O.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function $o(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function uo(w){return $o().ngZone.run(()=>w())}function Zh(w){return w.pipe((0,Oi.Q)($o().outsideAngular))}function Kl(w){return $o(),function Ea(w){return function(x){return(x=x.lift(new Ns(w.ngZone))).pipe((0,or.R)(w.outsideAngular),(0,Oi.Q)(w.insideAngular))}}($o())(w)}const cu=(w,T)=>function(){const $=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),uo(()=>w.apply(void 0,$))},lo=(w,T)=>function(){let x;const $=arguments;for(let ie=0;ie<arguments.length;ie++)"function"==typeof $[ie]&&(T&&(x||(x=uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)))),$[ie]=cu($[ie],x));const Y=function ao(w){return $o().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,$));if(!T){if(Y instanceof Pi.y){const ie=$o();return Y.pipe((0,or.R)(ie.outsideAngular),(0,Oi.Q)(ie.insideAngular))}return uo(()=>Y)}return Y instanceof Pi.y?Y.pipe(Kl):Y instanceof Promise?uo(()=>new Promise((ie,ge)=>Y.then(at=>uo(()=>ie(at)),at=>uo(()=>ge(at))))):"function"==typeof Y&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Y.apply(this,arguments)}:uo(()=>Y)}},6710:(_t,xe,U)=>{U.d(xe,{$:()=>rd,A:()=>q,D:()=>Pe,I:()=>Kp,J:()=>Wa,L:()=>rt,N:()=>wt,P:()=>qn,Q:()=>Ya,R:()=>Bh,U:()=>Il,V:()=>Oo,W:()=>bs,X:()=>Po,Y:()=>bh,Z:()=>Xc,_:()=>Ja,a:()=>hd,a0:()=>Ah,a1:()=>eg,a2:()=>eE,a3:()=>R_,a4:()=>ig,a5:()=>No,a6:()=>rs,a7:()=>ku,a8:()=>ia,a9:()=>id,aA:()=>G,aB:()=>so,aC:()=>je,aD:()=>un,aE:()=>Ms,aF:()=>Vo,aG:()=>ql,aH:()=>Un,aL:()=>la,aO:()=>Ds,aa:()=>sg,ab:()=>Lu,ac:()=>sd,ad:()=>ag,ae:()=>Uu,af:()=>Al,ai:()=>ad,aj:()=>ug,ak:()=>Mh,an:()=>ed,ao:()=>ud,aq:()=>ru,ar:()=>Zu,as:()=>nt,at:()=>ct,au:()=>ke,av:()=>oe,aw:()=>It,ax:()=>oo,ay:()=>_n,az:()=>Me,b:()=>Rl,c:()=>os,d:()=>Dd,e:()=>bd,f:()=>su,g:()=>us,h:()=>jn,i:()=>Hi,j:()=>Hh,k:()=>Zi,l:()=>Fo,m:()=>jo,o:()=>rE,p:()=>Se,r:()=>yn,s:()=>Bl,u:()=>ri});var O=U(5861),c=U(9058),k=U(7592),J=U(7582),ae=U(7879),Ie=U(4537);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new c.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ae.Yd("@firebase/auth");function mt(C,...g){Ne.logLevel<=ae.in.ERROR&&Ne.error(`Auth (${k.SDK_VERSION}): ${C}`,...g)}function oe(C,...g){throw We(C,...g)}function Me(C,...g){return We(C,...g)}function he(C,g,v){const D=Object.assign(Object.assign({},et()),{[g]:v});return new c.LL("auth","Firebase",D).create(g,{appName:C.name})}function De(C,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&oe(C,"argument-error"),he(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(C,...g){if("string"!=typeof C){const v=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=C.name),C._errorFactory.create(v,...D)}return Le.create(C,...g)}function G(C,g,...v){if(!C)throw We(g,...v)}function Ce(C){const g="INTERNAL ASSERTION FAILED: "+C;throw mt(g),new Error(g)}function nt(C,g){C||Ce(g)}function ot(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function an(){return"http:"===An()||"https:"===An()}function An(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class mn{constructor(g,v){this.shortDelay=g,this.longDelay=v,nt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,c.uI)()||(0,c.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(an()||(0,c.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dr(C,g){nt(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class le{static initialize(g,v,D){this.fetchImpl=g,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new mn(3e4,6e4);function ce(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Re(C,g,v,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(C,g,v,D,M={}){return Qe(C,M,(0,O.Z)(function*(){let L={},ee={};D&&("GET"===g?ee=D:L={body:JSON.stringify(D)});const fe=(0,c.xO)(Object.assign({key:C.config.apiKey},ee)).slice(1),Ye=yield C._getAdditionalHeaders();return Ye["Content-Type"]="application/json",C.languageCode&&(Ye["X-Firebase-Locale"]=C.languageCode),le.fetch()(Xt(C,C.config.apiHost,v,fe),Object.assign({method:g,headers:Ye,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Qe(C,g,v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(C,g,v){C._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ee),g);try{const M=new Ct(C),L=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw cn(C,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const fe=L.ok?ee.errorMessage:ee.error.message,[Ye,ut]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw cn(C,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ye)throw cn(C,"email-already-in-use",ee);if("USER_DISABLED"===Ye)throw cn(C,"user-disabled",ee);const Dt=D[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw he(C,Dt,ut);oe(C,Dt)}}catch(M){if(M instanceof c.ZR)throw M;oe(C,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function ln(C,g,v,D){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(C,g,v,D,M={}){const L=yield Re(C,g,v,D,M);return"mfaPendingCredential"in L&&oe(C,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Xt(C,g,v,D){const M=`${g}${v}?${D}`;return C.config.emulator?dr(C.config,M):`${C.config.apiScheme}://${M}`}class Ct{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(Me(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(C,g,v){const D={appName:C.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const M=Me(C,g,D);return M.customData._tokenResponse=v,M}function bn(){return(bn=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function fn(){return(fn=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ln(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function jr(){return(jr=(0,O.Z)(function*(C,g=!1){const v=(0,c.m9)(C),D=yield v.getIdToken(g),M=pn(D);G(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,ee=L?.sign_in_provider;return{claims:M,token:D,authTime:Ln(Rt(M.auth_time)),issuedAtTime:Ln(Rt(M.iat)),expirationTime:Ln(Rt(M.exp)),signInProvider:ee||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(C){return 1e3*Number(C)}function pn(C){const[g,v,D]=C.split(".");if(void 0===g||void 0===v||void 0===D)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,c.tV)(v);return M?JSON.parse(M):(mt("Failed to decode base64 JWT payload"),null)}catch(M){return mt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function gt(C,g){return br.apply(this,arguments)}function br(){return(br=(0,O.Z)(function*(C,g,v=!1){if(v)return g;try{return yield g}catch(D){throw D instanceof c.ZR&&function ei({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(D)&&C.auth.currentUser===C&&(yield C.auth.signOut()),D}})).apply(this,arguments)}class Ut{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,O.Z)(function*(){yield v.iteration()}),D)}iteration(){var g=this;return(0,O.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class hr{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(C){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,O.Z)(function*(C){var g;const v=C.auth,D=yield C.getIdToken(),M=yield gt(C,function Nr(C,g){return rr.apply(this,arguments)}(v,{idToken:D}));G(M?.users.length,v,"internal-error");const L=M.users[0];C._notifyReloadListener(L);const ee=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?function Ji(C){return C.map(g=>{var{providerId:v}=g,D=(0,J._T)(g,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(L.providerUserInfo):[],fe=function Ot(C,g){return[...C.filter(D=>!g.some(M=>M.providerId===D.providerId)),...g]}(C.providerData,ee),Dt=!!C.isAnonymous&&!(C.email&&L.passwordHash||fe?.length),en={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:fe,metadata:new hr(L.createdAt,L.lastLoginAt),isAnonymous:Dt};Object.assign(C,en)}),Hr.apply(this,arguments)}function Ti(){return(Ti=(0,O.Z)(function*(C){const g=(0,c.m9)(C);yield $n(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Rr(){return(Rr=(0,O.Z)(function*(C,g){const v=yield Qe(C,{},(0,O.Z)(function*(){const D=(0,c.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:L}=C.config,ee=Xt(C,M,"/v1/token",`key=${L}`),fe=yield C._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(ee,{method:"POST",headers:fe,body:D})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){G(g.idToken,"internal-error"),G(typeof g.idToken<"u","internal-error"),G(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Lt(C){const g=pn(C);return G(g,"internal-error"),G(typeof g.exp<"u","internal-error"),G(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var D=this;return(0,O.Z)(function*(){return G(!D.accessToken||D.refreshToken,g,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var D=this;return(0,O.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:ee}=yield function Zr(C,g){return Rr.apply(this,arguments)}(g,v);D.updateTokensAndExpiration(M,L,Number(ee))})()}updateTokensAndExpiration(g,v,D){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,v){const{refreshToken:D,accessToken:M,expirationTime:L}=v,ee=new Fn;return D&&(G("string"==typeof D,"internal-error",{appName:g}),ee.refreshToken=D),M&&(G("string"==typeof M,"internal-error",{appName:g}),ee.accessToken=M),L&&(G("number"==typeof L,"internal-error",{appName:g}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Fn,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function ye(C,g){G("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class K{constructor(g){var{uid:v,auth:D,stsTokenManager:M}=g,L=(0,J._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new hr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,O.Z)(function*(){const D=yield gt(v,v.stsTokenManager.getToken(v.auth,g));return G(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(g){return function Ii(C){return jr.apply(this,arguments)}(this,g)}reload(){return function rn(C){return Ti.apply(this,arguments)}(this)}_assign(g){this!==g&&(G(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new K(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var D=this;return(0,O.Z)(function*(){let M=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),M=!0),v&&(yield $n(D)),yield D.auth._persistUserIfCurrent(D),M&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,O.Z)(function*(){const v=yield g.getIdToken();return yield gt(g,function kn(C,g){return bn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var D,M,L,ee,fe,Ye,ut,Dt;const en=null!==(D=v.displayName)&&void 0!==D?D:void 0,Ei=null!==(M=v.email)&&void 0!==M?M:void 0,co=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,ec=null!==(ee=v.photoURL)&&void 0!==ee?ee:void 0,tc=null!==(fe=v.tenantId)&&void 0!==fe?fe:void 0,Eg=null!==(Ye=v._redirectEventId)&&void 0!==Ye?Ye:void 0,Ca=null!==(ut=v.createdAt)&&void 0!==ut?ut:void 0,nc=null!==(Dt=v.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:qh,emailVerified:q_,isAnonymous:qu,providerData:Rs,stsTokenManager:Gh}=v;G(qh&&Gh,g,"internal-error");const du=Fn.fromJSON(this.name,Gh);G("string"==typeof qh,g,"internal-error"),ye(en,g.name),ye(Ei,g.name),G("boolean"==typeof q_,g,"internal-error"),G("boolean"==typeof qu,g,"internal-error"),ye(co,g.name),ye(ec,g.name),ye(tc,g.name),ye(Eg,g.name),ye(Ca,g.name),ye(nc,g.name);const Gu=new K({uid:qh,auth:g,email:Ei,emailVerified:q_,displayName:en,isAnonymous:qu,photoURL:ec,phoneNumber:co,tenantId:tc,stsTokenManager:du,createdAt:Ca,lastLoginAt:nc});return Rs&&Array.isArray(Rs)&&(Gu.providerData=Rs.map(rc=>Object.assign({},rc))),Eg&&(Gu._redirectEventId=Eg),Gu}static _fromIdTokenResponse(g,v,D=!1){return(0,O.Z)(function*(){const M=new Fn;M.updateFromServerResponse(v);const L=new K({uid:v.localId,auth:g,stsTokenManager:M,isAnonymous:D});return yield $n(L),L})()}}const we=new Map;function je(C){nt(C instanceof Function,"Expected a class definition");let g=we.get(C);return g?(nt(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,we.set(C,g),g)}const wt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(v,D){var M=this;return(0,O.Z)(function*(){M.storage[v]=D})()}_get(v){var D=this;return(0,O.Z)(function*(){const M=D.storage[v];return void 0===M?null:M})()}_remove(v){var D=this;return(0,O.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return C.type="NONE",C})();function un(C,g,v){return`firebase:${C}:${g}:${v}`}class W{constructor(g,v,D){this.persistence=g,this.auth=v,this.userKey=D;const{config:M,name:L}=this.auth;this.fullUserKey=un(this.userKey,M.apiKey,L),this.fullPersistenceKey=un("persistence",M.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,O.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?K._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,O.Z)(function*(){if(v.persistence===g)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,D="authUser"){return(0,O.Z)(function*(){if(!v.length)return new W(je(wt),g,D);const M=(yield Promise.all(v.map(function(){var ut=(0,O.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let L=M[0]||je(wt);const ee=un(D,g.config.apiKey,g.name);let fe=null;for(const ut of v)try{const Dt=yield ut._get(ee);if(Dt){const en=K._fromJSON(g,Dt);ut!==L&&(fe=en),L=ut;break}}catch{}const Ye=M.filter(ut=>ut._shouldAllowMigration);return L._shouldAllowMigration&&Ye.length?(L=Ye[0],fe&&(yield L._set(ee,fe.toJSON())),yield Promise.all(v.map(function(){var ut=(0,O.Z)(function*(Dt){if(Dt!==L)try{yield Dt._remove(ee)}catch{}});return function(Dt){return ut.apply(this,arguments)}}())),new W(L,g,D)):new W(L,g,D)})()}}function Z(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(re(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(tt(g))return"Blackberry";if(Nt(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||R(g))&&!g.includes("edge/"))return"Chrome";if(ke(g))return"Android";{const D=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function V(C=(0,c.z$)()){return/firefox\//i.test(C)}function B(C=(0,c.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function R(C=(0,c.z$)()){return/crios\//i.test(C)}function re(C=(0,c.z$)()){return/iemobile/i.test(C)}function ke(C=(0,c.z$)()){return/android/i.test(C)}function tt(C=(0,c.z$)()){return/blackberry/i.test(C)}function Nt(C=(0,c.z$)()){return/webos/i.test(C)}function ct(C=(0,c.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function _n(C=(0,c.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Yt(C=(0,c.z$)()){return ct(C)||ke(C)||Nt(C)||tt(C)||/windows phone/i.test(C)||re(C)}function Jo(C,g=[]){let v;switch(C){case"Browser":v=Z((0,c.z$)());break;case"Worker":v=`${Z((0,c.z$)())}-${C}`;break;default:v=C}const D=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${k.SDK_VERSION}/${D}`}function So(){return(So=(0,O.Z)(function*(C){return(yield Re(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bi(C,g){return $i.apply(this,arguments)}function $i(){return($i=(0,O.Z)(function*(C,g){return Re(C,"GET","/v2/recaptchaConfig",ce(C,g))})).apply(this,arguments)}function sn(C){return void 0!==C&&void 0!==C.getResponse}function Ba(C){return void 0!==C&&void 0!==C.enterprise}class $a{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Mu(C){return new Promise((g,v)=>{const D=document.createElement("script");D.setAttribute("src",C),D.onload=g,D.onerror=M=>{const L=Me("internal-error");L.customData=M,v(L)},D.type="text/javascript",D.charset="UTF-8",function xu(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(D)})}function Cs(C){return`__${C}${Math.floor(1e6*Math.random())}`}class ea{constructor(g){this.type="recaptcha-enterprise",this.auth=Un(g)}verify(g="verify",v=!1){var D=this;return(0,O.Z)(function*(){function L(){return L=(0,O.Z)(function*(fe){if(!v){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var Ye=(0,O.Z)(function*(ut,Dt){Bi(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(en=>{if(void 0!==en.recaptchaKey){const Ei=new $a(en);return null==fe.tenantId?fe._agentRecaptchaConfig=Ei:fe._tenantRecaptchaConfigs[fe.tenantId]=Ei,ut(Ei.siteKey)}Dt(new Error("recaptcha Enterprise site key undefined"))}).catch(en=>{Dt(en)})});return function(ut,Dt){return Ye.apply(this,arguments)}}())}),L.apply(this,arguments)}function ee(fe,Ye,ut){const Dt=window.grecaptcha;Ba(Dt)?Dt.enterprise.ready(()=>{Dt.enterprise.execute(fe,{action:g}).then(en=>{Ye(en)}).catch(()=>{Ye("NO_RECAPTCHA")})}):ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,Ye)=>{(function M(fe){return L.apply(this,arguments)})(D.auth).then(ut=>{if(!v&&Ba(window.grecaptcha))ee(ut,fe,Ye);else{if(typeof window>"u")return void Ye(new Error("RecaptchaVerifier is only supported in browser"));Mu("https://www.google.com/recaptcha/enterprise.js?render="+ut).then(()=>{ee(ut,fe,Ye)}).catch(Dt=>{Ye(Dt)})}}).catch(ut=>{Ye(ut)})})})()}}function Ys(C,g,v){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(C,g,v,D=!1){const M=new ea(C);let L;try{L=yield M.verify(v)}catch{L=yield M.verify(v,!0)}const ee=Object.assign({},g);return Object.assign(ee,D?{captchaResp:L}:{captchaResponse:L}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Ha{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const D=L=>new Promise((ee,fe)=>{try{ee(g(L))}catch(Ye){fe(Ye)}});D.onAbort=v,this.queue.push(D);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,O.Z)(function*(){if(v.auth.currentUser===g)return;const D=[];try{for(const M of v.queue)yield M(g),M.onAbort&&D.push(M.onAbort)}catch(M){D.reverse();for(const L of D)try{L()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class El{constructor(g,v,D,M){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=D,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ch(this),this.idTokenSubscription=new Ch(this),this.beforeStateQueue=new Ha(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,v){var D=this;return v&&(this._popupRedirectResolver=je(v)),this._initializationPromise=this.queue((0,O.Z)(function*(){var M,L;if(!D._deleted&&(D.persistenceManager=yield W.create(D,g),!D._deleted)){if(null!==(M=D._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===(L=D.currentUser)||void 0===L?void 0:L.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,O.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,O.Z)(function*(){var D;const M=yield v.assertedPersistence.getCurrentUser();let L=M,ee=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const fe=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,Ye=L?._redirectEventId,ut=yield v.tryRedirectSignIn(g);(!fe||fe===Ye)&&ut?.user&&(L=ut.user,ee=!0)}if(!L)return v.directlySetCurrentUser(null);if(!L._redirectEventId){if(ee)try{yield v.beforeStateQueue.runMiddleware(L)}catch(fe){L=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(fe))}return L?v.reloadAndSetCurrentUserOrClear(L):v.directlySetCurrentUser(null)}return G(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===L._redirectEventId?v.directlySetCurrentUser(L):v.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var v=this;return(0,O.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,O.Z)(function*(){try{yield $n(g)}catch(D){if("auth/network-request-failed"!==D?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function xn(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,O.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,O.Z)(function*(){const D=g?(0,c.m9)(g):null;return D&&G(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(g,v=!1){var D=this;return(0,O.Z)(function*(){if(!D._deleted)return g&&G(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),v||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,O.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,O.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,O.Z)(function*(){yield v.assertedPersistence.setPersistence(je(g))}))}initializeRecaptchaConfig(){var g=this;return(0,O.Z)(function*(){const v=yield Bi(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new $a(v);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new ea(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new c.LL("auth","Firebase",g())}onAuthStateChanged(g,v,D){return this.registerStateListener(this.authStateSubscription,g,v,D)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,D){return this.registerStateListener(this.idTokenSubscription,g,v,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var D=this;return(0,O.Z)(function*(){const M=yield D.getOrInitRedirectPersistenceManager(v);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,O.Z)(function*(){if(!v.redirectPersistenceManager){const D=g&&je(g)||v._popupRedirectResolver;G(D,v,"argument-error"),v.redirectPersistenceManager=yield W.create(v,[je(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,O.Z)(function*(){var D,M;return v._isInitialized&&(yield v.queue((0,O.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===g?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,O.Z)(function*(){if(g===v.currentUser)return v.queue((0,O.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,D,M){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return G(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof v?g.addObserver(v,D,M):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,O.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Jo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,O.Z)(function*(){var v;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();M&&(D["X-Firebase-Client"]=M);const L=yield g._getAppCheckToken();return L&&(D["X-Firebase-AppCheck"]=L),D})()}_getAppCheckToken(){var g=this;return(0,O.Z)(function*(){var v;const D=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return D?.error&&function vt(C,...g){Ne.logLevel<=ae.in.WARN&&Ne.warn(`Auth (${k.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Un(C){return(0,c.m9)(C)}class Ch{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,c.ne)(v=>this.observer=v)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kp(C,g,v){const D=Un(C);G(D._canInitEmulator,D,"emulator-config-failed"),G(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const M=!!v?.disableWarnings,L=Ai(g),{host:ee,port:fe}=function Ou(C){const g=Ai(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(D);if(M){const L=M[1];return{host:L,port:za(D.substr(L.length+1))}}{const[L,ee]=D.split(":");return{host:L,port:za(ee)}}}(g);D.config.emulator={url:`${L}//${ee}${null===fe?"":`:${fe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ee,port:fe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Yp(){function C(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Ai(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function za(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Wa{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,v){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Qp(C,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:resetPassword",ce(C,g))})).apply(this,arguments)}function wl(C,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:update",ce(C,g))})).apply(this,arguments)}function ci(C,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithPassword",ce(C,g))})).apply(this,arguments)}function bl(C,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:sendOobCode",ce(C,g))})).apply(this,arguments)}function xo(){return(xo=(0,O.Z)(function*(C,g){return bl(C,g)})).apply(this,arguments)}function Dl(C,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(C,g){return bl(C,g)})).apply(this,arguments)}function Yc(C,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(C,g){return bl(C,g)})).apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(C,g){return bl(C,g)})).apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithEmailLink",ce(C,g))})).apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithEmailLink",ce(C,g))})).apply(this,arguments)}class ta extends Wa{constructor(g,v,D,M=null){super("password",D),this._email=g,this._password=v,this._tenantId=M}static _fromEmailAndPassword(g,v){return new ta(g,v,"password")}static _fromEmailAndCode(g,v,D=null){return new ta(g,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,O.Z)(function*(){var D;switch(v.signInMethod){case"password":const M={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const L=yield Ys(g,M,"signInWithPassword");return ci(g,L)}return ci(g,M).catch(function(){var L=(0,O.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield Ys(g,M,"signInWithPassword");return ci(g,fe)}return Promise.reject(ee)});return function(ee){return L.apply(this,arguments)}}());case"emailLink":return function Ga(C,g){return Lr.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:oe(g,"internal-error")}})()}_linkToIdToken(g,v){var D=this;return(0,O.Z)(function*(){switch(D.signInMethod){case"password":return wl(g,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Xp(C,g){return Qc.apply(this,arguments)}(g,{idToken:v,email:D._email,oobCode:D._password});default:oe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Mo(C,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithIdp",ce(C,g))})).apply(this,arguments)}class rt extends Wa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new rt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):oe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:M}=v,L=(0,J._T)(v,["providerId","signInMethod"]);if(!D||!M)return null;const ee=new rt(D,M);return ee.idToken=L.idToken||void 0,ee.accessToken=L.accessToken||void 0,ee.secret=L.secret,ee.nonce=L.nonce,ee.pendingToken=L.pendingToken||null,ee}_getIdTokenResponse(g){return Mo(g,this.buildRequest())}_linkToIdToken(g,v){const D=this.buildRequest();return D.idToken=v,Mo(g,D)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Mo(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,c.xO)(v)}return g}}function Pn(){return(Pn=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:sendVerificationCode",ce(C,g))})).apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithPhoneNumber",ce(C,g))})).apply(this,arguments)}function na(){return(na=(0,O.Z)(function*(C,g){const v=yield ln(C,"POST","/v1/accounts:signInWithPhoneNumber",ce(C,g));if(v.temporaryProof)throw cn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ir={USER_NOT_FOUND:"user-not-found"};function Xs(){return(Xs=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithPhoneNumber",ce(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ir)})).apply(this,arguments)}class At extends Wa{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new At({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new At({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function es(C,g){return Qs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Dr(C,g){return na.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ws(C,g){return Xs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:D,verificationCode:M}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:D,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:L}=g;return D||v||M||L?new At({verificationId:v,verificationCode:D,phoneNumber:M,temporaryProof:L}):null}}class Js{constructor(g){var v,D,M,L,ee,fe;const Ye=(0,c.zd)((0,c.pd)(g)),ut=null!==(v=Ye.apiKey)&&void 0!==v?v:null,Dt=null!==(D=Ye.oobCode)&&void 0!==D?D:null,en=function ts(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ye.mode)&&void 0!==M?M:null);G(ut&&Dt&&en,"argument-error"),this.apiKey=ut,this.operation=en,this.code=Dt,this.continueUrl=null!==(L=Ye.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=Ye.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(fe=Ye.tenantId)&&void 0!==fe?fe:null}static parseLink(g){const v=function wh(C){const g=(0,c.zd)((0,c.pd)(C)).link,v=g?(0,c.zd)((0,c.pd)(g)).deep_link_id:null,D=(0,c.zd)((0,c.pd)(C)).deep_link_id;return(D?(0,c.zd)((0,c.pd)(D)).link:null)||D||v||g||C}(g);try{return new Js(v)}catch{return null}}}let Ya=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,D){return ta._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const M=Js.parseLink(D);return G(M,"argument-error"),ta._fromEmailAndCode(v,M.code,M.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Si{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class di extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Po extends di{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return G("providerId"in v&&"signInMethod"in v,"argument-error"),rt._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return G(g.idToken||g.accessToken,"argument-error"),rt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Po.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Po.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:M,pendingToken:L,nonce:ee,providerId:fe}=g;if(!D&&!M&&!v&&!L||!fe)return null;try{return new Po(fe)._credential({idToken:v,accessToken:D,nonce:ee,pendingToken:L})}catch{return null}}}let Il=(()=>{class C extends di{constructor(){super("facebook.com")}static credential(v){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Oo=(()=>{class C extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:M}=v;if(!D&&!M)return null;try{return C.credential(D,M)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),bs=(()=>{class C extends di{constructor(){super("github.com")}static credential(v){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ds extends Wa{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Mo(g,this.buildRequest())}_linkToIdToken(g,v){const D=this.buildRequest();return D.idToken=v,Mo(g,D)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Mo(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:M,pendingToken:L}=v;return D&&M&&L&&D===M?new Ds(D,L):null}static _create(g,v){return new Ds(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bh extends Si{constructor(g){G(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return bh.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return bh.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Ds.fromJSON(g);return G(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:D}=g;if(!v||!D)return null;try{return Ds._create(D,v)}catch{return null}}}let Xc=(()=>{class C extends di{constructor(){super("twitter.com")}static credential(v,D){return rt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:M}=v;if(!D||!M)return null;try{return C.credential(D,M)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Xa(C,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signUp",ce(C,g))})).apply(this,arguments)}class pr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,D,M=!1){return(0,O.Z)(function*(){const L=yield K._fromIdTokenResponse(g,D,M),ee=eo(D);return new pr({user:L,providerId:ee,_tokenResponse:D,operationType:v})})()}static _forOperation(g,v,D){return(0,O.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const M=eo(D);return new pr({user:g,providerId:M,_tokenResponse:D,operationType:v})})()}}function eo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ja(C){return gr.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(C){var g;const v=Un(C);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new pr({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield Xa(v,{returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class Jc extends c.ZR{constructor(g,v,D,M){var L;super(v.code,v.message),this.operationType=D,this.user=M,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,v,D,M){return new Jc(g,v,D,M)}}function qr(C,g,v,D){return("reauthenticate"===g?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Jc._fromErrorAndOperation(C,L,g,D):L})}function ti(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function ed(C,g){return to.apply(this,arguments)}function to(){return to=(0,O.Z)(function*(C,g){const v=(0,c.m9)(C);yield eu(!0,v,g);const{providerUserInfo:D}=yield function Qn(C,g){return fn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),M=ti(D||[]);return v.providerData=v.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),to.apply(this,arguments)}function fi(C,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(C,g,v=!1){const D=yield gt(C,g._linkToIdToken(C.auth,yield C.getIdToken()),v);return pr._forOperation(C,"link",D)})).apply(this,arguments)}function eu(C,g,v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,O.Z)(function*(C,g,v){yield $n(g);const M=!1===C?"provider-already-linked":"no-such-provider";G(ti(g.providerData).has(v)===C,g.auth,M)})).apply(this,arguments)}function Dh(C,g){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,O.Z)(function*(C,g,v=!1){const{auth:D}=C,M="reauthenticate";try{const L=yield gt(C,qr(D,M,g,C),v);G(L.idToken,D,"internal-error");const ee=pn(L.idToken);G(ee,D,"internal-error");const{sub:fe}=ee;return G(C.uid===fe,D,"user-mismatch"),pr._forOperation(C,M,L)}catch(L){throw"auth/user-not-found"===L?.code&&oe(D,"user-mismatch"),L}})).apply(this,arguments)}function td(C,g){return nd.apply(this,arguments)}function nd(){return(nd=(0,O.Z)(function*(C,g,v=!1){const D="signIn",M=yield qr(C,D,g),L=yield pr._fromIdTokenResponse(C,D,M);return v||(yield C._updateCurrentUser(L.user)),L})).apply(this,arguments)}function rd(C,g){return Th.apply(this,arguments)}function Th(){return(Th=(0,O.Z)(function*(C,g){return td(Un(C),g)})).apply(this,arguments)}function Ah(C,g){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,O.Z)(function*(C,g){const v=(0,c.m9)(C);return yield eu(!1,v,g.providerId),fi(v,g)})).apply(this,arguments)}function eg(C,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,O.Z)(function*(C,g){return Dh((0,c.m9)(C),g)})).apply(this,arguments)}function tg(){return(tg=(0,O.Z)(function*(C,g){return ln(C,"POST","/v1/accounts:signInWithCustomToken",ce(C,g))})).apply(this,arguments)}function eE(C,g){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,O.Z)(function*(C,g){const v=Un(C),D=yield function J0(C,g){return tg.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(M.user),M}),Tl.apply(this,arguments)}class ns{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?ng._fromServerResponse(g,v):"totpInfo"in v?Ru._fromServerResponse(g,v):oe(g,"internal-error")}}class ng extends ns{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new ng(v)}}class Ru extends ns{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Ru(v)}}function ra(C,g,v){var D;G((null===(D=v.url)||void 0===D?void 0:D.length)>0,C,"invalid-continue-uri"),G(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(G(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(G(v.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function R_(C,g,v){return rg.apply(this,arguments)}function rg(){return rg=(0,O.Z)(function*(C,g,v){var D;const M=Un(C),L={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ee=yield Ys(M,L,"getOobCode",!0);v&&ra(M,ee,v),yield Dl(M,ee)}else v&&ra(M,L,v),yield Dl(M,L).catch(function(){var ee=(0,O.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ye=yield Ys(M,L,"getOobCode",!0);v&&ra(M,Ye,v),yield Dl(M,Ye)}});return function(fe){return ee.apply(this,arguments)}}())}),rg.apply(this,arguments)}function ig(C,g,v){return Is.apply(this,arguments)}function Is(){return(Is=(0,O.Z)(function*(C,g,v){yield Qp((0,c.m9)(C),{oobCode:g,newPassword:v})})).apply(this,arguments)}function No(C,g){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,O.Z)(function*(C,g){yield function N_(C,g){return qc.apply(this,arguments)}((0,c.m9)(C),{oobCode:g})}),Sh.apply(this,arguments)}function rs(C,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,O.Z)(function*(C,g){const v=(0,c.m9)(C),D=yield Qp(v,{oobCode:g}),M=D.requestType;switch(G(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(D.mfaInfo,v,"internal-error");default:G(D.email,v,"internal-error")}let L=null;return D.mfaInfo&&(L=ns._fromServerResponse(Un(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function ku(C,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,O.Z)(function*(C,g){const{data:v}=yield rs((0,c.m9)(C),g);return v.email})).apply(this,arguments)}function ia(C,g,v){return sa.apply(this,arguments)}function sa(){return sa=(0,O.Z)(function*(C,g,v){var D;const M=Un(C),L={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ut=yield Ys(M,L,"signUpPassword");ee=Xa(M,ut)}else ee=Xa(M,L).catch(function(){var ut=(0,O.Z)(function*(Dt){if("auth/missing-recaptcha-token"===Dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const en=yield Ys(M,L,"signUpPassword");return Xa(M,en)}return Promise.reject(Dt)});return function(Dt){return ut.apply(this,arguments)}}());const fe=yield ee.catch(ut=>Promise.reject(ut)),Ye=yield pr._fromIdTokenResponse(M,"signIn",fe);return yield M._updateCurrentUser(Ye.user),Ye}),sa.apply(this,arguments)}function id(C,g,v){return rd((0,c.m9)(C),Ya.credential(g,v))}function sg(C,g,v){return oa.apply(this,arguments)}function oa(){return oa=(0,O.Z)(function*(C,g,v){var D;const M=Un(C),L={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ee(fe,Ye){G(Ye.handleCodeInApp,M,"argument-error"),Ye&&ra(M,fe,Ye)}if(null!==(D=M._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const fe=yield Ys(M,L,"getOobCode",!0);ee(fe,v),yield Yc(M,fe)}else ee(L,v),yield Yc(M,L).catch(function(){var fe=(0,O.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield Ys(M,L,"getOobCode",!0);ee(ut,v),yield Yc(M,ut)}});return function(Ye){return fe.apply(this,arguments)}}())}),oa.apply(this,arguments)}function Lu(C,g){const v=Js.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function sd(C,g,v){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C),M=Ya.credentialWithLink(g,v||ot());return G(M._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),rd(D,M)})).apply(this,arguments)}function Fu(){return(Fu=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:createAuthUri",ce(C,g))})).apply(this,arguments)}function ag(C,g){return aa.apply(this,arguments)}function aa(){return aa=(0,O.Z)(function*(C,g){const D={identifier:g,continueUri:an()?ot():"http://localhost"},{signinMethods:M}=yield function og(C,g){return Fu.apply(this,arguments)}((0,c.m9)(C),D);return M||[]}),aa.apply(this,arguments)}function Uu(C,g){return no.apply(this,arguments)}function no(){return no=(0,O.Z)(function*(C,g){const v=(0,c.m9)(C),M={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&ra(v.auth,M,g);const{email:L}=yield function Kc(C,g){return xo.apply(this,arguments)}(v.auth,M);L!==C.email&&(yield C.reload())}),no.apply(this,arguments)}function Al(C,g,v){return od.apply(this,arguments)}function od(){return od=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};v&&ra(D.auth,L,v);const{email:ee}=yield function fr(C,g){return kr.apply(this,arguments)}(D.auth,L);ee!==C.email&&(yield C.reload())}),od.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(C,g){return Re(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ad(C,g){return xh.apply(this,arguments)}function xh(){return xh=(0,O.Z)(function*(C,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const D=(0,c.m9)(C),L={idToken:yield D.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},ee=yield gt(D,function Vu(C,g){return tu.apply(this,arguments)}(D.auth,L));D.displayName=ee.displayName||null,D.photoURL=ee.photoUrl||null;const fe=D.providerData.find(({providerId:Ye})=>"password"===Ye);fe&&(fe.displayName=D.displayName,fe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ee)}),xh.apply(this,arguments)}function ug(C,g){return Bu((0,c.m9)(C),g,null)}function Mh(C,g){return Bu((0,c.m9)(C),null,g)}function Bu(C,g,v){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,O.Z)(function*(C,g,v){const{auth:D}=C,L={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(L.email=g),v&&(L.password=v);const ee=yield gt(C,wl(D,L));yield C._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class $u{constructor(g,v,D={}){this.isNewUser=g,this.providerId=v,this.profile=D}}class Oh extends $u{constructor(g,v,D,M){super(g,v,D),this.username=M}}class k_ extends $u{constructor(g,v){super(g,"facebook.com",v)}}class ua extends Oh{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class lg extends $u{constructor(g,v){super(g,"google.com",v)}}class Nh extends Oh{constructor(g,v,D){super(g,"twitter.com",v,D)}}function ud(C){const{user:g,_tokenResponse:v}=C;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Sl(C){var g,v;if(!C)return null;const{providerId:D}=C,M=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},L=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!D&&C?.idToken){const ee=null===(v=null===(g=pn(C.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(ee)return new $u(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!D)return null;switch(D){case"facebook.com":return new k_(L,M);case"github.com":return new ua(L,M);case"google.com":return new lg(L,M);case"twitter.com":return new Nh(L,M,C.screenName||null);case"custom":case"anonymous":return new $u(L,null);default:return new $u(L,D,M)}}(v)}class Ts{constructor(g,v,D){this.type=g,this.credential=v,this.auth=D}static _fromIdtoken(g,v){return new Ts("enroll",g,v)}static _fromMfaPendingCredential(g){return new Ts("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,D;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ts._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return Ts._fromIdtoken(g.multiFactorSession.idToken)}return null}}class nu{constructor(g,v,D){this.session=g,this.hints=v,this.signInResolver=D}static _fromError(g,v){const D=Un(g),M=v.customData._serverResponse,L=(M.mfaInfo||[]).map(fe=>ns._fromServerResponse(D,fe));G(M.mfaPendingCredential,D,"internal-error");const ee=Ts._fromMfaPendingCredential(M.mfaPendingCredential);return new nu(ee,L,function(){var fe=(0,O.Z)(function*(Ye){const ut=yield Ye._process(D,ee);delete M.mfaInfo,delete M.mfaPendingCredential;const Dt=Object.assign(Object.assign({},M),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(v.operationType){case"signIn":const en=yield pr._fromIdTokenResponse(D,v.operationType,Dt);return yield D._updateCurrentUser(en.user),en;case"reauthenticate":return G(v.user,D,"internal-error"),pr._forOperation(v.user,v.operationType,Dt);default:oe(D,"internal-error")}});return function(Ye){return fe.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,O.Z)(function*(){return v.signInResolver(g)})()}}function ru(C,g){var v;const D=(0,c.m9)(C),M=g;return G(g.customData.operationType,D,"argument-error"),G(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),nu._fromError(D,M)}class Nl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>ns._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Nl(g)}getSession(){var g=this;return(0,O.Z)(function*(){return Ts._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var D=this;return(0,O.Z)(function*(){const M=g,L=yield D.getSession(),ee=yield gt(D.user,M._process(D.user.auth,L,v));return yield D.user._updateTokensIfNecessary(ee),D.user.reload()})()}unenroll(g){var v=this;return(0,O.Z)(function*(){const D="string"==typeof g?g:g.uid,M=yield v.user.getIdToken();try{const L=yield gt(v.user,function kh(C,g){return Re(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(C,g))}(v.user.auth,{idToken:M,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ee})=>ee!==D),yield v.user._updateTokensIfNecessary(L),yield v.user.reload()}catch(L){throw L}})()}}const vn=new WeakMap;function Zu(C){const g=(0,c.m9)(C);return vn.has(g)||vn.set(g,Nl._fromUser(g)),vn.get(g)}const ro="__sak";class Fr{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ro,"1"),this.storage.removeItem(ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rl=(()=>{class C extends Fr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dg(){const C=(0,c.z$)();return B(C)||ct(C)}()&&function zr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const M=this.storage.getItem(D),L=this.localCache[D];M!==L&&v(D,L,M)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((fe,Ye,ut)=>{this.notifyListeners(fe,ut)});const M=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(M);if(v.newValue!==fe)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!D)return}const L=()=>{const fe=this.storage.getItem(M);!D&&this.localCache[M]===fe||this.notifyListeners(M,fe)},ee=this.storage.getItem(M);!function Dn(){return(0,c.w1)()&&10===document.documentMode}()||ee===v.newValue||v.newValue===v.oldValue?L():setTimeout(L,10)}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const L of Array.from(M))L(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var M=()=>super._set,L=this;return(0,O.Z)(function*(){yield M().call(L,v,D),L.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,M=this;return(0,O.Z)(function*(){const L=yield D().call(M,v);return M.localCache[v]=JSON.stringify(L),L})()}_remove(v){var D=()=>super._remove,M=this;return(0,O.Z)(function*(){yield D().call(M,v),delete M.localCache[v]})()}}return C.type="LOCAL",C})(),hd=(()=>{class C extends Fr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return C.type="SESSION",C})();let fg=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(L=>L.isListeningto(v));if(D)return D;const M=new C(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,O.Z)(function*(){const M=v,{eventId:L,eventType:ee,data:fe}=M.data,Ye=D.handlersMap[ee];if(!Ye?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const ut=Array.from(Ye).map(function(){var en=(0,O.Z)(function*(Ei){return Ei(M.origin,fe)});return function(Ei){return en.apply(this,arguments)}}()),Dt=yield function ko(C){return Promise.all(C.map(function(){var g=(0,O.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return g.apply(this,arguments)}}()))}(ut);M.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:Dt})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function la(C="",g=10){let v="";for(let D=0;D<g;D++)v+=Math.floor(10*Math.random());return C+v}class pg{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,D=50){var M=this;return(0,O.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,fe;return new Promise((Ye,ut)=>{const Dt=la("",20);L.port1.start();const en=setTimeout(()=>{ut(new Error("unsupported_event"))},D);fe={messageChannel:L,onMessage(Ei){const co=Ei;if(co.data.eventId===Dt)switch(co.data.status){case"ack":clearTimeout(en),ee=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ye(co.data.response);break;default:clearTimeout(en),clearTimeout(ee),ut(new Error("invalid_response"))}}},M.handlers.add(fe),L.port1.addEventListener("message",fe.onMessage),M.target.postMessage({eventType:g,eventId:Dt,data:v},[L.port2])}).finally(()=>{fe&&M.removeMessageHandler(fe)})})()}}function mr(){return window}function Ll(){return typeof mr().WorkerGlobalScope<"u"&&"function"==typeof mr().importScripts}function Fl(){return(Fl=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sr="firebaseLocalStorageDb",_r="firebaseLocalStorage",Lo="fbase_key";class ca{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ul(C,g){return C.transaction([_r],g?"readwrite":"readonly").objectStore(_r)}function pd(){const C=indexedDB.open(sr,1);return new Promise((g,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const D=C.result;try{D.createObjectStore(_r,{keyPath:Lo})}catch(M){v(M)}}),C.addEventListener("success",(0,O.Z)(function*(){const D=C.result;D.objectStoreNames.contains(_r)?g(D):(D.close(),yield function B_(){const C=indexedDB.deleteDatabase(sr);return new ca(C).toPromise()}(),g(yield pd()))}))})}function mg(C,g,v){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*(C,g,v){const D=Ul(C,!0).put({[Lo]:g,value:v});return new ca(D).toPromise()})).apply(this,arguments)}function da(){return(da=(0,O.Z)(function*(C,g){const v=Ul(C,!1).get(g),D=yield new ca(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function As(C,g){const v=Ul(C,!0).delete(g);return new ca(v).toPromise()}const Hi=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,O.Z)(function*(){return v.db||(v.db=yield pd()),v.db})()}_withRetries(v){var D=this;return(0,O.Z)(function*(){let M=0;for(;;)try{const L=yield D._openDb();return yield v(L)}catch(L){if(M++>3)throw L;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,O.Z)(function*(){return Ll()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,O.Z)(function*(){v.receiver=fg._getInstance(function fd(){return Ll()?self:null}()),v.receiver._subscribe("keyChanged",function(){var D=(0,O.Z)(function*(M,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(M,L){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,O.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,O.Z)(function*(){var D,M;if(v.activeServiceWorker=yield function kt(){return Fl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new pg(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);L&&null!==(D=L[0])&&void 0!==D&&D.fulfilled&&null!==(M=L[0])&&void 0!==M&&M.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,O.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function V_(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const v=yield pd();return yield mg(v,ro,"1"),yield As(v,ro),!0}catch{}return!1})()}_withPendingWrite(v){var D=this;return(0,O.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var M=this;return(0,O.Z)(function*(){return M._withPendingWrite((0,O.Z)(function*(){return yield M._withRetries(L=>mg(L,v,D)),M.localCache[v]=D,M.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,O.Z)(function*(){const M=yield D._withRetries(L=>function on(C,g){return da.apply(this,arguments)}(L,v));return D.localCache[v]=M,M})()}_remove(v){var D=this;return(0,O.Z)(function*(){return D._withPendingWrite((0,O.Z)(function*(){return yield D._withRetries(M=>As(M,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,O.Z)(function*(){const D=yield v._withRetries(ee=>{const fe=Ul(ee,!1).getAll();return new ca(fe).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:ee,value:fe}of D)L.add(ee),JSON.stringify(v.localCache[ee])!==JSON.stringify(fe)&&(v.notifyListeners(ee,fe),M.push(ee));for(const ee of Object.keys(v.localCache))v.localCache[ee]&&!L.has(ee)&&(v.notifyListeners(ee,null),M.push(ee));return M})()}notifyListeners(v,D){this.localCache[v]=D;const M=this.listeners[v];if(M)for(const L of Array.from(M))L(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),Vr=1e12;class Ss{constructor(g){this.auth=g,this.counter=Vr,this._widgets=new Map}render(g,v){const D=this.counter;return this._widgets.set(D,new Uh(g,this.auth.name,v||{})),this.counter++,D}reset(g){var v;const D=g||Vr;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Vr))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,O.Z)(function*(){var D;return null===(D=v._widgets.get(g||Vr))||void 0===D||D.execute(),""})()}}class Uh{constructor(g,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;G(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ha(C){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<C;D++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xs=Cs("rcb"),H_=new mn(3e4,6e4);class _d{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=mr().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return G(function Vh(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&sn(mr().grecaptcha)?Promise.resolve(mr().grecaptcha):new Promise((D,M)=>{const L=mr().setTimeout(()=>{M(Me(g,"network-request-failed"))},H_.get());mr()[xs]=()=>{mr().clearTimeout(L),delete mr()[xs];const fe=mr().grecaptcha;if(!fe||!sn(fe))return void M(Me(g,"internal-error"));const Ye=fe.render;fe.render=(ut,Dt)=>{const en=Ye(ut,Dt);return this.counter++,en},this.hostLanguage=v,D(fe)},Mu(`https://www.google.com/recaptcha/api.js??${(0,c.xO)({onload:xs,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),M(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=mr().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vl{load(g){return(0,O.Z)(function*(){return new Ss(g)})()}clearedOneInstance(){}}const vd="recaptcha",yd={theme:"light",type:"image"};class Bh{constructor(g,v=Object.assign({},yd),D){this.parameters=v,this.type=vd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(D),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;G(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vl:new _d,this.validateStartingState()}verify(){var g=this;return(0,O.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(v)||new Promise(L=>{const ee=fe=>{fe&&(g.tokenChangeListeners.delete(ee),L(fe))};g.tokenChangeListeners.add(ee),g.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof g)g(v);else if("string"==typeof g){const D=mr()[g];"function"==typeof D&&D(v)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,O.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,O.Z)(function*(){G(an()&&!Ll(),g.auth,"internal-error"),yield function $h(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Ks(C){return So.apply(this,arguments)}(g.auth);G(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ed{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=At._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Bl(C,g,v){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(C,g,v){const D=Un(C),M=yield ni(D,g,(0,c.m9)(v));return new Ed(M,L=>rd(D,L))})).apply(this,arguments)}function Fo(C,g,v){return $l.apply(this,arguments)}function $l(){return($l=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C);yield eu(!1,D,"phone");const M=yield ni(D.auth,g,(0,c.m9)(v));return new Ed(M,L=>Ah(D,L))})).apply(this,arguments)}function yn(C,g,v){return bt.apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C),M=yield ni(D.auth,g,(0,c.m9)(v));return new Ed(M,L=>eg(D,L))})).apply(this,arguments)}function ni(C,g,v){return jl.apply(this,arguments)}function jl(){return jl=(0,O.Z)(function*(C,g,v){var D;const M=yield v.verify();try{let L;if(G("string"==typeof M,C,"argument-error"),G(v.type===vd,C,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const ee=L.session;if("phoneNumber"in L)return G("enroll"===ee.type,C,"internal-error"),(yield function cd(C,g){return Re(C,"POST","/v2/accounts/mfaEnrollment:start",ce(C,g))}(C,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{G("signin"===ee.type,C,"internal-error");const fe=(null===(D=L.multiFactorHint)||void 0===D?void 0:D.uid)||L.multiFactorUid;return G(fe,C,"missing-multi-factor-info"),(yield function Fh(C,g){return Re(C,"POST","/v2/accounts/mfaSignIn:start",ce(C,g))}(C,{mfaPendingCredential:ee.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function $t(C,g){return Pn.apply(this,arguments)}(C,{phoneNumber:L.phoneNumber,recaptchaToken:M});return ee}}finally{v._reset()}}),jl.apply(this,arguments)}function ri(C,g){return is.apply(this,arguments)}function is(){return(is=(0,O.Z)(function*(C,g){yield fi((0,c.m9)(C),g)})).apply(this,arguments)}let qn=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Un(v)}verifyPhoneNumber(v,D){return ni(this.auth,v,(0,c.m9)(D))}static credential(v,D){return At._fromVerification(v,D)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:M}=v;return D&&M?At._fromTokenResponse(D,M):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ss(C,g){return g?je(g):(G(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Cd extends Wa{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Mo(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Mo(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Mo(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function vi(C){return td(C.auth,new Cd(C),C.bypassAuthState)}function Vt(C){const{auth:g,user:v}=C;return G(v,g,"internal-error"),Dh(v,new Cd(C),C.bypassAuthState)}function wd(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(C){const{auth:g,user:v}=C;return G(v,g,"internal-error"),fi(v,new Cd(C),C.bypassAuthState)})).apply(this,arguments)}class pa{constructor(g,v,D,M,L=!1){this.auth=g,this.resolver=D,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,O.Z)(function*(D,M){g.pendingPromise={resolve:D,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(D,M){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,O.Z)(function*(){const{urlResponse:D,sessionId:M,postBody:L,tenantId:ee,error:fe,type:Ye}=g;if(fe)return void v.reject(fe);const ut={auth:v.auth,requestUri:D,sessionId:M,tenantId:ee||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ye)(ut))}catch(Dt){v.reject(Dt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return vi;case"linkViaPopup":case"linkViaRedirect":return wd;case"reauthViaPopup":case"reauthViaRedirect":return Vt;default:oe(this.auth,"internal-error")}}resolve(g){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xi=new mn(2e3,1e4);function os(C,g,v){return er.apply(this,arguments)}function er(){return(er=(0,O.Z)(function*(C,g,v){const D=Un(C);De(C,g,Si);const M=ss(D,v);return new Zl(D,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function bd(C,g,v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C);De(D.auth,g,Si);const M=ss(D.auth,v);return new Zl(D.auth,"reauthViaPopup",g,M,D).executeNotNull()})).apply(this,arguments)}function Dd(C,g,v){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C);De(D.auth,g,Si);const M=ss(D.auth,v);return new Zl(D.auth,"linkViaPopup",g,M,D).executeNotNull()})).apply(this,arguments)}let Zl=(()=>{class C extends pa{constructor(v,D,M,L,ee){super(v,D,L,ee),this.provider=M,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,O.Z)(function*(){const D=yield v.execute();return G(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,O.Z)(function*(){nt(1===v.filter.length,"Popup operations only handle one event");const D=la();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(Me(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,M;this.pollId=null!==(M=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,xi.get())};v()}}return C.currentPopupAction=null,C})();const zl="pendingRedirect",Gr=new Map;class Wl extends pa{constructor(g,v,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,O.Z)(function*(){let D=Gr.get(v.auth._key());if(!D){try{const L=(yield function jh(C,g){return ga.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;D=()=>Promise.resolve(L)}catch(M){D=()=>Promise.reject(M)}Gr.set(v.auth._key(),D)}return v.bypassAuthState||Gr.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,D=this;return(0,O.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(D,g);if("unknown"!==g.type){if(g.eventId){const M=yield D.auth._redirectUserForId(g.eventId);if(M)return D.user=M,v().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function ga(){return(ga=(0,O.Z)(function*(C,g){const v=Mi(g),D=Id(C);if(!(yield D._isAvailable()))return!1;const M="true"===(yield D._get(v));return yield D._remove(v),M})).apply(this,arguments)}function zu(C,g){return vg.apply(this,arguments)}function vg(){return(vg=(0,O.Z)(function*(C,g){return Id(C)._set(Mi(g),"true")})).apply(this,arguments)}function ql(){Gr.clear()}function Vo(C,g){Gr.set(C._key(),g)}function Id(C){return je(C._redirectPersistence)}function Mi(C){return un(zl,C.config.apiKey,C.name)}function su(C,g,v){return function ma(C,g,v){return as.apply(this,arguments)}(C,g,v)}function as(){return(as=(0,O.Z)(function*(C,g,v){const D=Un(C);De(C,g,Si),yield D._initializationPromise;const M=ss(D,v);return yield zu(M,D),M._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function jn(C,g,v){return function Bo(C,g,v){return io.apply(this,arguments)}(C,g,v)}function io(){return(io=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C);De(D.auth,g,Si),yield D.auth._initializationPromise;const M=ss(D.auth,v);yield zu(M,D.auth);const L=yield or(D);return M._openRedirect(D.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function us(C,g,v){return function Kr(C,g,v){return ou.apply(this,arguments)}(C,g,v)}function ou(){return(ou=(0,O.Z)(function*(C,g,v){const D=(0,c.m9)(C);De(D.auth,g,Si),yield D.auth._initializationPromise;const M=ss(D.auth,v);yield eu(!1,D,g.providerId),yield zu(M,D.auth);const L=yield or(D);return M._openRedirect(D.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Hh(C,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(C,g){return yield Un(C)._initializationPromise,Ms(C,g,!1)})).apply(this,arguments)}function Ms(C,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,g,v=!1){const D=Un(C),M=ss(D,g),ee=yield new Wl(D,M,v).execute();return ee&&!v&&(delete ee.user._redirectEventId,yield D._persistUserIfCurrent(ee.user),yield D._setRedirectUser(null,g)),ee})).apply(this,arguments)}function or(C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,O.Z)(function*(C){const g=la(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class so{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(v=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Gl(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var D;if(g.error&&!Wu(g)){const M=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(Me(this.auth,M))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const D=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(g))}saveEventToCache(g){this.cachedEventUids.add(uu(g)),this.lastProcessedEventTime=Date.now()}}function uu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Wu({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function oo(C){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(C,g={}){return Re(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Z_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jt=/^https?/;function Td(){return(Td=(0,O.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield oo(C);for(const v of g)try{if(_a(v))return}catch{}oe(C,"unauthorized-domain")})).apply(this,arguments)}function _a(C){const g=ot(),{protocol:v,hostname:D}=new URL(g);if(C.startsWith("chrome-extension://")){const ee=new URL(C);return""===ee.hostname&&""===D?"chrome-extension:"===v&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&ee.hostname===D}if(!jt.test(v))return!1;if(Z_.test(C))return D===C;const M=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(D)}const va=new mn(3e4,6e4);function ya(){const C=mr().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let vr=null;const ao=new mn(5e3,15e3),uo="__/auth/iframe",Zh="emulator/auth/iframe",zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ea(C){const g=C.config;G(g.authDomain,C,"auth-domain-config-required");const v=g.emulator?dr(g,Zh):`https://${C.config.authDomain}/${uo}`,D={apiKey:g.apiKey,appName:C.name,v:k.SDK_VERSION},M=Kl.get(C.config.apiHost);M&&(D.eid=M);const L=C._getFrameworks();return L.length&&(D.fw=L.join(",")),`${v}?${(0,c.xO)(D).slice(1)}`}function lo(){return lo=(0,O.Z)(function*(C){const g=yield function $o(C){return vr=vr||function Ns(C){return new Promise((g,v)=>{var D,M,L;function ee(){ya(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ya(),v(Me(C,"network-request-failed"))},timeout:va.get()})}if(null!==(M=null===(D=mr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(L=mr().gapi)||void 0===L||!L.load){const fe=Cs("iframefcb");return mr()[fe]=()=>{gapi.load?ee():v(Me(C,"network-request-failed"))},Mu(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Ye=>v(Ye))}ee()}}).catch(g=>{throw vr=null,g})}(C),vr}(C),v=mr().gapi;return G(v,C,"internal-error"),g.open({where:document.body,url:Ea(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zh,dontclear:!0},D=>new Promise(function(){var M=(0,O.Z)(function*(L,ee){yield D.restyle({setHideOnLeave:!1});const fe=Me(C,"network-request-failed"),Ye=mr().setTimeout(()=>{ee(fe)},ao.get());function ut(){mr().clearTimeout(Ye),L(D)}D.ping(ut).then(ut,()=>{ee(fe)})});return function(L,ee){return M.apply(this,arguments)}}()))}),lo.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ie{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xe="__/auth/handler",yt="emulator/auth/handler",Bt=encodeURIComponent("fac");function It(C,g,v,D,M,L){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(C,g,v,D,M,L){G(C.config.authDomain,C,"auth-domain-config-required"),G(C.config.apiKey,C,"invalid-api-key");const ee={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:D,v:k.SDK_VERSION,eventId:M};if(g instanceof Si){g.setDefaultLanguage(C.languageCode),ee.providerId=g.providerId||"",(0,c.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Dt,en]of Object.entries(L||{}))ee[Dt]=en}if(g instanceof di){const Dt=g.getScopes().filter(en=>""!==en);Dt.length>0&&(ee.scopes=Dt.join(","))}C.tenantId&&(ee.tid=C.tenantId);const fe=ee;for(const Dt of Object.keys(fe))void 0===fe[Dt]&&delete fe[Dt];const Ye=yield C._getAppCheckToken(),ut=Ye?`#${Bt}=${encodeURIComponent(Ye)}`:"";return`${function Tr({config:C}){return C.emulator?dr(C,yt):`https://${C.authDomain}/${Xe}`}(C)}?${(0,c.xO)(fe).slice(1)}${ut}`})).apply(this,arguments)}const Mn="webStorageSupport",Zi=class Ad{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hd,this._completeRedirectFn=Ms,this._overrideRedirectResult=Vo}_openPopup(g,v,D,M){var L=this;return(0,O.Z)(function*(){var ee;nt(null===(ee=L.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const fe=yield It(g,v,D,ot(),M);return function ge(C,g,v,D=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),ee=Math.max((window.screen.availWidth-D)/2,0).toString();let fe="";const Ye=Object.assign(Object.assign({},w),{width:D.toString(),height:M.toString(),top:L,left:ee}),ut=(0,c.z$)().toLowerCase();v&&(fe=R(ut)?"_blank":v),V(ut)&&(g=g||"http://localhost",Ye.scrollbars="yes");const Dt=Object.entries(Ye).reduce((Ei,[co,ec])=>`${Ei}${co}=${ec},`,"");if(function Ft(C=(0,c.z$)()){var g;return ct(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ut)&&"_self"!==fe)return function at(C,g){const v=document.createElement("a");v.href=C,v.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(g||"",fe),new ie(null);const en=window.open(g||"",fe,Dt);G(en,C,"popup-blocked");try{en.focus()}catch{}return new ie(en)}(g,fe,la())})()}_openRedirect(g,v,D,M){var L=this;return(0,O.Z)(function*(){return yield L._originValidation(g),function kl(C){mr().location.href=C}(yield It(g,v,D,ot(),M)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:M,promise:L}=this.eventManagers[v];return M?Promise.resolve(M):(nt(L,"If manager is not set, promise should be"),L)}const D=this.initAndGetManager(g);return this.eventManagers[v]={promise:D},D.catch(()=>{delete this.eventManagers[v]}),D}initAndGetManager(g){var v=this;return(0,O.Z)(function*(){const D=yield function cu(C){return lo.apply(this,arguments)}(g),M=new so(g);return D.register("authEvent",L=>(G(L?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:M},v.iframes[g._key()]=D,M})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Mn,{type:Mn},M=>{var L;const ee=null===(L=M?.[0])||void 0===L?void 0:L[Mn];void 0!==ee&&v(!!ee),oe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Os(C){return Td.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Yt()||B()||ct()}};class yi{constructor(g){this.factorId=g}_process(g,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,D);case"signin":return this._finalizeSignIn(g,v.credential);default:return Ce("unexpected MultiFactorSessionType")}}}class Kn extends yi{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Kn(g)}_finalizeEnroll(g,v,D){return function Hu(C,g){return Re(C,"POST","/v2/accounts/mfaEnrollment:finalize",ce(C,g))}(g,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function gd(C,g){return Re(C,"POST","/v2/accounts/mfaSignIn:finalize",ce(C,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jo=(()=>{class C{constructor(){}static assertion(v){return Kn._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var nE="@firebase/auth";class OD{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,O.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ND=(0,c.Pz)("authIdTokenMaxAge")||300;let Wh=null;const W_=C=>function(){var g=(0,O.Z)(function*(v){const D=v&&(yield v.getIdTokenResult()),M=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(M&&M>ND)return;const L=D?.token;Wh!==L&&(Wh=L,yield fetch(C,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function rE(C=(0,k.getApp)()){const g=(0,k._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const v=function zc(C,g){const v=(0,k._getProvider)(C,"auth");if(v.isInitialized()){const M=v.getImmediate(),L=v.getOptions();if((0,c.vZ)(L,g??{}))return M;oe(M,"already-initialized")}return v.initialize({options:g})}(C,{popupRedirectResolver:Zi,persistence:[Hi,Rl,hd]}),D=(0,c.Pz)("authTokenSyncURL");if(D){const L=W_(D);(function ld(C,g,v){(0,c.m9)(C).beforeAuthStateChanged(g,v)})(v,L,()=>L(v.currentUser)),function Ml(C,g,v,D){(0,c.m9)(C).onIdTokenChanged(g,v,D)}(v,ee=>L(ee))}const M=(0,c.q4)("auth");return M&&Kp(v,`http://${M}`),v}!function yg(C){(0,k._registerComponent)(new Ie.wA("auth",(g,{options:v})=>{const D=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),L=g.getProvider("app-check-internal"),{apiKey:ee,authDomain:fe}=D.options;G(ee&&!ee.includes(":"),"invalid-api-key",{appName:D.name});const Ye={apiKey:ee,authDomain:fe,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jo(C)},ut=new El(D,M,L,Ye);return function Za(C,g){const v=g?.persistence||[],D=(Array.isArray(v)?v:[v]).map(je);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(D,g?.popupRedirectResolver)}(ut,v),ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,D)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ie.wA("auth-internal",g=>{const v=Un(g.getProvider("auth").getImmediate());return new OD(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(nE,"0.23.2",function ls(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,k.registerVersion)(nE,"0.23.2","esm2017")}("Browser")},9058:(_t,xe,U)=>{U.d(xe,{$s:()=>je,BH:()=>he,DV:()=>fn,G6:()=>dr,GJ:()=>bn,L:()=>me,LL:()=>Ve,P0:()=>mt,Pz:()=>Me,Sg:()=>De,UG:()=>Ce,UI:()=>rr,US:()=>Ie,Wl:()=>xt,Yr:()=>mn,ZB:()=>ue,ZR:()=>Re,aH:()=>oe,b$:()=>an,cI:()=>ln,dS:()=>Ji,eu:()=>Ee,g5:()=>k,gK:()=>Hr,gQ:()=>Lt,h$:()=>Se,hl:()=>le,hu:()=>c,jU:()=>nt,m9:()=>un,ne:()=>gt,p$:()=>q,pd:()=>pn,q4:()=>vt,r3:()=>Qn,ru:()=>ot,tV:()=>H,uI:()=>G,ug:()=>Zr,vZ:()=>Ln,w1:()=>Sn,w9:()=>kn,xO:()=>jr,xb:()=>Nr,z$:()=>We,zI:()=>ve,zd:()=>Rt});const O={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(W,Z){if(!W)throw k(Z)},k=function(W){return new Error("Firebase Database ("+O.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},J=function(W){const Z=[];let V=0;for(let B=0;B<W.length;B++){let R=W.charCodeAt(B);R<128?Z[V++]=R:R<2048?(Z[V++]=R>>6|192,Z[V++]=63&R|128):55296==(64512&R)&&B+1<W.length&&56320==(64512&W.charCodeAt(B+1))?(R=65536+((1023&R)<<10)+(1023&W.charCodeAt(++B)),Z[V++]=R>>18|240,Z[V++]=R>>12&63|128,Z[V++]=R>>6&63|128,Z[V++]=63&R|128):(Z[V++]=R>>12|224,Z[V++]=R>>6&63|128,Z[V++]=63&R|128)}return Z},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,Z){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let R=0;R<W.length;R+=3){const re=W[R],ke=R+1<W.length,tt=ke?W[R+1]:0,Nt=R+2<W.length,ct=Nt?W[R+2]:0;let Dn=(15&tt)<<2|ct>>6,Yt=63&ct;Nt||(Yt=64,ke||(Dn=64)),B.push(V[re>>2],V[(3&re)<<4|tt>>4],V[Dn],V[Yt])}return B.join("")},encodeString(W,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(W):this.encodeByteArray(J(W),Z)},decodeString(W,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(W):function(W){const Z=[];let V=0,B=0;for(;V<W.length;){const R=W[V++];if(R<128)Z[B++]=String.fromCharCode(R);else if(R>191&&R<224){const re=W[V++];Z[B++]=String.fromCharCode((31&R)<<6|63&re)}else if(R>239&&R<365){const Nt=((7&R)<<18|(63&W[V++])<<12|(63&W[V++])<<6|63&W[V++])-65536;Z[B++]=String.fromCharCode(55296+(Nt>>10)),Z[B++]=String.fromCharCode(56320+(1023&Nt))}else{const re=W[V++],ke=W[V++];Z[B++]=String.fromCharCode((15&R)<<12|(63&re)<<6|63&ke)}}return Z.join("")}(this.decodeStringToByteArray(W,Z))},decodeStringToByteArray(W,Z){this.init_();const V=Z?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let R=0;R<W.length;){const re=V[W.charAt(R++)],tt=R<W.length?V[W.charAt(R)]:0;++R;const ct=R<W.length?V[W.charAt(R)]:64;++R;const Ft=R<W.length?V[W.charAt(R)]:64;if(++R,null==re||null==tt||null==ct||null==Ft)throw new pe;B.push(re<<2|tt>>4),64!==ct&&(B.push(tt<<4&240|ct>>2),64!==Ft&&B.push(ct<<6&192|Ft))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(W){const Z=J(W);return Ie.encodeByteArray(Z,!0)},me=function(W){return Se(W).replace(/\./g,"")},H=function(W){try{return Ie.decodeString(W,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function q(W){return ue(void 0,W)}function ue(W,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return Z}for(const V in Z)!Z.hasOwnProperty(V)||!$e(V)||(W[V]=ue(W[V],Z[V]));return W}function $e(W){return"__proto__"!==W}const Ne=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=W&&H(W[1]);return Z&&JSON.parse(Z)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},vt=W=>{var Z,V;return null===(V=null===(Z=Ne())||void 0===Z?void 0:Z.emulatorHosts)||void 0===V?void 0:V[W]},mt=W=>{const Z=vt(W);if(!Z)return;const V=Z.lastIndexOf(":");if(V<=0||V+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const B=parseInt(Z.substring(V+1),10);return"["===Z[0]?[Z.substring(1,V-1),B]:[Z.substring(0,V),B]},oe=()=>{var W;return null===(W=Ne())||void 0===W?void 0:W.config},Me=W=>{var Z;return null===(Z=Ne())||void 0===Z?void 0:Z[`_${W}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,V)=>{this.resolve=Z,this.reject=V})}wrapCallback(Z){return(V,B)=>{V?this.reject(V):this.resolve(B),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(V):Z(V,B))}}}function De(W,Z){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=Z||"demo-project",R=W.iat||0,re=W.sub||W.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:R,exp:R+3600,auth_time:R,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},W);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(ke)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Ce(){var W;const Z=null===(W=Ne())||void 0===W?void 0:W.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function ot(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sn(){const W=We();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function mn(){return!0===O.NODE_CLIENT||!0===O.NODE_ADMIN}function dr(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((W,Z)=>{try{let V=!0;const B="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(B);R.onsuccess=()=>{R.result.close(),V||self.indexedDB.deleteDatabase(B),W(!0)},R.onupgradeneeded=()=>{V=!1},R.onerror=()=>{var re;Z((null===(re=R.error)||void 0===re?void 0:re.message)||"")}}catch(V){Z(V)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(Z,V,B){super(V),this.code=Z,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(Z,V,B){this.service=Z,this.serviceName=V,this.errors=B}create(Z,...V){const B=V[0]||{},R=`${this.service}/${Z}`,re=this.errors[Z],ke=re?function Qe(W,Z){return W.replace(Ke,(V,B)=>{const R=Z[B];return null!=R?String(R):`<${B}?>`})}(re,B):"Error";return new Re(R,`${this.serviceName}: ${ke} (${R}).`,B)}}const Ke=/\{\$([^}]+)}/g;function ln(W){return JSON.parse(W)}function xt(W){return JSON.stringify(W)}const Xt=function(W){let Z={},V={},B={},R="";try{const re=W.split(".");Z=ln(H(re[0])||""),V=ln(H(re[1])||""),R=re[2],B=V.d||{},delete V.d}catch{}return{header:Z,claims:V,data:B,signature:R}},kn=function(W){const V=Xt(W).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},bn=function(W){const Z=Xt(W).claims;return"object"==typeof Z&&!0===Z.admin};function Qn(W,Z){return Object.prototype.hasOwnProperty.call(W,Z)}function fn(W,Z){if(Object.prototype.hasOwnProperty.call(W,Z))return W[Z]}function Nr(W){for(const Z in W)if(Object.prototype.hasOwnProperty.call(W,Z))return!1;return!0}function rr(W,Z,V){const B={};for(const R in W)Object.prototype.hasOwnProperty.call(W,R)&&(B[R]=Z.call(V,W[R],R,W));return B}function Ln(W,Z){if(W===Z)return!0;const V=Object.keys(W),B=Object.keys(Z);for(const R of V){if(!B.includes(R))return!1;const re=W[R],ke=Z[R];if(Bn(re)&&Bn(ke)){if(!Ln(re,ke))return!1}else if(re!==ke)return!1}for(const R of B)if(!V.includes(R))return!1;return!0}function Bn(W){return null!==W&&"object"==typeof W}function jr(W){const Z=[];for(const[V,B]of Object.entries(W))Array.isArray(B)?B.forEach(R=>{Z.push(encodeURIComponent(V)+"="+encodeURIComponent(R))}):Z.push(encodeURIComponent(V)+"="+encodeURIComponent(B));return Z.length?"&"+Z.join("&"):""}function Rt(W){const Z={};return W.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[R,re]=B.split("=");Z[decodeURIComponent(R)]=decodeURIComponent(re)}}),Z}function pn(W){const Z=W.indexOf("?");if(!Z)return"";const V=W.indexOf("#",Z);return W.substring(Z,V>0?V:void 0)}class Lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,V){V||(V=0);const B=this.W_;if("string"==typeof Z)for(let Ft=0;Ft<16;Ft++)B[Ft]=Z.charCodeAt(V)<<24|Z.charCodeAt(V+1)<<16|Z.charCodeAt(V+2)<<8|Z.charCodeAt(V+3),V+=4;else for(let Ft=0;Ft<16;Ft++)B[Ft]=Z[V]<<24|Z[V+1]<<16|Z[V+2]<<8|Z[V+3],V+=4;for(let Ft=16;Ft<80;Ft++){const Dn=B[Ft-3]^B[Ft-8]^B[Ft-14]^B[Ft-16];B[Ft]=4294967295&(Dn<<1|Dn>>>31)}let ct,_n,R=this.chain_[0],re=this.chain_[1],ke=this.chain_[2],tt=this.chain_[3],Nt=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(ct=tt^re&(ke^tt),_n=1518500249):(ct=re^ke^tt,_n=1859775393):Ft<60?(ct=re&ke|tt&(re|ke),_n=2400959708):(ct=re^ke^tt,_n=3395469782);const Dn=(R<<5|R>>>27)+ct+Nt+_n+B[Ft]&4294967295;Nt=tt,tt=ke,ke=4294967295&(re<<30|re>>>2),re=R,R=Dn}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+Nt&4294967295}update(Z,V){if(null==Z)return;void 0===V&&(V=Z.length);const B=V-this.blockSize;let R=0;const re=this.buf_;let ke=this.inbuf_;for(;R<V;){if(0===ke)for(;R<=B;)this.compress_(Z,R),R+=this.blockSize;if("string"==typeof Z){for(;R<V;)if(re[ke]=Z.charCodeAt(R),++ke,++R,ke===this.blockSize){this.compress_(re),ke=0;break}}else for(;R<V;)if(re[ke]=Z[R],++ke,++R,ke===this.blockSize){this.compress_(re),ke=0;break}}this.inbuf_=ke,this.total_+=V}digest(){const Z=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&V,V/=256;this.compress_(this.buf_);let B=0;for(let R=0;R<5;R++)for(let re=24;re>=0;re-=8)Z[B]=this.chain_[R]>>re&255,++B;return Z}}function gt(W,Z){const V=new br(W,Z);return V.subscribe.bind(V)}class br{constructor(Z,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{Z(this)}).catch(B=>{this.error(B)})}next(Z){this.forEachObserver(V=>{V.next(Z)})}error(Z){this.forEachObserver(V=>{V.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,V,B){let R;if(void 0===Z&&void 0===V&&void 0===B)throw new Error("Missing Observer.");R=function Ut(W,Z){if("object"!=typeof W||null===W)return!1;for(const V of Z)if(V in W&&"function"==typeof W[V])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:V,complete:B},void 0===R.next&&(R.next=hr),void 0===R.error&&(R.error=hr),void 0===R.complete&&(R.complete=hr);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),re}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,Z)}sendOne(Z,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{V(this.observers[Z])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function Hr(W,Z){return`${W} failed: ${Z} argument `}const Ji=function(W){const Z=[];let V=0;for(let B=0;B<W.length;B++){let R=W.charCodeAt(B);if(R>=55296&&R<=56319){const re=R-55296;B++,c(B<W.length,"Surrogate pair missing trail surrogate."),R=65536+(re<<10)+(W.charCodeAt(B)-56320)}R<128?Z[V++]=R:R<2048?(Z[V++]=R>>6|192,Z[V++]=63&R|128):R<65536?(Z[V++]=R>>12|224,Z[V++]=R>>6&63|128,Z[V++]=63&R|128):(Z[V++]=R>>18|240,Z[V++]=R>>12&63|128,Z[V++]=R>>6&63|128,Z[V++]=63&R|128)}return Z},Zr=function(W){let Z=0;for(let V=0;V<W.length;V++){const B=W.charCodeAt(V);B<128?Z++:B<2048?Z+=2:B>=55296&&B<=56319?(Z+=4,V++):Z+=3}return Z},Fn=1e3,ye=2,K=144e5,we=.5;function je(W,Z=Fn,V=ye){const B=Z*Math.pow(V,W),R=Math.round(we*B*(Math.random()-.5)*2);return Math.min(K,B+R)}function un(W){return W&&W._delegate?W._delegate:W}},4153:(_t,xe,U)=>{var O={};U.r(O),U.d(O,{afterMain:()=>t1,afterRead:()=>Lv,afterWrite:()=>eC,applyStyles:()=>Fv,arrow:()=>l1,auto:()=>em,basePlacements:()=>Ju,beforeMain:()=>e1,beforeRead:()=>XI,beforeWrite:()=>rm,bottom:()=>Fs,clippingParents:()=>QE,computeStyles:()=>Bv,createPopper:()=>dC,createPopperBase:()=>dm,createPopperLite:()=>SP,detectOverflow:()=>Aa,end:()=>tm,eventListeners:()=>sC,flip:()=>oC,hide:()=>lC,left:()=>Wi,main:()=>JE,modifierPhases:()=>im,offset:()=>Zv,placements:()=>Ia,popper:()=>Hd,popperGenerator:()=>cm,popperOffsets:()=>_1,preventOverflow:()=>v1,read:()=>JI,reference:()=>XE,right:()=>po,start:()=>el,top:()=>hs,variationPlacements:()=>nm,viewport:()=>kv,write:()=>If});var c=U(5879);let k=null;function J(){return k}class Ie{}const pe=new c.OlP("DocumentToken");let Se=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(H)},providedIn:"platform"}),e})();const me=new c.OlP("Location Initialized");let H=(()=>{var t;class e extends Se{constructor(){super(),this._doc=(0,c.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(r){const i=J().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=J().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,a){this._history.pushState(r,i,a)}replaceState(r,i,a){this._history.replaceState(r,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function q(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ue(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $e(t){return t&&"?"!==t[0]?"?"+t:t}let Pe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(Le)},providedIn:"root"}),e})();const et=new c.OlP("appBaseHref");let Le=(()=>{var t;class e extends Pe{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return q(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${i}${a}`:i}pushState(r,i,a,l){const f=this.prepareExternalUrl(a+$e(l));this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,l){const f=this.prepareExternalUrl(a+$e(l));this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Se),c.LFG(et,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),it=(()=>{var t;class e extends Pe{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=q(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,a,l){let f=this.prepareExternalUrl(a+$e(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,l){let f=this.prepareExternalUrl(a+$e(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Se),c.LFG(et,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})(),Ne=(()=>{var t;class e{constructor(r){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Me(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(ue(oe(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$e(i))}normalize(r){return e.stripTrailingSlash(function mt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,oe(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",a=null){this._locationStrategy.pushState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$e(i)),a)}replaceState(r,i="",a=null){this._locationStrategy.replaceState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$e(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(a=>a(r,i))}subscribe(r,i,a){return this._subject.subscribe({next:r,error:i,complete:a})}}return(t=e).normalizeQueryParams=$e,t.joinWithSlash=q,t.stripTrailingSlash=ue,t.\u0275fac=function(r){return new(r||t)(c.LFG(Pe))},t.\u0275prov=c.Yz7({token:t,factory:function(){return function vt(){return new Ne((0,c.LFG)(Pe))}()},providedIn:"root"}),e})();function oe(t){return t.replace(/\/index.html$/,"")}var De=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(De||{}),ot=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ot||{});function Ve(t,e){const n=(0,c.cg1)(t),r=n[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ot.CurrencyDecimal)return n[c.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return n[c.wAp.NumberSymbols][ot.Group]}return r}const re=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $a(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Pu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class El{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,a){this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((a,l,f)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new El(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===l?void 0:l);else if(null!==l){const m=i.get(l);i.move(m,f),Ch(m,a)}});for(let a=0,l=i.length;a<l;a++){const m=i.get(a).context;m.index=a,m.count=l,m.ngForOf=this._ngForOf}r.forEachIdentityChange(a=>{Ch(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Ch(t,e){t.context.$implicit=e.item}let Za=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Kp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ai("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ai("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.s_b),c.Y36(c.Rgc))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Kp{constructor(){this.$implicit=null,this.ngIf=null}}function Ai(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function ci(t,e){return new c.vHH(2100,!1)}class Wr{createSubscription(e,n){return(0,c.rg0)(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){(0,c.rg0)(()=>e.unsubscribe())}}class bl{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Gc=new bl,Kc=new Wr;let xo=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if((0,c.QGY)(r))return Gc;if((0,c.F4k)(r))return Kc;throw ci()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.sBO,16))},t.\u0275pipe=c.Yjl({name:"async",type:t,pure:!1,standalone:!0}),e})(),$t=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,a){if(!function Qs(t){return!(null==t||""===t||t!=t)}(r))return null;a=a||this._locale;try{return function So(t,e,n){return function zr(t,e,n,r,i,a,l=!1){let f="",m=!1;if(isFinite(t)){let _=function sn(t){let r,i,a,l,f,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],l=0;a<=f;a++,l++)r[l]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);l&&(_=function $i(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(_));let b=e.minInt,A=e.minFrac,P=e.maxFrac;if(a){const Ge=a.match(re);if(null===Ge)throw new Error(`${a} is not a valid digit info`);const He=Ge[1],Oe=Ge[3],st=Ge[5];null!=He&&(b=$a(He)),null!=Oe&&(A=$a(Oe)),null!=st?P=$a(st):null!=Oe&&A>P&&(P=A)}!function Ba(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const a=Math.min(Math.max(e,i),n);let l=a+t.integerLen,f=r[l];if(l>0){r.splice(Math.max(t.integerLen,l));for(let A=l;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,l=a+1),r[0]=0;for(let A=1;A<l;A++)r[A]=0}if(f>=5)if(l-1<0){for(let A=0;A>l;A--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[l-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const _=e+t.integerLen,b=r.reduceRight(function(A,P,F,z){return z[F]=(P+=A)<10?P:P-10,m&&(0===z[F]&&F>=_?z.pop():m=!1),P>=10?1:0},0);b&&(r.unshift(b),t.integerLen++)}(_,A,P);let F=_.digits,z=_.integerLen;const te=_.exponent;let ne=[];for(m=F.every(Ge=>!Ge);z<b;z++)F.unshift(0);for(;z<0;z++)F.unshift(0);z>0?ne=F.splice(z,F.length):(ne=F,F=[0]);const Ae=[];for(F.length>=e.lgSize&&Ae.unshift(F.splice(-e.lgSize,F.length).join(""));F.length>e.gSize;)Ae.unshift(F.splice(-e.gSize,F.length).join(""));F.length&&Ae.unshift(F.join("")),f=Ae.join(Ve(n,r)),ne.length&&(f+=Ve(n,i)+ne.join("")),te&&(f+=Ve(n,ot.Exponential)+"+"+te)}else f=Ve(n,ot.Infinity);return f=t<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(t,function Bi(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],a=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=l[0],m=l[1]||"";n.posPre=f.substring(0,f.indexOf("#"));for(let b=0;b<m.length;b++){const A=m.charAt(b);"0"===A?n.minFrac=n.maxFrac=b+1:"#"===A?n.maxFrac=b+1:n.posSuf+=A}const _=f.split(",");if(n.gSize=_[1]?_[1].length:0,n.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,a){const b=i.length-n.posPre.length-n.posSuf.length,A=a.indexOf("#");n.negPre=a.substring(0,A).replace(/'/g,""),n.negSuf=a.slice(A+b).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Qe(t,e){return(0,c.cg1)(t)[c.wAp.NumberFormats][e]}(e,De.Decimal),Ve(e,ot.MinusSign)),e,ot.Group,ot.Decimal,n)}(function Dr(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),a,i)}catch(l){throw ci()}}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.soG,16))},t.\u0275pipe=c.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let ws=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),e})();function zn(t){return"server"===t}let Po=(()=>{var t;class e{}return(t=e).\u0275prov=(0,c.Yz7)({token:t,providedIn:"root",factory:()=>new Il((0,c.LFG)(pe),window)}),e})();class Il{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Oo(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Qa{}class Nh extends Ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ud extends Nh{static makeCurrent(){!function ae(t){k||(k=t)}(new ud)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function L_(){return xl=xl||document.querySelector("base"),xl?xl.getAttribute("href"):null}();return null==n?null:function ld(t){Ml=Ml||document.createElement("a"),Ml.setAttribute("href",t);const e=Ml.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Pu(document.cookie,e)}}let Ml,xl=null,cg=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const Rh=new c.OlP("EventManagerPlugins");let Pl=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(a=>{a.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(l=>l.supports(r)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Rh),c.LFG(c.R0b))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();class Ol{constructor(e){this._doc=e}}const ju="ng-app-id";let Ts=(()=>{var t;class e{constructor(r,i,a,l={}){this.doc=r,this.appId=i,this.nonce=a,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zn(l),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(a=>a.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${ju}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(r,i){const a=this.styleRef;if(a.has(r)){const l=a.get(r);return l.usage+=i,l.usage}return a.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const a=this.styleNodesInDOM,l=a?.get(i);if(l?.parentNode===r)return a.delete(i),l.removeAttribute(ju),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(ju,this.appId),f}}addStyleToHost(r,i){const a=this.getStyleElement(r,i);r.appendChild(a);const l=this.styleRef,f=l.get(i)?.elements;f?f.push(a):l.set(i,{elements:[a],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(pe),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const nu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ru=/%COMP%/g,kh=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Zu(t,e){return e.map(n=>n.replace(ru,t))}let ro=(()=>{var t;class e{constructor(r,i,a,l,f,m,_,b=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=m,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=zn(m),this.defaultRenderer=new Fr(r,f,_,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const a=this.getOrCreateRenderer(r,i);return a instanceof dd?a.applyToHost(r):a instanceof Rl&&a.applyStyles(),a}getOrCreateRenderer(r,i){const a=this.rendererByCompId;let l=a.get(i.id);if(!l){const f=this.doc,m=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:l=new dd(_,b,i,this.appId,A,f,m,P);break;case c.ifc.ShadowDom:return new mi(_,b,r,i,f,m,this.nonce,P);default:l=new Rl(_,b,i,A,f,m,P)}a.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Pl),c.LFG(Ts),c.LFG(c.AFp),c.LFG(kh),c.LFG(pe),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();class Fr{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ro(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ro(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new c.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const a=nu[i];a?e.setAttributeNS(a,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=nu[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(n,r,i&c.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&c.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=J().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Ro(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class mi extends Fr{constructor(e,n,r,i,a,l,f,m){super(e,a,l,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Zu(i.id,i.styles);for(const b of _){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=b,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rl extends Fr{constructor(e,n,r,i,a,l,f,m){super(e,a,l,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=m?Zu(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dd extends Rl{constructor(e,n,r,i,a,l,f,m){const _=i+"-"+r.id;super(e,n,r,a,l,f,m,_),this.contentAttr=function Nl(t){return"_ngcontent-%COMP%".replace(ru,t)}(_),this.hostAttr=function vn(t){return"_nghost-%COMP%".replace(ru,t)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let hd=(()=>{var t;class e extends Ol{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,a){return r.addEventListener(i,a,!1),()=>this.removeEventListener(r,i,a)}removeEventListener(r,i,a){return r.removeEventListener(i,a)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(pe))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const ko=["alt","control","meta","shift"],fg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},la={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pg=(()=>{var t;class e extends Ol{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,a){const l=e.parseEventName(i),f=e.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(r,l.domEventName,f))}static parseEventName(r){const i=r.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const l=e._normalizeKey(i.pop());let f="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),f="code."),ko.forEach(b=>{const A=i.indexOf(b);A>-1&&(i.splice(A,1),f+=b+".")}),f+=l,0!=i.length||0===l.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static matchEventFullKeyCode(r,i){let a=fg[r.key]||r.key,l="";return i.indexOf("code.")>-1&&(a=r.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ko.forEach(f=>{f!==a&&(0,la[f])(r)&&(l+=f+".")}),l+=a,l===i)}static eventCallback(r,i,a){return l=>{e.matchEventFullKeyCode(l,r)&&a.runGuarded(()=>i(l))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(pe))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const gg=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Fl(){ud.makeCurrent()},multi:!0},{provide:pe,useFactory:function fd(){return(0,c.RDi)(document),document},deps:[]}]),_r=new c.OlP(""),Lo=[{provide:c.rWj,useClass:class F_{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new c.vHH(5103,!1);return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(m){l=l||m,a--,0==a&&r(l)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?J().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ca=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function V_(){return new c.qLn},deps:[]},{provide:Rh,useClass:hd,multi:!0,deps:[pe,c.R0b,c.Lbi]},{provide:Rh,useClass:pg,multi:!0,deps:[pe]},ro,Ts,Pl,{provide:c.FYo,useExisting:ro},{provide:Qa,useClass:cg,deps:[]},[]];let Ul=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:c.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(_r,12))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[...ca,...Lo],imports:[ws,c.hGG]}),e})(),on=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(pe))},t.\u0275prov=c.Yz7({token:t,factory:function(r){let i=null;return i=r?new r:function Fe(){return new on((0,c.LFG)(pe))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;var _i=U(5592),Fo=U(4674),yn=U(2459),bt=U(2096),ni=U(5619);const{isArray:jl}=Array,{getPrototypeOf:ri,prototype:is,keys:qn}=Object;function ss(t){if(1===t.length){const e=t[0];if(jl(e))return{args:e,keys:null};if(function Cd(t){return t&&"object"==typeof t&&ri(t)===is}(e)){const n=qn(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var vi=U(2737),Vt=U(7398);const{isArray:wd}=Array;function pa(t){return(0,Vt.U)(e=>function fa(t,e){return wd(e)?t(...e):t(e)}(t,e))}var xi=U(4564);function os(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var er=U(8251),bd=U(7103);function Uo(...t){const e=(0,xi.yG)(t),n=(0,xi.jO)(t),{args:r,keys:i}=ss(t);if(0===r.length)return(0,yn.D)([],e);const a=new _i.y(function Dd(t,e,n=vi.y){return r=>{Hl(e,()=>{const{length:i}=t,a=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)Hl(e,()=>{const _=(0,yn.D)(t[m],e);let b=!1;_.subscribe((0,er.x)(r,A=>{a[m]=A,b||(b=!0,f--),f||r.next(n(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>os(i,l):vi.y));return n?a.pipe(pa(n)):a}function Hl(t,e,n){t?(0,bd.f)(n,t,e):e()}const zl=(0,U(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Gr=U(7537);function jh(...t){return function Wl(){return(0,Gr.J)(1)}()((0,yn.D)(t,(0,xi.yG)(t)))}var ga=U(4829);function zu(t){return new _i.y(e=>{(0,ga.Xf)(t()).subscribe(e)})}var vg=U(8407);function ql(t,e){const n=(0,Fo.m)(t)?t:()=>t,r=i=>i.error(n());return new _i.y(e?i=>e.schedule(r,0,i):r)}var Vo=U(6232),Id=U(7394),Mi=U(9360);function su(){return(0,Mi.e)((t,e)=>{let n=null;t._refCount++;const r=(0,er.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ma extends _i.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Id.w0;const n=this.getSubject();e.add(this.source.subscribe((0,er.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Id.w0.EMPTY)}return e}refCount(){return su()(this)}}var as=U(8645),jn=U(4664);function Bo(t){return t<=0?()=>Vo.E:(0,Mi.e)((e,n)=>{let r=0;e.subscribe((0,er.x)(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function io(...t){const e=(0,xi.yG)(t);return(0,Mi.e)((n,r)=>{(e?jh(t,n,e):jh(t,n)).subscribe(r)})}function us(t,e){return(0,Mi.e)((n,r)=>{let i=0;n.subscribe((0,er.x)(r,a=>t.call(e,a,i++)&&r.next(a)))})}var Kr=U(1631);function ou(t){return(0,Mi.e)((e,n)=>{let r=!1;e.subscribe((0,er.x)(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hh(t=Pi){return(0,Mi.e)((e,n)=>{let r=!1;e.subscribe((0,er.x)(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Pi(){return new zl}function Ms(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,a)=>t(i,a,r)):vi.y,Bo(1),n?ou(e):Hh(()=>new zl))}function Oi(t,e){return(0,Fo.m)(e)?(0,Kr.z)(t,e,1):(0,Kr.z)(t,1)}var or=U(9397);function Ps(t){return(0,Mi.e)((e,n)=>{let a,r=null,i=!1;r=e.subscribe((0,er.x)(n,void 0,void 0,l=>{a=(0,ga.Xf)(t(l,Ps(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function so(t,e){return(0,Mi.e)(function au(t,e,n,r,i){return(a,l)=>{let f=n,m=e,_=0;a.subscribe((0,er.x)(l,b=>{const A=_++;m=f?t(m,b,A):(f=!0,b),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(t,e,arguments.length>=2,!0))}function uu(t){return t<=0?()=>Vo.E:(0,Mi.e)((e,n)=>{let r=[];e.subscribe((0,er.x)(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function oo(t){return(0,Mi.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var lu=U(2420);const jt="primary",Os=Symbol("RouteTitle");class Td{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _a(t){return new Td(t)}function va(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=t[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ns(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!vr(t[i],e[i]))return!1;return!0}function vr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,a)=>r[a]===i)}return t===e}function $o(t){return t.length>0?t[t.length-1]:null}function ao(t){return function $l(t){return!!t&&(t instanceof _i.y||(0,Fo.m)(t.lift)&&(0,Fo.m)(t.subscribe))}(t)?t:(0,c.QGY)(t)?(0,yn.D)(Promise.resolve(t)):(0,bt.of)(t)}const uo={exact:function Ea(t,e,n){if(!ge(t.segments,e.segments)||!T(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Ea(t.children[r],e.children[r],n))return!1;return!0},subset:lo},Zh={exact:function Kl(t,e){return Ns(t,e)},subset:function cu(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vr(t[n],e[n]))},ignored:()=>!0};function zh(t,e,n){return uo[n.paths](t.root,e.root,n.matrixParams)&&Zh[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function lo(t,e,n){return w(t,e,e.segments,n)}function w(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ge(i,n)||e.hasChildren()||!T(i,n,r))}if(t.segments.length===n.length){if(!ge(t.segments,n)||!T(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!lo(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),a=n.slice(t.segments.length);return!!(ge(t.segments,i)&&T(t.segments,i,r)&&t.children[jt])&&w(t.children[jt],e,a,r)}}function T(t,e,n){return e.every((r,i)=>Zh[n](t[i].parameters,r.parameters))}class x{constructor(e=new $([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class ${constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class Y{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_a(this.parameters)),this._parameterMap}toString(){return jo(this)}}function ge(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Xe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return new yt},providedIn:"root"}),e})();class yt{parse(e){const n=new ND(e);return new x(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ir(e.root,!0)}`,r=function Yl(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Mn(n)}=${Mn(i)}`).join("&"):`${Mn(n)}=${Mn(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Ad(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Bt=new yt;function It(t){return t.segments.map(e=>jo(e)).join("/")}function Ir(t,e){if(!t.hasChildren())return It(t);if(e){const n=t.children[jt]?Ir(t.children[jt],!1):"",r=[];return Object.entries(t.children).forEach(([i,a])=>{i!==jt&&r.push(`${i}:${Ir(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function at(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===jt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==jt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===jt?[Ir(t.children[jt],!1)]:[`${i}:${Ir(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[jt]?`${It(t)}/${n[0]}`:`${It(t)}/(${n.join("//")})`}}function Tr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mn(t){return Tr(t).replace(/%3B/gi,";")}function Zi(t){return Tr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yi(t){return decodeURIComponent(t)}function Kn(t){return yi(t.replace(/\+/g,"%20"))}function jo(t){return`${Zi(t.path)}${function tE(t){return Object.keys(t).map(e=>`;${Zi(e)}=${Zi(t[e])}`).join("")}(t.parameters)}`}const Ql=/^[^\/()?;#]+/;function Xl(t){const e=t.match(Ql);return e?e[0]:""}const nE=/^[^\/()?;=#]+/,OD=/^[^=?&#]+/,yg=/^[^&#]+/;class ND{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[jt]=new $(e,n)),r}parseSegment(){const e=Xl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Y(yi(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function z_(t){const e=t.match(nE);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Xl(this.remaining);i&&(r=i,this.capture(r))}e[yi(n)]=yi(r)}parseQueryParam(e){const n=function ls(t){const e=t.match(OD);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function Jl(t){const e=t.match(yg);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Kn(n),a=Kn(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);const l=this.parseChildren();n[a]=1===Object.keys(l).length?l[jt]:new $([],l),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Wh(t){return t.segments.length>0?new $([],{[jt]:t}):t}function W_(t){const e={};for(const r of Object.keys(t.children)){const a=W_(t.children[r]);if(r===jt&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function rE(t){if(1===t.numberOfChildren&&t.children[jt]){const e=t.children[jt];return new $(t.segments.concat(e.segments),e.children)}return t}(new $(t.segments,e))}function C(t){return t instanceof x}function v(t){let e;const i=Wh(function n(a){const l={};for(const m of a.children){const _=n(m);l[m.outlet]=_}const f=new $(a.url,l);return a===t&&(e=f),f}(t.root));return e??i}function D(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return ee(i,i,i,n,r);const a=function ut(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ye(!0,0,t);let e=0,n=!1;const r=t.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([m,_])=>{f[m]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?n=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ye(n,e,r)}(e);if(a.toRoot())return ee(i,i,new $([],{}),n,r);const l=function en(t,e,n){if(t.isAbsolute)return new Dt(e,!0,0);if(!n)return new Dt(e,!1,NaN);if(null===n.parent)return new Dt(n,!0,0);const r=M(t.commands[0])?0:1;return function Ei(t,e,n){let r=t,i=e,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new Dt(r,!1,i-a)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(a,i,t),f=l.processChildren?tc(l.segmentGroup,l.index,a.commands):ec(l.segmentGroup,l.index,a.commands);return ee(i,l.segmentGroup,f,n,r)}function M(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function L(t){return"object"==typeof t&&null!=t&&t.outlets}function ee(t,e,n,r,i){let l,a={};r&&Object.entries(r).forEach(([m,_])=>{a[m]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`}),l=t===e?n:fe(t,e,n);const f=Wh(W_(l));return new x(f,a,i)}function fe(t,e,n){const r={};return Object.entries(t.children).forEach(([i,a])=>{r[i]=a===e?n:fe(a,e,n)}),new $(t.segments,r)}class Ye{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&M(r[0]))throw new c.vHH(4003,!1);const i=r.find(L);if(i&&i!==$o(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dt{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function ec(t,e,n){if(t||(t=new $([],{})),0===t.segments.length&&t.hasChildren())return tc(t,e,n);const r=function Eg(t,e,n){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return a;const l=t.segments[i],f=n[r];if(L(f))break;const m=`${f}`,_=r<n.length-1?n[r+1]:null;if(i>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!q_(m,_,l))return a;r+=2}else{if(!q_(m,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const a=new $(t.segments.slice(0,r.pathIndex),{});return a.children[jt]=new $(t.segments.slice(r.pathIndex),t.children),tc(a,0,i)}return r.match&&0===i.length?new $(t.segments,{}):r.match&&!t.hasChildren()?Ca(t,e,n):r.match?tc(t,0,i):Ca(t,e,n)}function tc(t,e,n){if(0===n.length)return new $(t.segments,{});{const r=function co(t){return L(t[0])?t[0].outlets:{[jt]:t}}(n),i={};if(Object.keys(r).some(a=>a!==jt)&&t.children[jt]&&1===t.numberOfChildren&&0===t.children[jt].segments.length){const a=tc(t.children[jt],e,n);return new $(t.segments,a.children)}return Object.entries(r).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[a]=ec(t.children[a],e,l))}),Object.entries(t.children).forEach(([a,l])=>{void 0===r[a]&&(i[a]=l)}),new $(t.segments,i)}}function Ca(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const a=n[i];if(L(a)){const m=nc(a.outlets);return new $(r,m)}if(0===i&&M(n[0])){r.push(new Y(t.segments[e].path,qh(n[0]))),i++;continue}const l=L(a)?a.outlets[jt]:`${a}`,f=i<n.length-1?n[i+1]:null;l&&f&&M(f)?(r.push(new Y(l,qh(f))),i+=2):(r.push(new Y(l,{})),i++)}return new $(r,{})}function nc(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ca(new $([],{}),0,r))}),e}function qh(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function q_(t,e,n){return t==n.path&&Ns(e,n.parameters)}const qu="imperative";class Rs{constructor(e,n){this.id=e,this.url=n}}class Gh extends Rs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class du extends Rs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gu extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rc extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Sd extends Rs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iE extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qx extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RD extends Rs{constructor(e,n,r,i,a){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class P2 extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kD extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sE{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G_{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LD{}class FD{constructor(e){this.url=e}}class k2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new K_,this.attachRef=null}}let K_=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const a=this.getOrCreateContext(r);a.outlet=i,this.contexts.set(r,a)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new k2,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class UD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Kh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Kh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yh(e,this._root).map(n=>n.value)}}function Kh(t,e){if(t===e.value)return e;for(const n of e.children){const r=Kh(t,n);if(r)return r}return null}function Yh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yh(t,n);if(r.length)return r.unshift(e),r}return[]}class hu{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oE extends UD{constructor(e,n){super(e),this.snapshot=n,aE(this,e)}toString(){return this.snapshot.toString()}}function Md(t,e){const n=function VD(t,e){const l=new Pd([],{},{},"",{},jt,e,null,{});return new BD("",new hu(l,[]))}(0,e),r=new ni.X([new Y("",{})]),i=new ni.X({}),a=new ni.X({}),l=new ni.X({}),f=new ni.X(""),m=new Ku(r,i,l,f,a,jt,e,n.root);return m.snapshot=n.root,new oE(new hu(m,[]),n)}class Ku{constructor(e,n,r,i,a,l,f,m){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,Vt.U)(_=>_[Os]))??(0,bt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>_a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>_a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Y_(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pd{get title(){return this.data?.[Os]}constructor(e,n,r,i,a,l,f,m,_){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BD extends UD{constructor(e,n){super(n),this.url=e,aE(this,n)}toString(){return $D(this._root)}}function aE(t,e){e.value._routerState=t,e.children.forEach(n=>aE(t,n))}function $D(t){const e=t.children.length>0?` { ${t.children.map($D).join(", ")} } `:"";return`${t.value}${e}`}function Q_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ns(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ns(e.params,n.params)||t.paramsSubject.next(n.params),function ya(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ns(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ns(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wg(t,e){const n=Ns(t.params,e.params)&&function ie(t,e){return ge(t,e)&&t.every((n,r)=>Ns(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wg(t.parent,e.parent))}let uE=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(K_),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(X_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:a}=r.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=r;const a=this.location,f=r.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new eM(r,m,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:_,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=c.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),e})();class eM{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ku?this.route:e===K_?this.childContexts:this.parent.get(e,n)}}const X_=new c.OlP("");let lE=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,a=Uo([i.queryParams,i.params,i.data]).pipe((0,jn.w)(([l,f,m],_)=>(m={...l,...f,...m},0===_?(0,bt.of)(m):Promise.resolve(m)))).subscribe(l=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const f=(0,c.qFp)(i.component);if(f)for(const{templateName:m}of f.inputs)r.activatedComponentRef.setInput(m,l[m]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,a)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();function bg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ks(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bg(t,r,i);return bg(t,r)})}(t,e,n);return new hu(r,i)}{if(t.shouldAttach(e.value)){const a=t.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>bg(t,f)),l}}const r=function cE(t){return new Ku(new ni.X(t.url),new ni.X(t.params),new ni.X(t.queryParams),new ni.X(t.fragment),new ni.X(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(a=>bg(t,a));return new hu(r,i)}}const J_="ngNavigationCancelingError";function ev(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=C(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ni(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Ni(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[J_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dE(t){return t&&t[J_]}let hE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(r,i){1&r&&c._UZ(0,"router-outlet")},dependencies:[uE],encapsulation:2}),e})();function Ig(t){const e=t.children&&t.children.map(Ig),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==jt&&(n.component=hE),n}function wa(t){return t.outlet||jt}function Ag(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ZD{constructor(e,n,r,i,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Q_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xd(n);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,n,l.children)}else this.deactivateChildRoutes(e,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=xd(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=xd(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=xd(n);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new R2(a.value.snapshot))}),e.children.length&&this.forwardEvent(new sE(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(Q_(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,l.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Q_(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Ag(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class pE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yu{constructor(e,n){this.component=e,this.route=n}}function tv(t,e,n){const r=t._root;return sc(r,e?e._root:null,n,[r.value])}function ic(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,c.Z0I)(t)?e.get(t):t:r}function sc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=xd(e);return t.children.forEach(l=>{(function oM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,l=e?e.value:null,f=n?n.getContext(t.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function aM(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ge(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ge(t.url,e.url)||!Ns(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(t,e)||!Ns(t.queryParams,e.queryParams);default:return!wg(t,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new pE(r)):(a.data=l.data,a._resolvedData=l._resolvedData),sc(t,e,a.component?f?f.children:null:n,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Yu(f.outlet.component,l))}else l&&Sg(e,f,i),i.canActivateChecks.push(new pE(r)),sc(t,null,a.component?f?f.children:null:n,r,i)})(l,a[l.value.outlet],n,r.concat([l.value]),i),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>Sg(f,n.getContext(l),i)),i}function Sg(t,e,n){const r=xd(t),i=t.value;Object.entries(r).forEach(([a,l])=>{Sg(l,i.component?e?e.children.getContext(a):null:e,n)}),n.canDeactivateChecks.push(new Yu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function xg(t){return"function"==typeof t}function rv(t){return t instanceof zl||"EmptyError"===t?.name}const Mg=Symbol("INITIAL_VALUE");function Ho(){return(0,jn.w)(t=>Uo(t.map(e=>e.pipe(Bo(1),io(Mg)))).pipe((0,Vt.U)(e=>{for(const n of e)if(!0!==n){if(n===Mg)return Mg;if(!1===n||n instanceof x)return n}return!0}),us(e=>e!==Mg),Bo(1)))}function sv(t){return(0,vg.z)((0,or.b)(e=>{if(C(e))throw ev(0,e)}),(0,Vt.U)(e=>!0===e))}class Od{constructor(e){this.segmentGroup=e||null}}class Qh{constructor(e){this.urlTree=e}}function Nd(t){return ql(new Od(t))}function ov(t){return ql(new Qh(t))}class _E{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new c.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,bt.of)(r);if(i.numberOfChildren>1||!i.children[jt])return ql(new c.vHH(4e3,!1));i=i.children[jt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const a=this.createSegmentGroup(e,n.root,r,i);return new x(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[i]=n[f]}else r[i]=a}),r}createSegmentGroup(e,n,r,i){const a=this.createSegments(e,n.segments,r,i);let l={};return Object.entries(n.children).forEach(([f,m])=>{l[f]=this.createSegmentGroup(e,m,r,i)}),new $(a,l)}createSegments(e,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new c.vHH(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Rd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fM(t,e,n,r,i){const a=uv(t,e,n);return a.matched?(r=function nM(t,e){return t.providers&&!t._injector&&(t._injector=(0,c.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function XD(t,e,n,r){const i=e.canMatch;if(!i||0===i.length)return(0,bt.of)(!0);const a=i.map(l=>{const f=ic(l,t);return ao(function mE(t){return t&&xg(t.canMatch)}(f)?f.canMatch(e,n):t.runInContext(()=>f(e,n)))});return(0,bt.of)(a).pipe(Ho(),sv())}(r,e,n).pipe((0,Vt.U)(l=>!0===l?a:{...Rd}))):(0,bt.of)(a)}function uv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Rd}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||va)(n,t,e);if(!i)return{...Rd};const a={};Object.entries(i.posParams??{}).forEach(([f,m])=>{a[f]=m.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function eI(t,e,n,r){return n.length>0&&function tI(t,e,n){return n.some(r=>kd(t,e,r)&&wa(r)!==jt)}(t,n,r)?{segmentGroup:new $(e,gM(r,new $(n,t.children))),slicedSegments:[]}:0===n.length&&function nI(t,e,n){return n.some(r=>kd(t,e,r))}(t,n,r)?{segmentGroup:new $(t.segments,pM(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $(t.segments,t.children),slicedSegments:n}}function pM(t,e,n,r,i){const a={};for(const l of r)if(kd(t,n,l)&&!i[wa(l)]){const f=new $([],{});a[wa(l)]=f}return{...i,...a}}function gM(t,e){const n={};n[jt]=e;for(const r of t)if(""===r.path&&wa(r)!==jt){const i=new $([],{});n[wa(r)]=i}return n}function kd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class _M{constructor(e,n,r,i,a,l,f){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new _E(this.urlSerializer,this.urlTree)}noMatchError(e){return new c.vHH(4002,!1)}recognize(){const e=eI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jt).pipe(Ps(n=>{if(n instanceof Qh)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Od?this.noMatchError(n):n}),(0,Vt.U)(n=>{const r=new Pd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),i=new hu(r,n),a=new BD("",i),l=function g(t,e,n=null,r=null){return D(v(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,jt).pipe(Ps(r=>{throw r instanceof Od?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Cg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,yn.D)(i).pipe(Oi(a=>{const l=r.children[a],f=function Tg(t,e){const n=t.filter(r=>wa(r)===e);return n.push(...t.filter(r=>wa(r)!==e)),n}(n,a);return this.processSegmentGroup(e,f,l,a)}),so((a,l)=>(a.push(...l),a)),ou(null),function Wu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,a)=>t(i,a,r)):vi.y,uu(1),n?ou(e):Hh(()=>new zl))}(),(0,Kr.z)(a=>{if(null===a)return Nd(r);const l=lv(a);return function j2(t){t.sort((e,n)=>e.value.outlet===jt?-1:n.value.outlet===jt?1:e.value.outlet.localeCompare(n.value.outlet))}(l),(0,bt.of)(l)}))}processSegment(e,n,r,i,a,l){return(0,yn.D)(n).pipe(Oi(f=>this.processSegmentAgainstRoute(f._injector??e,n,f,r,i,a,l).pipe(Ps(m=>{if(m instanceof Od)return(0,bt.of)(null);throw m}))),Ms(f=>!!f),Ps(f=>{if(rv(f))return function Xh(t,e,n){return 0===e.length&&!t.children[n]}(r,i,a)?(0,bt.of)([]):Nd(r);throw f}))}processSegmentAgainstRoute(e,n,r,i,a,l,f){return function vE(t,e,n,r){return!!(wa(t)===r||r!==jt&&kd(e,n,t))&&("**"===t.path||uv(e,t,n).matched)}(r,i,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,a,l):Nd(i):Nd(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ov(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Kr.z)(l=>{const f=new $(l,{});return this.processSegment(e,n,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,l){const{matched:f,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=uv(n,i,a);if(!f)return Nd(n);const A=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,b);return i.redirectTo.startsWith("/")?ov(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,Kr.z)(P=>this.processSegment(e,r,n,P.concat(_),l,!1)))}matchSegmentAgainstRoute(e,n,r,i,a,l){let f;if("**"===r.path){const m=i.length>0?$o(i).parameters:{},_=new Pd(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ld(r),wa(r),r.component??r._loadedComponent??null,r,Pg(r));f=(0,bt.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),n.children={}}else f=fM(n,r,i,e).pipe((0,Vt.U)(({matched:m,consumedSegments:_,remainingSegments:b,parameters:A})=>m?{snapshot:new Pd(_,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ld(r),wa(r),r.component??r._loadedComponent??null,r,Pg(r)),consumedSegments:_,remainingSegments:b}:null));return f.pipe((0,jn.w)(m=>null===m?Nd(n):this.getChildConfig(e=r._injector??e,r,i).pipe((0,jn.w)(({routes:_})=>{const b=r._loadedInjector??e,{snapshot:A,consumedSegments:P,remainingSegments:F}=m,{segmentGroup:z,slicedSegments:te}=eI(n,P,F,_);if(0===te.length&&z.hasChildren())return this.processChildren(b,_,z).pipe((0,Vt.U)(Ae=>null===Ae?null:[new hu(A,Ae)]));if(0===_.length&&0===te.length)return(0,bt.of)([new hu(A,[])]);const ne=wa(r)===a;return this.processSegment(b,_,z,te,ne?jt:a,!0).pipe((0,Vt.U)(Ae=>[new hu(A,Ae)]))}))))}getChildConfig(e,n,r){return n.children?(0,bt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,bt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function QD(t,e,n,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,bt.of)(!0);const a=i.map(l=>{const f=ic(l,t);return ao(function lM(t){return t&&xg(t.canLoad)}(f)?f.canLoad(e,n):t.runInContext(()=>f(e,n)))});return(0,bt.of)(a).pipe(Ho(),sv())}(e,n,r).pipe((0,Kr.z)(i=>i?this.configLoader.loadChildren(e,n).pipe((0,or.b)(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function JD(t){return ql(Ni(!1,3))}())):(0,bt.of)({routes:[],injector:e})}}function vM(t){const e=t.value.routeConfig;return e&&""===e.path}function lv(t){const e=[],n=new Set;for(const r of t){if(!vM(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=lv(r.children);e.push(new hu(r.value,i))}return e.filter(r=>!n.has(r))}function Ld(t){return t.data||{}}function Pg(t){return t.resolve||{}}function aI(t){return"string"==typeof t.title||null===t.title}function EE(t){return(0,jn.w)(e=>{const n=t(e);return n?(0,yn.D)(n).pipe((0,Vt.U)(()=>e)):(0,bt.of)(e)})}const Jh=new c.OlP("ROUTES");let CE=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,bt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ao(r.loadComponent()).pipe((0,Vt.U)(ef),(0,or.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),oo(()=>{this.componentLoaders.delete(r)})),a=new ma(i,()=>new as.x).pipe(su());return this.componentLoaders.set(r,a),a}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,bt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Vt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b;return Array.isArray(m)?b=m:(_=m.create(r).injector,b=_.get(Jh,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:b.map(Ig),injector:_}}),oo(()=>{this.childrenLoaders.delete(i)})),f=new ma(l,()=>new as.x).pipe(su());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(r){return ao(r()).pipe((0,Vt.U)(ef),(0,Kr.z)(i=>i instanceof c.YKP||Array.isArray(i)?(0,bt.of)(i):(0,yn.D)(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ef(t){return function oc(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cv=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new as.x,this.transitionAbortSubject=new as.x,this.configLoader=(0,c.f3M)(CE),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Xe),this.rootContexts=(0,c.f3M)(K_),this.inputBindingEnabled=null!==(0,c.f3M)(X_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,bt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new Xx(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new O2(a))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,a){return this.transitions=new ni.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qu,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(us(l=>0!==l.id),(0,Vt.U)(l=>({...l,extractedUrl:r.urlHandlingStrategy.extract(l.rawUrl)})),(0,jn.w)(l=>{this.currentTransition=l;let f=!1,m=!1;return(0,bt.of)(l).pipe((0,or.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jn.w)(_=>{const b=_.currentBrowserUrl.toString(),A=!r.navigated||_.extractedUrl.toString()!==b||b!==_.currentUrlTree.toString();if(!A&&"reload"!==(_.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const F="";return this.events.next(new rc(_.id,this.urlSerializer.serialize(_.rawUrl),F,0)),_.resolve(null),Vo.E}if(r.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return(0,bt.of)(_).pipe((0,jn.w)(F=>{const z=this.transitions?.getValue();return this.events.next(new Gh(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),z!==this.transitions?.getValue()?Vo.E:Promise.resolve(F)}),function yE(t,e,n,r,i,a){return(0,Kr.z)(l=>function mM(t,e,n,r,i,a,l="emptyOnly"){return new _M(t,e,n,r,i,l,a).recognize()}(t,e,n,r,l.extractedUrl,i,a).pipe((0,Vt.U)(({state:f,tree:m})=>({...l,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,or.b)(F=>{l.targetSnapshot=F.targetSnapshot,l.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const z=new iE(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(z)}));if(A&&r.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:F,extractedUrl:z,source:te,restoredState:ne,extras:Ae}=_,Ge=new Gh(F,this.urlSerializer.serialize(z),te,ne);this.events.next(Ge);const He=Md(0,this.rootComponentType).snapshot;return this.currentTransition=l={..._,targetSnapshot:He,urlAfterRedirects:z,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}},(0,bt.of)(l)}{const F="";return this.events.next(new rc(_.id,this.urlSerializer.serialize(_.extractedUrl),F,1)),_.resolve(null),Vo.E}}),(0,or.b)(_=>{const b=new Qx(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}),(0,Vt.U)(_=>(this.currentTransition=l={..._,guards:tv(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},l)),function qD(t,e){return(0,Kr.z)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=n;return 0===l.length&&0===a.length?(0,bt.of)({...n,guardsResult:!0}):function GD(t,e,n,r){return(0,yn.D)(t).pipe((0,Kr.z)(i=>function YD(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,bt.of)(!0);const l=a.map(f=>{const m=Ag(e)??i,_=ic(f,m);return ao(function gE(t){return t&&xg(t.canDeactivate)}(_)?_.canDeactivate(t,e,n,r):m.runInContext(()=>_(t,e,n,r))).pipe(Ms())});return(0,bt.of)(l).pipe(Ho())}(i.component,i.route,n,e,r)),Ms(i=>!0!==i,!0))}(l,r,i,t).pipe((0,Kr.z)(f=>f&&function uM(t){return"boolean"==typeof t}(f)?function dM(t,e,n,r){return(0,yn.D)(e).pipe(Oi(i=>jh(function iv(t,e){return null!==t&&e&&e(new Jx(t)),(0,bt.of)(!0)}(i.route.parent,r),function $2(t,e){return null!==t&&e&&e(new N2(t)),(0,bt.of)(!0)}(i.route,r),function KD(t,e,n){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function zD(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>zu(()=>{const f=l.guards.map(m=>{const _=Ag(l.node)??n,b=ic(m,_);return ao(function nv(t){return t&&xg(t.canActivateChild)}(b)?b.canActivateChild(r,t):_.runInContext(()=>b(r,t))).pipe(Ms())});return(0,bt.of)(f).pipe(Ho())}));return(0,bt.of)(a).pipe(Ho())}(t,i.path,n),function hM(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,bt.of)(!0);const i=r.map(a=>zu(()=>{const l=Ag(e)??n,f=ic(a,l);return ao(function WD(t){return t&&xg(t.canActivate)}(f)?f.canActivate(e,t):l.runInContext(()=>f(e,t))).pipe(Ms())}));return(0,bt.of)(i).pipe(Ho())}(t,i.route,n))),Ms(i=>!0!==i,!0))}(r,a,t,e):(0,bt.of)(f)),(0,Vt.U)(f=>({...n,guardsResult:f})))})}(this.environmentInjector,_=>this.events.next(_)),(0,or.b)(_=>{if(l.guardsResult=_.guardsResult,C(_.guardsResult))throw ev(0,_.guardsResult);const b=new RD(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(b)}),us(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",3),!1)),EE(_=>{if(_.guards.canActivateChecks.length)return(0,bt.of)(_).pipe((0,or.b)(b=>{const A=new P2(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}),(0,jn.w)(b=>{let A=!1;return(0,bt.of)(b).pipe(function rI(t,e){return(0,Kr.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,bt.of)(n);let a=0;return(0,yn.D)(i).pipe(Oi(l=>function iI(t,e,n,r){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!aI(i)&&(a[Os]=i.title),function sI(t,e,n,r){const i=function oI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return(0,bt.of)({});const a={};return(0,yn.D)(i).pipe((0,Kr.z)(l=>function yM(t,e,n,r){const i=Ag(e)??r,a=ic(t,i);return ao(a.resolve?a.resolve(e,n):i.runInContext(()=>a(e,n)))}(t[l],e,n,r).pipe(Ms(),(0,or.b)(f=>{a[l]=f}))),uu(1),function Gl(t){return(0,Vt.U)(()=>t)}(a),Ps(l=>rv(l)?Vo.E:ql(l)))}(a,t,e,r).pipe((0,Vt.U)(l=>(t._resolvedData=l,t.data=Cg(t,n).resolve,i&&aI(i)&&(t.data[Os]=i.title),null)))}(l.route,r,t,e)),(0,or.b)(()=>a++),uu(1),(0,Kr.z)(l=>a===i.length?(0,bt.of)(n):Vo.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,or.b)({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(b,"",2)}}))}),(0,or.b)(b=>{const A=new kD(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}))}),EE(_=>{const b=A=>{const P=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(A.routeConfig).pipe((0,or.b)(F=>{A.component=F}),(0,Vt.U)(()=>{})));for(const F of A.children)P.push(...b(F));return P};return Uo(b(_.targetSnapshot.root)).pipe(ou(),Bo(1))}),EE(()=>this.afterPreactivation()),(0,Vt.U)(_=>{const b=function tM(t,e,n){const r=bg(t,e._root,n?n._root:void 0);return new oE(r,e)}(r.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=l={..._,targetRouterState:b},l}),(0,or.b)(()=>{this.events.next(new LD)}),((t,e,n,r)=>(0,Vt.U)(i=>(new ZD(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),Bo(1),(0,or.b)({next:_=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new du(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),r.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{f=!0}}),function Z_(t){return(0,Mi.e)((e,n)=>{(0,ga.Xf)(t).subscribe((0,er.x)(n,()=>n.complete(),lu.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,or.b)(_=>{throw _}))),oo(()=>{f||m||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),Ps(_=>{if(m=!0,dE(_))this.events.next(new Gu(l.id,this.urlSerializer.serialize(l.extractedUrl),_.message,_.cancellationCode)),function Dg(t){return dE(t)&&C(t.url)}(_)?this.events.next(new FD(_.url)):l.resolve(!1);else{this.events.next(new Sd(l.id,this.urlSerializer.serialize(l.extractedUrl),_,l.targetSnapshot??void 0));try{l.resolve(r.errorHandler(_))}catch(b){l.reject(b)}}return Vo.E}))}))}cancelNavigationTransition(r,i,a){const l=new Gu(r.id,this.urlSerializer.serialize(r.extractedUrl),i,a);this.events.next(l),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EM(t){return t!==qu}let CM=(()=>{var t;class e{buildTitle(r){let i,a=r.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(l=>l.outlet===jt);return i}getResolvedTitleForRoute(r){return r.data[Os]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(Z2)},providedIn:"root"}),e})(),Z2=(()=>{var t;class e extends CM{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(on))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),z2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(uI)},providedIn:"root"}),e})();class W2{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let uI=(()=>{var t;class e extends W2{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const dv=new c.OlP("",{providedIn:"root",factory:()=>({})});let wM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(bM)},providedIn:"root"}),e})(),bM=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Og=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Og||{});function hv(t,e){t.events.pipe(us(n=>n instanceof du||n instanceof Gu||n instanceof Sd||n instanceof rc),(0,Vt.U)(n=>n instanceof du||n instanceof rc?Og.COMPLETE:n instanceof Gu&&(0===n.code||1===n.code)?Og.REDIRECTING:Og.FAILED),us(n=>n!==Og.REDIRECTING),Bo(1)).subscribe(()=>{e()})}function Qu(t){throw t}function Ng(t,e,n){return e.parse("/")}const lI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new as.x,this.options=(0,c.f3M)(dv,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||Qu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ng,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(wM),this.routeReuseStrategy=(0,c.f3M)(z2),this.titleStrategy=(0,c.f3M)(CM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Jh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(cv),this.urlSerializer=(0,c.f3M)(Xe),this.location=(0,c.f3M)(Ne),this.componentInputBindingEnabled=!!(0,c.f3M)(X_,{optional:!0}),this.eventsSubscription=new Id.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new x,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Md(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(DM(i)&&this._events.next(i));if(i instanceof Gh)EM(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof rc)this.rawUrlTree=a.rawUrl;else if(i instanceof iE){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(l,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof LD)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof Gu)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof FD){const l=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),f={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EM(a.source)};this.scheduleNavigation(l,qu,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Sd&&this.restoreHistory(a,!0),i instanceof du&&(this.navigated=!0),DM(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qu,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,a){const l={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const _={...a};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const m=this.parseUrl(r);this.scheduleNavigation(m,i,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:f;let P,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...l};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}null!==A&&(A=this.removeEmptyProps(A));try{P=v(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),P=this.currentUrlTree.root}return D(P,r,A,b??null)}navigateByUrl(r,i={skipLocationChange:!1}){const a=C(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,qu,null,i)}navigate(r,i={skipLocationChange:!1}){return function q2(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new c.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return i}isActive(r,i){let a;if(a=!0===i?{...lI}:!1===i?{...cI}:i,C(r))return zh(this.currentUrlTree,r,a);const l=this.parseUrl(r);return zh(this.currentUrlTree,l,a)}removeEmptyProps(r){return Object.keys(r).reduce((i,a)=>{const l=r[a];return null!=l&&(i[a]=l),i},{})}scheduleNavigation(r,i,a,l,f){if(this.disposed)return Promise.resolve(!1);let m,_,b;f?(m=f.resolve,_=f.reject,b=f.promise):b=new Promise((P,F)=>{m=P,_=F});const A=this.pendingTasks.add();return hv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:l,resolve:m,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(P=>Promise.reject(P))}setBrowserUrl(r,i){const a=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DM(t){return!(t instanceof LD||t instanceof FD)}let Ri=(()=>{var t;class e{constructor(r,i,a,l,f,m){this.router=r,this.route=i,this.tabIndexAttribute=a,this.renderer=l,this.el=f,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new as.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=r.events.subscribe(b=>{b instanceof du&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,a,l,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||a||l||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const a=this.renderer,l=this.el.nativeElement;null!==i?a.setAttribute(l,r,i):a.removeAttribute(l,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Ci),c.Y36(Ku),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Pe))},t.\u0275dir=c.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&c.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),e})();class IM{}let AM=(()=>{var t;class e{constructor(r,i,a,l,f){this.router=r,this.injector=a,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(us(r=>r instanceof du),Oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const a=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,r,`Route: ${l.path}`));const f=l._injector??r,m=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,yn.D)(a).pipe((0,Gr.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,bt.of)(null);const l=a.pipe((0,Kr.z)(f=>null===f?(0,bt.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,yn.D)([l,f]).pipe((0,Gr.J)())}return l})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Ci),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(IM),c.LFG(CE))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const DE=new c.OlP("");let dI=(()=>{var t;class e{constructor(r,i,a,l,f={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=a,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof du?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rc&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof G_&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new G_(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){c.$Z()},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();function Zo(t,e){return{\u0275kind:t,\u0275providers:e}}function fI(){const t=(0,c.f3M)(c.zs3);return e=>{const n=t.get(c.z2F);if(e!==n.components[0])return;const r=t.get(Ci),i=t.get(pI);1===t.get(kg)&&r.initialNavigation(),t.get(mI,null,c.XFs.Optional)?.setUpPreloading(),t.get(DE,null,c.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const pI=new c.OlP("",{factory:()=>new as.x}),kg=new c.OlP("",{providedIn:"root",factory:()=>1}),mI=new c.OlP("");function MM(t){return Zo(0,[{provide:mI,useExisting:AM},{provide:IM,useExisting:t}])}const tf=new c.OlP("ROUTER_FORROOT_GUARD"),_I=[Ne,{provide:Xe,useClass:yt},Ci,K_,{provide:Ku,useFactory:function IE(t){return t.routerState.root},deps:[Ci]},CE,[]];function vI(){return new c.PXZ("Router",Ci)}let Fg=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_I,[],{provide:Jh,multi:!0,useValue:r},{provide:tf,useFactory:EI,deps:[[Ci,new c.FiY,new c.tp0]]},{provide:dv,useValue:i||{}},i?.useHash?{provide:Pe,useClass:it}:{provide:Pe,useClass:Le},{provide:DE,useFactory:()=>{const t=(0,c.f3M)(Po),e=(0,c.f3M)(c.R0b),n=(0,c.f3M)(dv),r=(0,c.f3M)(cv),i=(0,c.f3M)(Xe);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dI(i,r,t,e,n)}},i?.preloadingStrategy?MM(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:vI},i?.initialNavigation?fv(i):[],i?.bindToComponentInputs?Zo(8,[lE,{provide:X_,useExisting:lE}]).\u0275providers:[],[{provide:NM,useFactory:fI},{provide:c.tb,multi:!0,useExisting:NM}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Jh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(tf,8))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),e})();function EI(t){return"guarded"}function fv(t){return["disabled"===t.initialNavigation?Zo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ci);return()=>{e.setUpLocationChangeListener()}}},{provide:kg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Zo(2,[{provide:kg,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const n=e.get(me,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Ci),a=e.get(pI);hv(i,()=>{r(!0)}),e.get(cv).afterPreactivation=()=>(r(!0),a.closed?(0,bt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const NM=new c.OlP("");let Ug=(()=>{var t;class e{constructor(r){this.router=r}getDiv(){this.router.navigate(["/contact-us"],{fragment:"map"})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Ci))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-header"]],decls:58,vars:0,consts:[[1,"header","shop"],[1,"topbar"],[1,"container"],[1,"row"],[1,"col-lg-5","col-md-12","col-12"],[1,"top-left"],[1,"list-main"],[1,"ti-headphone-alt"],[1,"ti-email"],[1,"col-lg-7","col-md-12","col-12"],[1,"right-content"],[1,"ti-location-pin"],[3,"click"],[1,"middle-inner"],[1,"col-lg-2","col-md-2","col-12"],[1,"logo"],["href","index.html"],["src","../../../assets/images/Logo_kemk_title.png","alt","logo"],[1,"mobile-nav"],[1,"col-lg-8","col-md-7","col-12"],[1,"header-inner"],[1,"cat-nav-head"],[1,"col-lg-3"],[1,"all-category"],[1,"cat-heading"],[1,"col-lg-9","col-12"],[1,"menu-area"],[1,"navbar","navbar-expand-lg"],[1,"navbar-collapse"],[1,"nav-inner"],[1,"nav","main-menu","menu","navbar-nav"],["routerLink","/products"],["routerLink","/about-us"],["routerLink","/contact-us"],["routerLink","/spec"],["target","_blank","href","https://www.facebook.com/people/Pufebi/100063695595329/"]],template:function(r,i){1&r&&(c.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul",6)(7,"li"),c._UZ(8,"i",7),c._uU(9," +995 599 16 36 99 "),c.qZA(),c.TgZ(10,"li"),c._UZ(11,"i",8),c._uU(12," support@penoplasti.ge "),c.qZA()()()(),c.TgZ(13,"div",9)(14,"div",10)(15,"ul",6)(16,"li"),c._UZ(17,"i",11),c.TgZ(18,"a",12),c.NdJ("click",function(){return i.getDiv()}),c._uU(19,"\u10da\u10dd\u10d9\u10d0\u10ea\u10d8\u10d0"),c.qZA()()()()()()()(),c.TgZ(20,"div",13)(21,"div",2)(22,"div",3)(23,"div",14)(24,"div",15)(25,"a",16),c._UZ(26,"img",17),c.qZA()(),c._UZ(27,"div",18),c.qZA(),c._UZ(28,"div",19),c.qZA()()(),c.TgZ(29,"div",20)(30,"div",2)(31,"div",21)(32,"div",3)(33,"div",22)(34,"div",23)(35,"h3",24),c._uU(36,"\u10e8\u10de\u10e1 \u10d9\u10d4\u10db\u10ee\u10d4\u10da\u10d8"),c.qZA()()(),c.TgZ(37,"div",25)(38,"div",26)(39,"nav",27)(40,"div",28)(41,"div",29)(42,"ul",30)(43,"li")(44,"a",31),c._uU(45,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(46,"li")(47,"a",32),c._uU(48,"\u10e9\u10d5\u10d4\u10dc\u10e1 \u10e8\u10d4\u10e1\u10d0\u10ee\u10d4\u10d1"),c.qZA()(),c.TgZ(49,"li")(50,"a",33),c._uU(51,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()(),c.TgZ(52,"li")(53,"a",34),c._uU(54,"\u10e1\u10de\u10d4\u10ea \u10e8\u10d4\u10d9\u10d5\u10d4\u10d7\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(55,"li")(56,"a",35),c._uU(57,"\u10de\u10e3\u10e4\u10d4\u10d1\u10d8"),c.qZA()()()()()()()()()()()()())},dependencies:[Ri]}),e})(),ho=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-footer"]],decls:68,vars:0,consts:[[1,"footer"],[1,"footer-top","section"],[1,"container"],[1,"row"],[1,"col-lg-5","col-md-6","col-12"],[1,"single-footer","about"],[1,"logo"],["href","index.html"],["src","../../../assets/images/Logo_kemk_title.png","alt","#"],[1,"text"],[1,"call"],["href","tel:599 16 36 99"],[1,"col-lg-2","col-md-6","col-12"],[1,"single-footer","links"],["routerLink","/about-us"],["routerLink","/contact-us"],[1,"col-lg-3","col-md-6","col-12"],[1,"single-footer","social"],[1,"contact"],["href","#"],[1,"ti-facebook"],[1,"ti-twitter"],[1,"ti-flickr"],[1,"ti-instagram"],[1,"copyright"],[1,"inner"],[1,"col-lg-6","col-12"],[1,"left"],["target","_blank"]],template:function(r,i){1&r&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),c._UZ(8,"img",8),c.qZA()(),c.TgZ(9,"p",9),c._uU(10,"Praesent dapibus, neque id cursus ucibus, tortor neque egestas augue, magna eros eu erat. Aliquam erat volutpat. Nam dui mi, tincidunt quis, accumsan porttitor, facilisis luctus, metus."),c.qZA(),c.TgZ(11,"p",10),c._uU(12,"\u10d9\u10d8\u10d7\u10ee\u10d5\u10d8\u10e1 \u10e8\u10d4\u10db\u10d7\u10ee\u10d5\u10d4\u10d5\u10d0\u10e8\u10d8 \u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.TgZ(13,"span")(14,"a",11),c._uU(15,"+995 599 16 36 99"),c.qZA()()()()(),c.TgZ(16,"div",12)(17,"div",13)(18,"h4"),c._uU(19,"\u10d8\u10dc\u10e4\u10dd\u10e0\u10db\u10d0\u10ea\u10d8\u10d0"),c.qZA(),c.TgZ(20,"ul")(21,"li")(22,"a",14),c._uU(23,"\u10e9\u10d5\u10d4\u10dc\u10e1 \u10e8\u10d4\u10e1\u10d0\u10ee\u10d4\u10d1"),c.qZA()(),c.TgZ(24,"li")(25,"a",15),c._uU(26,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()(),c.TgZ(27,"li")(28,"a",15),c._uU(29,"\u10d3\u10d0\u10ee\u10db\u10d0\u10e0\u10d4\u10d1\u10d0"),c.qZA()()()()(),c.TgZ(30,"div",16)(31,"div",17)(32,"h4"),c._uU(33,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA(),c.TgZ(34,"div",18)(35,"ul")(36,"li"),c._uU(37,"\u10d2\u10e0\u10d8\u10d2\u10dd\u10da \u10da\u10dd\u10e0\u10d7\u10e5\u10d8\u10e4\u10d0\u10dc\u10d8\u10eb\u10d8\u10e1 N8"),c.qZA(),c.TgZ(38,"li"),c._uU(39,"\u10d7\u10d1\u10d8\u10da\u10d8\u10e1\u10d8 \u10db\u10dd\u10e1\u10d9\u10dd\u10d5\u10d8\u10e1 \u10de\u10e0\u10dd\u10e1\u10de\u10d4\u10e5\u10e2\u10d8"),c.qZA(),c.TgZ(40,"li"),c._uU(41,"info@penoplasti.ge"),c.qZA(),c.TgZ(42,"li"),c._uU(43,"+995 599 16 36 99"),c.qZA()()(),c.TgZ(44,"ul")(45,"li")(46,"a",19),c._UZ(47,"i",20),c.qZA()(),c.TgZ(48,"li")(49,"a",19),c._UZ(50,"i",21),c.qZA()(),c.TgZ(51,"li")(52,"a",19),c._UZ(53,"i",22),c.qZA()(),c.TgZ(54,"li")(55,"a",19),c._UZ(56,"i",23),c.qZA()()()()()()()(),c.TgZ(57,"div",24)(58,"div",2)(59,"div",25)(60,"div",3)(61,"div",26)(62,"div",27)(63,"p"),c._uU(64,"Copyright \xa9 2023 "),c.TgZ(65,"a",28),c._uU(66,"saba"),c.qZA(),c._uU(67," - All Rights Reserved."),c.qZA()()()()()()()())},dependencies:[Ri]}),e})(),pv=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.Qsj),c.Y36(c.SBq))},t.\u0275dir=c.lG2({type:t}),e})(),fu=(()=>{var t;class e extends pv{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,features:[c.qOj]}),e})();const ii=new c.OlP("NgValueAccessor"),gv={provide:ii,useExisting:(0,c.Gpc)(()=>rf),multi:!0};let rf=(()=>{var t;class e extends fu{writeValue(r){this.setProperty("checked",r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&c.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[c._Bn([gv]),c.qOj]}),e})();const FM={provide:ii,useExisting:(0,c.Gpc)(()=>fo),multi:!0},wI=new c.OlP("CompositionEventMode");let fo=(()=>{var t;class e extends pv{constructor(r,i,a){super(r,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function UM(){const t=J()?J().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wI,8))},t.\u0275dir=c.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([FM]),c.qOj]}),e})();function ac(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const zi=new c.OlP("NgValidators"),pu=new c.OlP("NgAsyncValidators");function VM(t){return ac(t.value)?{required:!0}:null}function Fd(t){return null}function AI(t){return null!=t}function _v(t){return(0,c.QGY)(t)?(0,yn.D)(t):t}function vv(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Ud(t,e){return e.map(n=>n(t))}function yv(t){return t.map(e=>function xE(t){return!t.validate}(e)?e:n=>e.validate(n))}function af(t){return null!=t?function sf(t){if(!t)return null;const e=t.filter(AI);return 0==e.length?null:function(n){return vv(Ud(n,e))}}(yv(t)):null}function Vg(t){return null!=t?function Vd(t){if(!t)return null;const e=t.filter(AI);return 0==e.length?null:function(n){return function LM(...t){const e=(0,xi.jO)(t),{args:n,keys:r}=ss(t),i=new _i.y(a=>{const{length:l}=n;if(!l)return void a.complete();const f=new Array(l);let m=l,_=l;for(let b=0;b<l;b++){let A=!1;(0,ga.Xf)(n[b]).subscribe((0,er.x)(a,P=>{A||(A=!0,_--),f[b]=P},()=>m--,void 0,()=>{(!m||!A)&&(_||a.next(r?os(r,f):f),a.complete())}))}});return e?i.pipe(pa(e)):i}(Ud(n,e).map(_v)).pipe((0,Vt.U)(vv))}}(yv(t)):null}function Ev(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Bg(t){return t._rawValidators}function HM(t){return t._rawAsyncValidators}function $g(t){return t?Array.isArray(t)?t:[t]:[]}function uc(t,e){return Array.isArray(t)?t.includes(e):t===e}function SI(t,e){const n=$g(e);return $g(t).forEach(i=>{uc(n,i)||n.push(i)}),n}function ME(t,e){return $g(e).filter(n=>!uc(t,n))}class xI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=af(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class cs extends xI{get formDirective(){return null}get path(){return null}}class gu extends xI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jg=(()=>{var t;class e extends PE{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(gu,2))},t.\u0275dir=c.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),e})(),lc=(()=>{var t;class e extends PE{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(cs,10))},t.\u0275dir=c.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),e})();const cf="VALID",Dv="INVALID",df="PENDING",Zg="DISABLED";function Iv(t){return(hf(t)?t.validators:t)||null}function zg(t,e){return(hf(e)?e.asyncValidators:t)||null}function hf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function RE(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[n])throw new c.vHH(1001,"")}function OI(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new c.vHH(1002,"")})}class Tv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cf}get invalid(){return this.status===Dv}get pending(){return this.status==df}get disabled(){return this.status===Zg}get enabled(){return this.status!==Zg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ME(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ME(e,this._rawAsyncValidators))}hasValidator(e){return uc(this._rawValidators,e)}hasAsyncValidator(e){return uc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=df,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=cf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cf||this.status===df)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zg:cf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=df,this._hasOwnPendingAsyncValidator=!0;const n=_v(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Zg:this.errors?Dv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(df)?df:this._anyControlsHaveStatus(Dv)?Dv:cf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function PI(t){return Array.isArray(t)?af(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oU(t){return Array.isArray(t)?Vg(t):t||null}(this._rawAsyncValidators)}}class ff extends Tv{constructor(e,n,r){super(Iv(n),zg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){OI(this,0,e),Object.keys(e).forEach(r=>{RE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,a)=>{r=n(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class NI extends ff{}const pf=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gf}),gf="always";function Wg(t,e){return[...e.path,t]}function ds(t,e,n=gf){mu(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function GM(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&RI(t,e)})}(t,e),function FE(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function lU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&RI(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function LE(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function qg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function kE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mu(t,e){const n=Bg(t);null!==e.validator?t.setValidators(Ev(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=HM(t);null!==e.asyncValidator?t.setAsyncValidators(Ev(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();kE(e._rawValidators,i),kE(e._rawAsyncValidators,i)}function mf(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=Bg(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(n=!0,t.setValidators(a))}}if(null!==e.asyncValidator){const i=HM(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(n=!0,t.setAsyncValidators(a))}}}const r=()=>{};return kE(e._rawValidators,r),kE(e._rawAsyncValidators,r),n}function RI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ba(t,e){mu(t,e)}function UE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Av(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Sv(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===fo?n=a:function KM(t){return Object.getPrototypeOf(t.constructor)===fu}(a)?r=a:i=a}),i||r||n||null}const UI={provide:cs,useExisting:(0,c.Gpc)(()=>cc)},_f=(()=>Promise.resolve())();let cc=(()=>{var t;class e extends cs{constructor(r,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ff({},af(r),Vg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){_f.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ds(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){_f.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){_f.then(()=>{const i=this._findContainer(r.path),a=new ff({});ba(a,r),i.registerControl(r.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){_f.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){_f.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Av(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(zi,10),c.Y36(pu,10),c.Y36(pf,8))},t.\u0275dir=c.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([UI]),c.qOj]}),e})();function VI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function BI(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const vf=class extends Tv{constructor(e=null,n,r){super(Iv(n),zg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=BI(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){BI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},xv={provide:gu,useExisting:(0,c.Gpc)(()=>Ef)},BE=(()=>Promise.resolve())();let Ef=(()=>{var t;class e extends gu{constructor(r,i,a,l,f,m){super(),this._changeDetectorRef=f,this.callSetDisabledState=m,this.control=new vf,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=r,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=Sv(0,l)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),UE(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ds(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){BE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,a=0!==i&&(0,c.VuI)(i);BE.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Wg(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(cs,9),c.Y36(zi,10),c.Y36(pu,10),c.Y36(ii,10),c.Y36(c.sBO,8),c.Y36(pf,8))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([xv]),c.qOj,c.TTD]}),e})(),dc=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=c.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const XM={provide:ii,useExisting:(0,c.Gpc)(()=>$E),multi:!0};let $E=(()=>{var t;class e extends fu{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=i=>{r(""==i?null:parseFloat(i))}}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&c.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([XM]),c.qOj]}),e})(),tP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),e})();const Mv=new c.OlP("NgModelWithFormControlWarning"),vU={provide:cs,useExisting:(0,c.Gpc)(()=>Cf)};let Cf=(()=>{var t;class e extends cs{constructor(r,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return ds(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){qg(r.control||null,r,!1),function FI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Av(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,a=this.form.get(r.path);i!==a&&(qg(i||null,r),(t=>t instanceof vf)(a)&&(ds(a,r,this.callSetDisabledState),r.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);ba(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function kI(t,e){return mf(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mu(this.form,this),this._oldForm&&mf(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(zi,10),c.Y36(pu,10),c.Y36(pf,8))},t.\u0275dir=c.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([vU]),c.qOj,c.TTD]}),e})();const HI={provide:gu,useExisting:(0,c.Gpc)(()=>Yg)};let Yg=(()=>{var t;class e extends gu{set isDisabled(r){}constructor(r,i,a,l,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=Sv(0,l)}ngOnChanges(r){this._added||this._setUpControl(),UE(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Wg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(c.Y36(cs,13),c.Y36(zi,10),c.Y36(pu,10),c.Y36(ii,10),c.Y36(Mv,8))},t.\u0275dir=c.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([HI]),c.qOj,c.TTD]}),e})();const wf={provide:ii,useExisting:(0,c.Gpc)(()=>bf),multi:!0};function ZE(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bf=(()=>{var t;class e extends fu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const a=ZE(this._getOptionId(r),r);this.setProperty("value",a)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function iP(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&c.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([wf]),c.qOj]}),e})(),$d=(()=>{var t;class e{constructor(r,i,a){this._element=r,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(ZE(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(bf,9))},t.\u0275dir=c.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const zE={provide:ii,useExisting:(0,c.Gpc)(()=>Qg),multi:!0};function Df(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Qg=(()=>{var t;class e extends fu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const a=r.map(l=>this._getOptionId(l));i=(l,f)=>{l._setSelected(a.indexOf(f.toString())>-1)}}else i=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const a=[],l=i.selectedOptions;if(void 0!==l){const f=l;for(let m=0;m<f.length;m++){const b=this._getOptionValue(f[m].value);a.push(b)}}else{const f=i.options;for(let m=0;m<f.length;m++){const _=f[m];if(_.selected){const b=this._getOptionValue(_.value);a.push(b)}}}this.value=a,r(a)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function ZI(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&c.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([zE]),c.qOj]}),e})(),Ov=(()=>{var t;class e{constructor(r,i,a){this._element=r,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(Df(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Df(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Qg,9))},t.\u0275dir=c.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Nv(t){return"number"==typeof t?t:parseFloat(t)}let jd=(()=>{var t;class e{constructor(){this._validator=Fd}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Fd,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=c.lG2({type:t,features:[c.TTD]}),e})();const sP={provide:zi,useExisting:(0,c.Gpc)(()=>qE),multi:!0};let qE=(()=>{var t;class e extends jd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>Nv(r),this.createValidator=r=>function mv(t){return e=>{if(ac(e.value)||ac(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&c.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[c._Bn([sP]),c.qOj]}),e})();const WI={provide:zi,useExisting:(0,c.Gpc)(()=>GE),multi:!0};let GE=(()=>{var t;class e extends jd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>Nv(r),this.createValidator=r=>function SE(t){return e=>{if(ac(e.value)||ac(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&c.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[c._Bn([WI]),c.qOj]}),e})();const oP={provide:zi,useExisting:(0,c.Gpc)(()=>Xg),multi:!0};let Xg=(()=>{var t;class e extends jd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=r=>VM}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([oP]),c.qOj]}),e})();const yU={provide:zi,useExisting:(0,c.Gpc)(()=>Jg),multi:!0};let Jg=(()=>{var t;class e extends jd{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=r=>r,this.createValidator=r=>function jM(t){if(!t)return Fd;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ac(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(r)}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=c.n5z(t)))(i||t)}}(),t.\u0275dir=c.lG2({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&c.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([yU]),c.qOj]}),e})(),YI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[tP]}),e})();class YE extends Tv{constructor(e,n,r){super(Iv(n),zg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){OI(this,0,e),e.forEach((r,i)=>{RE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Rv(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let QI=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const a=this._reduceControls(r);let l={};return Rv(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new ff(a,l)}record(r,i=null){const a=this._reduceControls(r);return new NI(a,i)}control(r,i,a){let l={};return this.useNonNullable?(Rv(i)?l=i:(l.validators=i,l.asyncValidators=a),new vf(r,{...l,nonNullable:!0})):new vf(r,i,a)}array(r,i,a){const l=r.map(f=>this._createControl(f));return new YE(l,i,a)}_reduceControls(r){const i={};return Object.keys(r).forEach(a=>{i[a]=this._createControl(r[a])}),i}_createControl(r){return r instanceof vf||r instanceof Tv?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dP=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:pf,useValue:r.callSetDisabledState??gf}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[YI]}),e})(),_u=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Mv,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:pf,useValue:r.callSetDisabledState??gf}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[YI]}),e})(),Da=(()=>{var t;class e{constructor(r){this.router=r}getDiv(){this.router.navigate(["/contact-us"],{fragment:"map"})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Ci))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-header-without-categories"]],decls:66,vars:0,consts:[[1,"header","shop"],[1,"topbar"],[1,"container"],[1,"row"],[1,"col-lg-5","col-md-12","col-12"],[1,"top-left"],[1,"list-main"],[1,"ti-headphone-alt"],[1,"ti-email"],[1,"col-lg-7","col-md-12","col-12"],[1,"right-content"],[1,"ti-location-pin"],[3,"click"],[1,"middle-inner"],[1,"col-lg-2","col-md-2","col-12"],[1,"logo"],["href","index.html"],["src","../../../assets/images/Logo_kemk_title.png","alt","logo"],[1,"search-top"],[1,"top-search"],["href","#0"],[1,"ti-search"],[1,"search-form"],["type","text","placeholder","Search here...","name","search"],["value","search","type","submit"],[1,"mobile-nav"],[1,"col-lg-8","col-md-7","col-12"],[1,"header-inner"],[1,"cat-nav-head"],[1,"col-12"],[1,"menu-area"],[1,"navbar","navbar-expand-lg"],[1,"navbar-collapse"],[1,"nav-inner"],[1,"nav","main-menu","menu","navbar-nav"],["routerLink","/"],["routerLink","/products"],["routerLink","/about-us"],["routerLink","/contact-us"],["routerLink","/spec"],["target","_blank","href","https://www.facebook.com/people/Pufebi/100063695595329/"]],template:function(r,i){1&r&&(c.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul",6)(7,"li"),c._UZ(8,"i",7),c._uU(9," +995 599 16 36 99 "),c.qZA(),c.TgZ(10,"li"),c._UZ(11,"i",8),c._uU(12," support@penoplasti.ge "),c.qZA()()()(),c.TgZ(13,"div",9)(14,"div",10)(15,"ul",6)(16,"li"),c._UZ(17,"i",11),c.TgZ(18,"a",12),c.NdJ("click",function(){return i.getDiv()}),c._uU(19,"\u10da\u10dd\u10d9\u10d0\u10ea\u10d8\u10d0"),c.qZA()()()()()()()(),c.TgZ(20,"div",13)(21,"div",2)(22,"div",3)(23,"div",14)(24,"div",15)(25,"a",16),c._UZ(26,"img",17),c.qZA()(),c.TgZ(27,"div",18)(28,"div",19)(29,"a",20),c._UZ(30,"i",21),c.qZA()(),c.TgZ(31,"div",18)(32,"form",22),c._UZ(33,"input",23),c.TgZ(34,"button",24),c._UZ(35,"i",21),c.qZA()()()(),c._UZ(36,"div",25),c.qZA(),c._UZ(37,"div",26),c.qZA()()(),c.TgZ(38,"div",27)(39,"div",2)(40,"div",28)(41,"div",3)(42,"div",29)(43,"div",30)(44,"nav",31)(45,"div",32)(46,"div",33)(47,"ul",34)(48,"li")(49,"a",35),c._uU(50,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c.qZA()(),c.TgZ(51,"li")(52,"a",36),c._uU(53,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(54,"li")(55,"a",37),c._uU(56,"\u10e9\u10d5\u10d4\u10dc\u10e1 \u10e8\u10d4\u10e1\u10d0\u10ee\u10d4\u10d1"),c.qZA()(),c.TgZ(57,"li")(58,"a",38),c._uU(59,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()(),c.TgZ(60,"li")(61,"a",39),c._uU(62,"\u10e1\u10de\u10d4\u10ea \u10e8\u10d4\u10d9\u10d5\u10d4\u10d7\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(63,"li")(64,"a",40),c._uU(65,"\u10de\u10e3\u10e4\u10d4\u10d1\u10d8"),c.qZA()()()()()()()()()()()()())},dependencies:[Ri,dc,lc,cc]}),e})();var hs="top",Fs="bottom",po="right",Wi="left",em="auto",Ju=[hs,Fs,po,Wi],el="start",tm="end",QE="clippingParents",kv="viewport",Hd="popper",XE="reference",nm=Ju.reduce(function(t,e){return t.concat([e+"-"+el,e+"-"+tm])},[]),Ia=[].concat(Ju,[em]).reduce(function(t,e){return t.concat([e,e+"-"+el,e+"-"+tm])},[]),XI="beforeRead",JI="read",Lv="afterRead",e1="beforeMain",JE="main",t1="afterMain",rm="beforeWrite",If="write",eC="afterWrite",im=[XI,JI,Lv,e1,JE,t1,rm,If,eC];function tl(t){return t?(t.nodeName||"").toLowerCase():null}function go(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hc(t){return t instanceof go(t).Element||t instanceof Element}function mo(t){return t instanceof go(t).HTMLElement||t instanceof HTMLElement}function tC(t){return!(typeof ShadowRoot>"u")&&(t instanceof go(t).ShadowRoot||t instanceof ShadowRoot)}const Fv={name:"applyStyles",enabled:!0,phase:"write",fn:function hP(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},a=e.elements[n];!mo(a)||!tl(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var f=i[l];!1===f?a.removeAttribute(l):a.setAttribute(l,!0===f?"":f)}))})},effect:function n1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]).reduce(function(m,_){return m[_]="",m},{});!mo(i)||!tl(i)||(Object.assign(i.style,f),Object.keys(a).forEach(function(m){i.removeAttribute(m)}))})}},requires:["computeStyles"]};function Us(t){return t.split("-")[0]}var Zd=Math.max,sm=Math.min,zd=Math.round;function nC(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function r1(){return!/^((?!chrome|android).)*safari/i.test(nC())}function vu(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&mo(t)&&(i=t.offsetWidth>0&&zd(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&zd(r.height)/t.offsetHeight||1);var f=(hc(t)?go(t):window).visualViewport,m=!r1()&&n,_=(r.left+(m&&f?f.offsetLeft:0))/i,b=(r.top+(m&&f?f.offsetTop:0))/a,A=r.width/i,P=r.height/a;return{width:A,height:P,top:b,right:_+A,bottom:b+P,left:_,x:_,y:b}}function rC(t){var e=vu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function i1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&tC(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nl(t){return go(t).getComputedStyle(t)}function fP(t){return["table","td","th"].indexOf(tl(t))>=0}function fc(t){return((hc(t)?t.ownerDocument:t.document)||window.document).documentElement}function Uv(t){return"html"===tl(t)?t:t.assignedSlot||t.parentNode||(tC(t)?t.host:null)||fc(t)}function s1(t){return mo(t)&&"fixed"!==nl(t).position?t.offsetParent:null}function Tf(t){for(var e=go(t),n=s1(t);n&&fP(n)&&"static"===nl(n).position;)n=s1(n);return n&&("html"===tl(n)||"body"===tl(n)&&"static"===nl(n).position)?e:n||function pP(t){var e=/firefox/i.test(nC());if(/Trident/i.test(nC())&&mo(t)&&"fixed"===nl(t).position)return null;var i=Uv(t);for(tC(i)&&(i=i.host);mo(i)&&["html","body"].indexOf(tl(i))<0;){var a=nl(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(t)||e}function om(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function am(t,e,n){return Zd(t,sm(e,n))}function a1(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function u1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}const l1={name:"arrow",enabled:!0,phase:"main",fn:function mP(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,l=n.modifiersData.popperOffsets,f=Us(n.placement),m=om(f),b=[Wi,po].indexOf(f)>=0?"height":"width";if(a&&l){var A=function(e,n){return a1("number"!=typeof(e="function"==typeof e?e(Object.assign({},n.rects,{placement:n.placement})):e)?e:u1(e,Ju))}(i.padding,n),P=rC(a),F="y"===m?hs:Wi,z="y"===m?Fs:po,te=n.rects.reference[b]+n.rects.reference[m]-l[m]-n.rects.popper[b],ne=l[m]-n.rects.reference[m],Ae=Tf(a),Ge=Ae?"y"===m?Ae.clientHeight||0:Ae.clientWidth||0:0,pt=Ge/2-P[b]/2+(te/2-ne/2),qt=am(A[F],pt,Ge-P[b]-A[z]);n.modifiersData[r]=((e={})[m]=qt,e.centerOffset=qt-pt,e)}},effect:function _P(t){var e=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||i1(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wd(t){return t.split("-")[1]}var c1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yP(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,l=t.offsets,f=t.position,m=t.gpuAcceleration,_=t.adaptive,b=t.roundOffsets,A=t.isFixed,P=l.x,F=void 0===P?0:P,z=l.y,te=void 0===z?0:z,ne="function"==typeof b?b({x:F,y:te}):{x:F,y:te};F=ne.x,te=ne.y;var Ae=l.hasOwnProperty("x"),Ge=l.hasOwnProperty("y"),He=Wi,Oe=hs,st=window;if(_){var pt=Tf(n),qt="clientHeight",Rn="clientWidth";pt===go(n)&&"static"!==nl(pt=fc(n)).position&&"absolute"===f&&(qt="scrollHeight",Rn="scrollWidth"),(i===hs||(i===Wi||i===po)&&a===tm)&&(Oe=Fs,te-=(A&&pt===st&&st.visualViewport?st.visualViewport.height:pt[qt])-r.height,te*=m?1:-1),i!==Wi&&(i!==hs&&i!==Fs||a!==tm)||(He=po,F-=(A&&pt===st&&st.visualViewport?st.visualViewport.width:pt[Rn])-r.width,F*=m?1:-1)}var Ao,Gs=Object.assign({position:f},_&&c1),ml=!0===b?function vP(t,e){var r=t.y,i=e.devicePixelRatio||1;return{x:zd(t.x*i)/i||0,y:zd(r*i)/i||0}}({x:F,y:te},go(n)):{x:F,y:te};return F=ml.x,te=ml.y,Object.assign({},Gs,m?((Ao={})[Oe]=Ge?"0":"",Ao[He]=Ae?"0":"",Ao.transform=(st.devicePixelRatio||1)<=1?"translate("+F+"px, "+te+"px)":"translate3d("+F+"px, "+te+"px, 0)",Ao):((e={})[Oe]=Ge?te+"px":"",e[He]=Ae?F+"px":"",e.transform="",e))}const Bv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function d1(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,l=void 0===a||a,f=n.roundOffsets,m=void 0===f||f,_={placement:Us(e.placement),variation:Wd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,yP(Object.assign({},_,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:m})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,yP(Object.assign({},_,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var iC={passive:!0};const sC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $v(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,l=r.resize,f=void 0===l||l,m=go(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&_.forEach(function(b){b.addEventListener("scroll",n.update,iC)}),f&&m.addEventListener("resize",n.update,iC),function(){a&&_.forEach(function(b){b.removeEventListener("scroll",n.update,iC)}),f&&m.removeEventListener("resize",n.update,iC)}},data:{}};var EP={left:"right",right:"left",bottom:"top",top:"bottom"};function Af(t){return t.replace(/left|right|bottom|top/g,function(e){return EP[e]})}var CP={start:"end",end:"start"};function Ta(t){return t.replace(/start|end/g,function(e){return CP[e]})}function qd(t){var e=go(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wi(t){return vu(fc(t)).left+qd(t).scrollLeft}function Vs(t){var e=nl(t);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Hv(t){return["html","body","#document"].indexOf(tl(t))>=0?t.ownerDocument.body:mo(t)&&Vs(t)?t:Hv(Uv(t))}function yu(t,e){var n;void 0===e&&(e=[]);var r=Hv(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=go(r),l=i?[a].concat(a.visualViewport||[],Vs(r)?r:[]):r,f=e.concat(l);return i?f:f.concat(yu(Uv(l)))}function pc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Kd(t,e,n){return e===kv?pc(function Gd(t,e){var n=go(t),r=fc(t),i=n.visualViewport,a=r.clientWidth,l=r.clientHeight,f=0,m=0;if(i){a=i.width,l=i.height;var _=r1();(_||!_&&"fixed"===e)&&(f=i.offsetLeft,m=i.offsetTop)}return{width:a,height:l,x:f+wi(t),y:m}}(t,n)):hc(e)?function Sf(t,e){var n=vu(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):pc(function jv(t){var e,n=fc(t),r=qd(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=Zd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Zd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+wi(t),m=-r.scrollTop;return"rtl"===nl(i||n).direction&&(f+=Zd(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:f,y:m}}(fc(t)))}function Yd(t){var m,e=t.reference,n=t.element,r=t.placement,i=r?Us(r):null,a=r?Wd(r):null,l=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2;switch(i){case hs:m={x:l,y:e.y-n.height};break;case Fs:m={x:l,y:e.y+e.height};break;case po:m={x:e.x+e.width,y:f};break;case Wi:m={x:e.x-n.width,y:f};break;default:m={x:e.x,y:e.y}}var _=i?om(i):null;if(null!=_){var b="y"===_?"height":"width";switch(a){case el:m[_]=m[_]-(e[b]/2-n[b]/2);break;case tm:m[_]=m[_]+(e[b]/2-n[b]/2)}}return m}function Aa(t,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?t.placement:r,a=e.strategy,l=void 0===a?t.strategy:a,f=e.boundary,m=void 0===f?QE:f,_=e.rootBoundary,b=void 0===_?kv:_,A=e.elementContext,P=void 0===A?Hd:A,F=e.altBoundary,z=void 0!==F&&F,te=e.padding,ne=void 0===te?0:te,Ae=a1("number"!=typeof ne?ne:u1(ne,Ju)),He=t.rects.popper,Oe=t.elements[z?P===Hd?XE:Hd:P],st=function Mf(t,e,n,r){var i="clippingParents"===e?function xf(t){var e=yu(Uv(t)),r=["absolute","fixed"].indexOf(nl(t).position)>=0&&mo(t)?Tf(t):t;return hc(r)?e.filter(function(i){return hc(i)&&i1(i,r)&&"body"!==tl(i)}):[]}(t):[].concat(e),a=[].concat(i,[n]),f=a.reduce(function(m,_){var b=Kd(t,_,r);return m.top=Zd(b.top,m.top),m.right=sm(b.right,m.right),m.bottom=sm(b.bottom,m.bottom),m.left=Zd(b.left,m.left),m},Kd(t,a[0],r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}(hc(Oe)?Oe:Oe.contextElement||fc(t.elements.popper),m,b,l),pt=vu(t.elements.reference),qt=Yd({reference:pt,element:He,strategy:"absolute",placement:i}),Rn=pc(Object.assign({},He,qt)),cr=P===Hd?Rn:pt,Vi={top:st.top-cr.top+Ae.top,bottom:cr.bottom-st.bottom+Ae.bottom,left:st.left-cr.left+Ae.left,right:cr.right-st.right+Ae.right},Gs=t.modifiersData.offset;if(P===Hd&&Gs){var ml=Gs[i];Object.keys(Vi).forEach(function(Ao){var S_=[po,Fs].indexOf(Ao)>=0?1:-1,x_=[hs,Fs].indexOf(Ao)>=0?"y":"x";Vi[Ao]+=ml[x_]*S_})}return Vi}const oC={name:"flip",enabled:!0,phase:"main",fn:function f1(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,l=n.altAxis,f=void 0===l||l,m=n.fallbackPlacements,_=n.padding,b=n.boundary,A=n.rootBoundary,P=n.altBoundary,F=n.flipVariations,z=void 0===F||F,te=n.allowedAutoPlacements,ne=e.options.placement,Ae=Us(ne),He=m||(Ae!==ne&&z?function h1(t){if(Us(t)===em)return[];var e=Af(t);return[Ta(t),e,Ta(e)]}(ne):[Af(ne)]),Oe=[ne].concat(He).reduce(function(X0,Gp){return X0.concat(Us(Gp)===em?function Pf(t,e){void 0===e&&(e={});var i=e.boundary,a=e.rootBoundary,l=e.padding,f=e.flipVariations,m=e.allowedAutoPlacements,_=void 0===m?Ia:m,b=Wd(e.placement),A=b?f?nm:nm.filter(function(z){return Wd(z)===b}):Ju,P=A.filter(function(z){return _.indexOf(z)>=0});0===P.length&&(P=A);var F=P.reduce(function(z,te){return z[te]=Aa(t,{placement:te,boundary:i,rootBoundary:a,padding:l})[Us(te)],z},{});return Object.keys(F).sort(function(z,te){return F[z]-F[te]})}(e,{placement:Gp,boundary:b,rootBoundary:A,padding:_,flipVariations:z,allowedAutoPlacements:te}):Gp)},[]),st=e.rects.reference,pt=e.rects.popper,qt=new Map,Rn=!0,cr=Oe[0],Vi=0;Vi<Oe.length;Vi++){var Gs=Oe[Vi],ml=Us(Gs),Ao=Wd(Gs)===el,S_=[hs,Fs].indexOf(ml)>=0,x_=S_?"width":"height",Va=Aa(e,{placement:Gs,boundary:b,rootBoundary:A,altBoundary:P,padding:_}),_l=S_?Ao?po:Wi:Ao?Fs:hs;st[x_]>pt[x_]&&(_l=Af(_l));var Wx=Af(_l),M_=[];if(a&&M_.push(Va[ml]<=0),f&&M_.push(Va[_l]<=0,Va[Wx]<=0),M_.every(function(X0){return X0})){cr=Gs,Rn=!1;break}qt.set(Gs,M_)}if(Rn)for(var A2=function(Gp){var PD=Oe.find(function(Kx){var P_=qt.get(Kx);if(P_)return P_.slice(0,Gp).every(function(S2){return S2})});if(PD)return cr=PD,"break"},MD=z?3:1;MD>0&&"break"!==A2(MD);MD--);e.placement!==cr&&(e.modifiersData[r]._skip=!0,e.placement=cr,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function aC(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function uC(t){return[hs,po,Fs,Wi].some(function(e){return t[e]>=0})}const lC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function p1(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Aa(e,{elementContext:"reference"}),f=Aa(e,{altBoundary:!0}),m=aC(l,r),_=aC(f,i,a),b=uC(m),A=uC(_);e.modifiersData[n]={referenceClippingOffsets:m,popperEscapeOffsets:_,isReferenceHidden:b,hasPopperEscaped:A},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":A})}},Zv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function m1(t){var e=t.state,r=t.name,i=t.options.offset,a=void 0===i?[0,0]:i,l=Ia.reduce(function(b,A){return b[A]=function g1(t,e,n){var r=Us(t),i=[Wi,hs].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,l=a[0],f=a[1];return l=l||0,f=(f||0)*i,[Wi,po].indexOf(r)>=0?{x:f,y:l}:{x:l,y:f}}(A,e.rects,a),b},{}),f=l[e.placement],_=f.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f.x,e.modifiersData.popperOffsets.y+=_),e.modifiersData[r]=l}},_1={name:"popperOffsets",enabled:!0,phase:"read",fn:function wP(t){var e=t.state;e.modifiersData[t.name]=Yd({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},v1={name:"preventOverflow",enabled:!0,phase:"main",fn:function bP(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=void 0===i||i,l=n.altAxis,f=void 0!==l&&l,P=n.tether,F=void 0===P||P,z=n.tetherOffset,te=void 0===z?0:z,ne=Aa(e,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),Ae=Us(e.placement),Ge=Wd(e.placement),He=!Ge,Oe=om(Ae),st=function AU(t){return"x"===t?"y":"x"}(Oe),pt=e.modifiersData.popperOffsets,qt=e.rects.reference,Rn=e.rects.popper,cr="function"==typeof te?te(Object.assign({},e.rects,{placement:e.placement})):te,Vi="number"==typeof cr?{mainAxis:cr,altAxis:cr}:Object.assign({mainAxis:0,altAxis:0},cr),Gs=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ml={x:0,y:0};if(pt){if(a){var Ao,S_="y"===Oe?hs:Wi,x_="y"===Oe?Fs:po,Va="y"===Oe?"height":"width",_l=pt[Oe],Wx=_l+ne[S_],M_=_l-ne[x_],qx=F?-Rn[Va]/2:0,A2=Ge===el?qt[Va]:Rn[Va],MD=Ge===el?-Rn[Va]:-qt[Va],Gx=e.elements.arrow,X0=F&&Gx?rC(Gx):{width:0,height:0},Gp=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},PD=Gp[S_],Kx=Gp[x_],P_=am(0,qt[Va],X0[Va]),S2=He?qt[Va]/2-qx-P_-PD-Vi.mainAxis:A2-P_-PD-Vi.mainAxis,JX=He?-qt[Va]/2+qx+P_+Kx+Vi.mainAxis:MD+P_+Kx+Vi.mainAxis,x2=e.elements.arrow&&Tf(e.elements.arrow),eJ=x2?"y"===Oe?x2.clientTop||0:x2.clientLeft||0:0,$6=null!=(Ao=Gs?.[Oe])?Ao:0,nJ=_l+JX-$6,j6=am(F?sm(Wx,_l+S2-$6-eJ):Wx,_l,F?Zd(M_,nJ):M_);pt[Oe]=j6,ml[Oe]=j6-_l}if(f){var H6,O_=pt[st],Yx="y"===st?"height":"width",Z6=O_+ne["x"===Oe?hs:Wi],z6=O_-ne["x"===Oe?Fs:po],M2=-1!==[hs,Wi].indexOf(Ae),W6=null!=(H6=Gs?.[st])?H6:0,q6=M2?Z6:O_-qt[Yx]-Rn[Yx]-W6+Vi.altAxis,G6=M2?O_+qt[Yx]+Rn[Yx]-W6-Vi.altAxis:z6,K6=F&&M2?function Vv(t,e,n){var r=am(t,e,n);return r>n?n:r}(q6,O_,G6):am(F?q6:Z6,O_,F?G6:z6);pt[st]=K6,ml[st]=K6-O_}e.modifiersData[r]=ml}},requiresIfExists:["offset"]};function IP(t,e,n){void 0===n&&(n=!1);var r=mo(e),i=mo(e)&&function xU(t){var e=t.getBoundingClientRect(),n=zd(e.width)/t.offsetWidth||1,r=zd(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),a=fc(e),l=vu(t,i,n),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!n)&&(("body"!==tl(e)||Vs(a))&&(f=function DP(t){return t!==go(t)&&mo(t)?function SU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):qd(t)}(e)),mo(e)?((m=vu(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):a&&(m.x=wi(a))),{x:l.left+f.scrollLeft-m.x,y:l.top+f.scrollTop-m.y,width:l.width,height:l.height}}function TP(t){var e=new Map,n=new Set,r=[];function i(a){n.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(f){if(!n.has(f)){var m=e.get(f);m&&i(m)}}),r.push(a)}return t.forEach(function(a){e.set(a.name,a)}),t.forEach(function(a){n.has(a.name)||i(a)}),r}function cC(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}var zv={placement:"bottom",modifiers:[],strategy:"absolute"};function lm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function cm(t){void 0===t&&(t={});var n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?zv:i;return function(f,m,_){void 0===_&&(_=a);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},zv,a),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},A=[],P=!1,F={state:b,setOptions:function(Ae){var Ge="function"==typeof Ae?Ae(b.options):Ae;te(),b.options=Object.assign({},a,b.options,Ge),b.scrollParents={reference:hc(f)?yu(f):f.contextElement?yu(f.contextElement):[],popper:yu(m)};var He=function AP(t){var e=TP(t);return im.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}(function um(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}([].concat(r,b.options.modifiers)));return b.orderedModifiers=He.filter(function(Oe){return Oe.enabled}),function z(){b.orderedModifiers.forEach(function(ne){var Ge=ne.options,Oe=ne.effect;if("function"==typeof Oe){var st=Oe({state:b,name:ne.name,instance:F,options:void 0===Ge?{}:Ge});A.push(st||function(){})}})}(),F.update()},forceUpdate:function(){if(!P){var Ae=b.elements,Ge=Ae.reference,He=Ae.popper;if(lm(Ge,He)){b.rects={reference:IP(Ge,Tf(He),"fixed"===b.options.strategy),popper:rC(He)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(Vi){return b.modifiersData[Vi.name]=Object.assign({},Vi.data)});for(var Oe=0;Oe<b.orderedModifiers.length;Oe++)if(!0!==b.reset){var st=b.orderedModifiers[Oe],pt=st.fn,qt=st.options;"function"==typeof pt&&(b=pt({state:b,options:void 0===qt?{}:qt,name:st.name,instance:F})||b)}else b.reset=!1,Oe=-1}}},update:cC(function(){return new Promise(function(ne){F.forceUpdate(),ne(b)})}),destroy:function(){te(),P=!0}};if(!lm(f,m))return F;function te(){A.forEach(function(ne){return ne()}),A=[]}return F.setOptions(_).then(function(ne){!P&&_.onFirstUpdate&&_.onFirstUpdate(ne)}),F}}var dm=cm(),dC=cm({defaultModifiers:[sC,_1,Bv,Fv,Zv,oC,v1,l1,lC]}),SP=cm({defaultModifiers:[sC,_1,Bv,Fv]});const gc=new Map,hC={set(t,e,n){gc.has(t)||gc.set(t,new Map);const r=gc.get(t);r.has(e)||0===r.size?r.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,e)=>gc.has(t)&&gc.get(t).get(e)||null,remove(t,e){if(!gc.has(t))return;const n=gc.get(t);n.delete(e),0===n.size&&gc.delete(t)}},Of="transitionend",fm=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Wv=t=>{t.dispatchEvent(new Event(Of))},rl=t=>!(!t||"object"!=typeof t)&&(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),il=t=>rl(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(fm(t)):null,Nf=t=>{if(!rl(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||null===r)return!1}return e},mc=t=>!(t&&t.nodeType===Node.ELEMENT_NODE&&!t.classList.contains("disabled"))||(typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),pC=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?pC(t.parentNode):null},pm=()=>{},E1=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gC=[],_o=()=>"rtl"===document.documentElement.dir,Bs=t=>{(t=>{"loading"===document.readyState?(gC.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of gC)e()}),gC.push(t)):t()})(()=>{const e=E1();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},qi=(t,e=[],n=t)=>"function"==typeof t?t(...e):n,C1=(t,e,n=!0)=>{if(!n)return void qi(t);const i=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let a=!1;const l=({target:f})=>{f===e&&(a=!0,e.removeEventListener(Of,l),qi(t))};e.addEventListener(Of,l),setTimeout(()=>{a||Wv(e)},i)},kf=(t,e,n,r)=>{const i=t.length;let a=t.indexOf(e);return-1===a?!n&&r?t[i-1]:t[0]:(a+=n?1:-1,r&&(a=(a+i)%i),t[Math.max(0,Math.min(a,i-1))])},qv=/[^.]*(?=\..*)\.|.*/,mC=/\..*/,w1=/::\d+$/,_C={};let b1=1;const D1={mouseenter:"mouseover",mouseleave:"mouseout"},Gv=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function gm(t,e){return e&&`${e}::${b1++}`||t.uidEvent||b1++}function vC(t){const e=gm(t);return t.uidEvent=e,_C[e]=_C[e]||{},_C[e]}function T1(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function yC(t,e,n){const r="string"==typeof e,i=r?n:e||n;let a=CC(t);return Gv.has(a)||(a=t),[r,i,a]}function Kv(t,e,n,r,i){if("string"!=typeof e||!t)return;let[a,l,f]=yC(e,n,r);var z;e in D1&&(z=l,l=function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return z.call(this,te)});const m=vC(t),_=m[f]||(m[f]={}),b=T1(_,l,a?n:null);if(b)return void(b.oneOff=b.oneOff&&i);const A=gm(l,e.replace(qv,"")),P=a?function NP(t,e,n){return function r(i){const a=t.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const f of a)if(f===l)return Qv(i,{delegateTarget:l}),r.oneOff&&Ze.off(t,i.type,e,n),n.apply(l,[i])}}(t,n,l):function I1(t,e){return function n(r){return Qv(r,{delegateTarget:t}),n.oneOff&&Ze.off(t,r.type,e),e.apply(t,[r])}}(t,l);P.delegationSelector=a?n:null,P.callable=l,P.oneOff=i,P.uidEvent=A,_[A]=P,t.addEventListener(f,P,a)}function Yv(t,e,n,r,i){const a=T1(e[n],r,i);a&&(t.removeEventListener(n,a,!!i),delete e[n][a.uidEvent])}function EC(t,e,n,r){const i=e[n]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Yv(t,e,n,l.callable,l.delegationSelector)}function CC(t){return t=t.replace(mC,""),D1[t]||t}const Ze={on(t,e,n,r){Kv(t,e,n,r,!1)},one(t,e,n,r){Kv(t,e,n,r,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;const[i,a,l]=yC(e,n,r),f=l!==e,m=vC(t),_=m[l]||{},b=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(_).length)return;Yv(t,m,l,a,i?n:null)}else{if(b)for(const A of Object.keys(m))EC(t,m,A,e.slice(1));for(const[A,P]of Object.entries(_)){const F=A.replace(w1,"");(!f||e.includes(F))&&Yv(t,m,l,P.callable,P.delegationSelector)}}},trigger(t,e,n){if("string"!=typeof e||!t)return null;const r=E1();let l=null,f=!0,m=!0,_=!1;e!==CC(e)&&r&&(l=r.Event(e,n),r(t).trigger(l),f=!l.isPropagationStopped(),m=!l.isImmediatePropagationStopped(),_=l.isDefaultPrevented());const b=Qv(new Event(e,{bubbles:f,cancelable:!0}),n);return _&&b.preventDefault(),m&&t.dispatchEvent(b),b.defaultPrevented&&l&&l.preventDefault(),b}};function Qv(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get:()=>r})}return t}function wC(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Xv(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Eu={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Xv(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Xv(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=wC(t.dataset[r])}return e},getDataAttribute:(t,e)=>wC(t.getAttribute(`data-bs-${Xv(e)}`))};class mm{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=rl(n)?Eu.getDataAttribute(n,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...rl(n)?Eu.getDataAttributes(n):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const a=e[r],l=rl(a)?"element":null==(t=a)?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}var t}}class Sa extends mm{constructor(e,n){super(),(e=il(e))&&(this._element=e,this._config=this._getConfig(n),hC.set(this._element,this.constructor.DATA_KEY,this))}dispose(){hC.remove(this._element,this.constructor.DATA_KEY),Ze.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){C1(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return hC.get(il(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,"object"==typeof n?n:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const _m=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?fm(n.trim()):null}return e},Pt={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(n=>n.matches(e)),parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!mc(n)&&Nf(n))},getSelectorFromElement(t){const e=_m(t);return e&&Pt.findOne(e)?e:null},getElementFromSelector(t){const e=_m(t);return e?Pt.findOne(e):null},getMultipleElementsFromSelector(t){const e=_m(t);return e?Pt.find(e):[]}},vm=(t,e="hide")=>{const r=t.NAME;Ze.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),mc(this))return;const a=Pt.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(a)[e]()})},bC=".bs.alert",S1=`close${bC}`,x1=`closed${bC}`;class Qd extends Sa{static get NAME(){return"alert"}close(){if(Ze.trigger(this._element,S1).defaultPrevented)return;this._element.classList.remove("show");const n=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Ze.trigger(this._element,x1),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Qd.getOrCreateInstance(this);if("string"==typeof e){if(void 0===n[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);n[e](this)}})}}vm(Qd,"close"),Bs(Qd);const Jv='[data-bs-toggle="button"]';class Lf extends Sa{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const n=Lf.getOrCreateInstance(this);"toggle"===e&&n[e]()})}}Ze.on(document,"click.bs.button.data-api",Jv,t=>{t.preventDefault();const e=t.target.closest(Jv);Lf.getOrCreateInstance(e).toggle()}),Bs(Lf);const ym=".bs.swipe",UP=`touchstart${ym}`,VP=`touchmove${ym}`,O1=`touchend${ym}`,BP=`pointerdown${ym}`,si=`pointerup${ym}`,HP={endCallback:null,leftCallback:null,rightCallback:null},k1={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Em extends mm{constructor(e,n){super(),this._element=e,e&&Em.isSupported()&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return HP}static get DefaultType(){return k1}static get NAME(){return"swipe"}dispose(){Ze.off(this._element,ym)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),qi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const n=e/this._deltaX;this._deltaX=0,n&&qi(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ze.on(this._element,BP,e=>this._start(e)),Ze.on(this._element,si,e=>this._end(e)),this._element.classList.add("pointer-event")):(Ze.on(this._element,UP,e=>this._start(e)),Ze.on(this._element,VP,e=>this._move(e)),Ze.on(this._element,O1,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vc=".bs.carousel",IC=".data-api",Uf="next",yc="prev",fs="left",ey="right",zP=`slide${vc}`,zo=`slid${vc}`,xa=`keydown${vc}`,Ma=`mouseenter${vc}`,F1=`mouseleave${vc}`,U1=`dragstart${vc}`,WP=`load${vc}${IC}`,qP=`click${vc}${IC}`,V1="carousel",ty="active",$1=".active",AC=".carousel-item",j1=$1+AC,z1={ArrowLeft:ey,ArrowRight:fs},QP={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},XP={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ec extends Sa{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===V1&&this.cycle()}static get Default(){return QP}static get DefaultType(){return XP}static get NAME(){return"carousel"}next(){this._slide(Uf)}nextWhenVisible(){!document.hidden&&Nf(this._element)&&this.next()}prev(){this._slide(yc)}pause(){this._isSliding&&Wv(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Ze.one(this._element,zo,()=>this.cycle());this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding)return void Ze.one(this._element,zo,()=>this.to(e));const r=this._getItemIndex(this._getActive());r!==e&&this._slide(e>r?Uf:yc,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ze.on(this._element,xa,e=>this._keydown(e)),"hover"===this._config.pause&&(Ze.on(this._element,Ma,()=>this.pause()),Ze.on(this._element,F1,()=>this._maybeEnableCycle())),this._config.touch&&Em.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Pt.find(".carousel-item img",this._element))Ze.on(r,U1,i=>i.preventDefault());this._swipeHelper=new Em(this._element,{leftCallback:()=>this._slide(this._directionToOrder(fs)),rightCallback:()=>this._slide(this._directionToOrder(ey)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=z1[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Pt.findOne($1,this._indicatorsElement);n.classList.remove(ty),n.removeAttribute("aria-current");const r=Pt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(ty),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),i=e===Uf,a=n||kf(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),f=F=>Ze.trigger(this._element,F,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(f(zP).defaultPrevented||!r||!a)return;const _=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const b=i?"carousel-item-start":"carousel-item-end",A=i?"carousel-item-next":"carousel-item-prev";a.classList.add(A),r.classList.add(b),a.classList.add(b),this._queueCallback(()=>{a.classList.remove(b,A),a.classList.add(ty),r.classList.remove(ty,A,b),this._isSliding=!1,f(zo)},r,this._isAnimated()),_&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pt.findOne(j1,this._element)}_getItems(){return Pt.find(AC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return _o()?e===fs?yc:Uf:e===fs?Uf:yc}_orderToDirection(e){return _o()?e===yc?fs:ey:e===yc?ey:fs}static jQueryInterface(e){return this.each(function(){const n=Ec.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===n[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);n[e]()}}else n.to(e)})}}Ze.on(document,qP,"[data-bs-slide], [data-bs-slide-to]",function(t){const e=Pt.getElementFromSelector(this);if(!e||!e.classList.contains(V1))return;t.preventDefault();const n=Ec.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===Eu.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}),Ze.on(window,WP,()=>{const t=Pt.find('[data-bs-ride="carousel"]');for(const e of t)Ec.getOrCreateInstance(e)}),Bs(Ec);const Vf=".bs.collapse",G1=`show${Vf}`,K1=`shown${Vf}`,Y1=`hide${Vf}`,Q1=`hidden${Vf}`,X1=`click${Vf}.data-api`,SC="show",Bf="collapse",iy="collapsing",eO=`:scope .${Bf} .${Bf}`,xC='[data-bs-toggle="collapse"]',sO={parent:null,toggle:!0},oO={parent:"(null|element)",toggle:"boolean"};class wm extends Sa{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=Pt.find(xC);for(const i of r){const a=Pt.getSelectorFromElement(i),l=Pt.find(a).filter(f=>f===this._element);null!==a&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return sO}static get DefaultType(){return oO}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(f=>f!==this._element).map(f=>wm.getOrCreateInstance(f,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ze.trigger(this._element,G1).defaultPrevented)return;for(const f of e)f.hide();const r=this._getDimension();this._element.classList.remove(Bf),this._element.classList.add(iy),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iy),this._element.classList.add(Bf,SC),this._element.style[r]="",Ze.trigger(this._element,K1)},this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ze.trigger(this._element,Y1).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,this._element.classList.add(iy),this._element.classList.remove(Bf,SC);for(const i of this._triggerArray){const a=Pt.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[n]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iy),this._element.classList.add(Bf),Ze.trigger(this._element,Q1)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(SC)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=il(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(xC);for(const n of e){const r=Pt.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=Pt.find(eO,this._config.parent);return Pt.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle("collapsed",!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return"string"==typeof e&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=wm.getOrCreateInstance(this,n);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ze.on(document,X1,xC,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const e of Pt.getMultipleElementsFromSelector(this))wm.getOrCreateInstance(e,{toggle:!1}).toggle()}),Bs(wm);const J1="dropdown",Jd=".bs.dropdown",MC=".data-api",eT="ArrowUp",OC="ArrowDown",nT=`hide${Jd}`,rT=`hidden${Jd}`,iT=`show${Jd}`,sT=`shown${Jd}`,NC=`click${Jd}${MC}`,RC=`keydown${Jd}${MC}`,oT=`keyup${Jd}${MC}`,Wo="show",jf='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',aT=`${jf}.${Wo}`,bm=".dropdown-menu",dO=_o()?"top-end":"top-start",hO=_o()?"top-start":"top-end",Zf=_o()?"bottom-end":"bottom-start",fO=_o()?"bottom-start":"bottom-end",sy=_o()?"left-start":"right-start",oy=_o()?"right-start":"left-start",uT={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lT={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Cu extends Sa{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Pt.next(this._element,bm)[0]||Pt.prev(this._element,bm)[0]||Pt.findOne(bm,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uT}static get DefaultType(){return lT}static get NAME(){return J1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(mc(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ze.trigger(this._element,iT,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const r of[].concat(...document.body.children))Ze.on(r,"mouseover",pm);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wo),this._element.classList.add(Wo),Ze.trigger(this._element,sT,e)}}hide(){!mc(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ze.trigger(this._element,nT,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ze.off(r,"mouseover",pm);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wo),this._element.classList.remove(Wo),this._element.setAttribute("aria-expanded","false"),Eu.removeDataAttribute(this._menu,"popper"),Ze.trigger(this._element,rT,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!rl(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${J1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof O>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:rl(this._config.reference)?e=il(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=dC(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Wo)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return sy;if(e.classList.contains("dropstart"))return oy;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const n="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?n?hO:dO:n?fO:Zf}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof e?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Eu.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...qi(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const r=Pt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(i=>Nf(i));r.length&&kf(r,n,e===OC,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Cu.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const n=Pt.find(aT);for(const r of n){const i=Cu.getInstance(r);if(!i||!1===i._config.autoClose)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||"inside"===i._config.autoClose&&!l||"outside"===i._config.autoClose&&l||i._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const f={relatedTarget:i._element};"click"===e.type&&(f.clickEvent=e),i._completeHide(f)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=[eT,OC].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();const a=this.matches(jf)?this:Pt.prev(this,jf)[0]||Pt.next(this,jf)[0]||Pt.findOne(jf,e.delegateTarget.parentNode),l=Cu.getOrCreateInstance(a);if(i)return e.stopPropagation(),l.show(),void l._selectMenuItem(e);l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}}Ze.on(document,RC,jf,Cu.dataApiKeydownHandler),Ze.on(document,RC,bm,Cu.dataApiKeydownHandler),Ze.on(document,NC,Cu.clearMenus),Ze.on(document,oT,Cu.clearMenus),Ze.on(document,NC,jf,function(t){t.preventDefault(),Cu.getOrCreateInstance(this).toggle()}),Bs(Cu);const LC="backdrop",UC=`mousedown.bs.${LC}`,pO={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},gO={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class dT extends mm{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return pO}static get DefaultType(){return gO}static get NAME(){return LC}show(e){if(!this._config.isVisible)return void qi(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{qi(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),qi(e)})):qi(e)}dispose(){this._isAppended&&(Ze.off(this._element,UC),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=il(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ze.on(e,UC,()=>{qi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){C1(e,this._getElement(),this._config.isAnimated)}}const ay=".bs.focustrap",mO=`focusin${ay}`,uy=`keydown.tab${ay}`,VC="backward",_O={autofocus:!0,trapElement:null},Im={autofocus:"boolean",trapElement:"element"};class zf extends mm{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _O}static get DefaultType(){return Im}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ze.off(document,ay),Ze.on(document,mO,e=>this._handleFocusin(e)),Ze.on(document,uy,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ze.off(document,ay))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=Pt.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===VC?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?VC:"forward")}}const pT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gT=".sticky-top",ly="padding-right",BC="margin-right";class cy{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ly,n=>n+e),this._setElementAttributes(pT,ly,n=>n+e),this._setElementAttributes(gT,BC,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ly),this._resetElementAttributes(pT,ly),this._resetElementAttributes(gT,BC)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const i=this.getWidth();this._applyManipulationCallback(e,l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,n);const f=window.getComputedStyle(l).getPropertyValue(n);l.style.setProperty(n,`${r(Number.parseFloat(f))}px`)})}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&Eu.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){this._applyManipulationCallback(e,i=>{const a=Eu.getDataAttribute(i,n);null!==a?(Eu.removeDataAttribute(i,n),i.style.setProperty(n,a)):i.style.removeProperty(n)})}_applyManipulationCallback(e,n){if(rl(e))n(e);else for(const r of Pt.find(e,this._element))n(r)}}const vo=".bs.modal",$U=`hide${vo}`,jU=`hidePrevented${vo}`,EO=`hidden${vo}`,CO=`show${vo}`,_T=`shown${vo}`,dy=`resize${vo}`,wO=`click.dismiss${vo}`,bO=`mousedown.dismiss${vo}`,vT=`keydown.dismiss${vo}`,Tm=`click${vo}.data-api`,yT="modal-open",$C="modal-static",AO={backdrop:!0,focus:!0,keyboard:!0},Am={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wf extends Sa{constructor(e,n){super(e,n),this._dialog=Pt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cy,this._addEventListeners()}static get Default(){return AO}static get DefaultType(){return Am}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ze.trigger(this._element,CO,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ze.trigger(this._element,$U).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ze.off(window,vo),Ze.off(this._dialog,vo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new dT({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zf({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Pt.findOne(".modal-body",this._dialog);n&&(n.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ze.trigger(this._element,_T,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Ze.on(this._element,vT,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Ze.on(window,dy,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ze.on(this._element,bO,e=>{Ze.one(this._element,wO,n=>{if(this._element===e.target&&this._element===n.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yT),this._resetAdjustments(),this._scrollBar.reset(),Ze.trigger(this._element,EO)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ze.trigger(this._element,jU).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;"hidden"===r||this._element.classList.contains($C)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add($C),this._queueCallback(()=>{this._element.classList.remove($C),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const i=_o()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){const i=_o()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=Wf.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}Ze.on(document,Tm,'[data-bs-toggle="modal"]',function(t){const e=Pt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ze.one(e,CO,i=>{i.defaultPrevented||Ze.one(e,EO,()=>{Nf(this)&&this.focus()})});const n=Pt.findOne(".modal.show");n&&Wf.getInstance(n).hide(),Wf.getOrCreateInstance(e).toggle(this)}),vm(Wf),Bs(Wf);const wu=".bs.offcanvas",bT=".data-api",DT=`load${wu}${bT}`,IT="showing",AT=".offcanvas.show",xO=`show${wu}`,MO=`shown${wu}`,HC=`hide${wu}`,ST=`hidePrevented${wu}`,ZC=`hidden${wu}`,PO=`resize${wu}`,OO=`click${wu}${bT}`,NO=`keydown.dismiss${wu}`,kO={backdrop:!0,keyboard:!0,scroll:!1},LO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Cc extends Sa{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kO}static get DefaultType(){return LO}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Ze.trigger(this._element,xO,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cy).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(IT),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(IT),Ze.trigger(this._element,MO,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Ze.trigger(this._element,HC).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cy).reset(),Ze.trigger(this._element,ZC)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=!!this._config.backdrop;return new dT({className:"offcanvas-backdrop",isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?()=>{"static"!==this._config.backdrop?this.hide():Ze.trigger(this._element,ST)}:null})}_initializeFocusTrap(){return new zf({trapElement:this._element})}_addEventListeners(){Ze.on(this._element,NO,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();Ze.trigger(this._element,ST)}})}static jQueryInterface(e){return this.each(function(){const n=Cc.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ze.on(document,OO,'[data-bs-toggle="offcanvas"]',function(t){const e=Pt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),mc(this))return;Ze.one(e,ZC,()=>{Nf(this)&&this.focus()});const n=Pt.findOne(AT);n&&n!==e&&Cc.getInstance(n).hide(),Cc.getOrCreateInstance(e).toggle(this)}),Ze.on(window,DT,()=>{for(const t of Pt.find(AT))Cc.getOrCreateInstance(t).show()}),Ze.on(window,PO,()=>{for(const t of Pt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Cc.getOrCreateInstance(t).hide()}),vm(Cc),Bs(Cc);const zC={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xT=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),FO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,UO=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?!xT.has(n)||!!FO.test(t.nodeValue):e.filter(r=>r instanceof RegExp).some(r=>r.test(n))},BO={allowList:zC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$O={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},jO={entry:"(string|element|function|null)",selector:"(string|element)"};class WC extends mm{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return BO}static get DefaultType(){return $O}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},jO)}_setContent(e,n,r){const i=Pt.findOne(r,e);if(i){if(!(n=this._resolvePossibleFunction(n)))return void i.remove();if(rl(n))return void this._putElementInTemplate(il(n),i);if(this._config.html)return void(i.innerHTML=this._maybeSanitize(n));i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?function MT(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const f=l.nodeName.toLowerCase();if(!Object.keys(e).includes(f)){l.remove();continue}const m=[].concat(...l.attributes),_=[].concat(e["*"]||[],e[f]||[]);for(const b of m)UO(b,_)||l.removeAttribute(b.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return qi(e,[this])}_putElementInTemplate(e,n){if(this._config.html)return n.innerHTML="",void n.append(e);n.textContent=e.textContent}}const PT=new Set(["sanitize","allowList","sanitizeFn"]),Sm="fade",fy="show",KC="hide.bs.modal",Pa="hover",py="focus",UT={AUTO:"auto",TOP:"top",RIGHT:_o()?"left":"right",BOTTOM:"bottom",LEFT:_o()?"right":"left"},VT={allowList:zC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qf extends Sa{constructor(e,n){if(typeof O>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return VT}static get DefaultType(){return qO}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Ze.off(this._element.closest(".modal"),KC,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Ze.trigger(this._element,this.constructor.eventName("show")),r=(pC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),Ze.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(fy),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))Ze.on(f,"mouseover",pm);this._queueCallback(()=>{Ze.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Ze.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(fy),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ze.off(i,"mouseover",pm);this._activeTrigger.click=!1,this._activeTrigger[py]=!1,this._activeTrigger[Pa]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ze.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Sm,fy),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Sm),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new WC({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Sm)}_isShown(){return this.tip&&this.tip.classList.contains(fy)}_createPopper(e){const n=qi(this._config.placement,[this,e,this._element]),r=UT[n.toUpperCase()];return dC(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof e?n=>e(n,this._element):e}_resolvePossibleFunction(e){return qi(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...qi(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if("click"===n)Ze.on(this._element,this.constructor.eventName("click"),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if("manual"!==n){const r=this.constructor.eventName(n===Pa?"mouseenter":"focusin"),i=this.constructor.eventName(n===Pa?"mouseleave":"focusout");Ze.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger["focusin"===a.type?py:Pa]=!0,l._enter()}),Ze.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger["focusout"===a.type?py:Pa]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ze.on(this._element.closest(".modal"),KC,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Eu.getDataAttributes(this._element);for(const r of Object.keys(n))PT.has(r)&&delete n[r];return e={...n,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:il(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=qf.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Bs(qf);const qU={...qf.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$T={...qf.DefaultType,content:"(null|string|element|function)"};class JC extends qf{static get Default(){return qU}static get DefaultType(){return $T}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=JC.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Bs(JC);const ew=".bs.scrollspy",XO=`activate${ew}`,jT=`click${ew}`,HT=`load${ew}.data-api`,Gf="active",tw="[href]",ZT=".nav-link",zT=`${ZT}, .nav-item > ${ZT}, .list-group-item`,GT={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},KT={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xm extends Sa{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return GT}static get DefaultType(){return KT}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=il(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ze.off(this._config.target,jT),Ze.on(this._config.target,jT,tw,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(n=>this._observerCallback(n),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const n=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(n(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(l));continue}const f=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&f){if(r(l),!i)return}else!a&&!f&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Pt.find(tw,this._config.target);for(const n of e){if(!n.hash||mc(n))continue;const r=Pt.findOne(decodeURI(n.hash),this._element);Nf(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Gf),this._activateParents(e),Ze.trigger(this._element,XO,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Pt.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Gf);else for(const n of Pt.parents(e,".nav, .list-group"))for(const r of Pt.prev(n,zT))r.classList.add(Gf)}_clearActiveClass(e){e.classList.remove(Gf);const n=Pt.find(`${tw}.${Gf}`,e);for(const r of n)r.classList.remove(Gf)}static jQueryInterface(e){return this.each(function(){const n=xm.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ze.on(window,HT,()=>{for(const t of Pt.find('[data-bs-spy="scroll"]'))xm.getOrCreateInstance(t)}),Bs(xm);const Kf=".bs.tab",YT=`hide${Kf}`,QT=`hidden${Kf}`,rN=`show${Kf}`,iN=`shown${Kf}`,sN=`click${Kf}`,Mm=`keydown${Kf}`,oN=`load${Kf}`,nw="ArrowLeft",XT="ArrowRight",KU="ArrowUp",JT="ArrowDown",eA="Home",Yf="End",eh="active",rw="show",iw=".dropdown-toggle",_y=`:not(${iw})`,sw='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ow=`.nav-link${_y}, .list-group-item${_y}, [role="tab"]${_y}, ${sw}`,cN=`.${eh}[data-bs-toggle="tab"], .${eh}[data-bs-toggle="pill"], .${eh}[data-bs-toggle="list"]`;class th extends Sa{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ze.on(this._element,Mm,n=>this._keydown(n)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?Ze.trigger(n,YT,{relatedTarget:e}):null;Ze.trigger(e,rN,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){e&&(e.classList.add(eh),this._activate(Pt.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ze.trigger(e,iN,{relatedTarget:n})):e.classList.add(rw)},e,e.classList.contains("fade")))}_deactivate(e,n){e&&(e.classList.remove(eh),e.blur(),this._deactivate(Pt.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ze.trigger(e,QT,{relatedTarget:n})):e.classList.remove(rw)},e,e.classList.contains("fade")))}_keydown(e){if(![nw,XT,KU,JT,eA,Yf].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!mc(i));let r;if([eA,Yf].includes(e.key))r=n[e.key===eA?0:n.length-1];else{const i=[XT,JT].includes(e.key);r=kf(n,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),th.getOrCreateInstance(r).show())}_getChildren(){return Pt.find(ow,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Pt.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;const i=(a,l)=>{const f=Pt.findOne(a,r);f&&f.classList.toggle(l,n)};i(iw,eh),i(".dropdown-menu",rw),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(eh)}_getInnerElement(e){return e.matches(ow)?e:Pt.findOne(ow,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const n=th.getOrCreateInstance(this);if("string"==typeof e){if(void 0===n[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ze.on(document,sN,sw,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!mc(this)&&th.getOrCreateInstance(this).show()}),Ze.on(window,oN,()=>{for(const t of Pt.find(cN))th.getOrCreateInstance(t)}),Bs(th);const wc=".bs.toast",nA=`mouseover${wc}`,rA=`mouseout${wc}`,aw=`focusin${wc}`,iA=`focusout${wc}`,dN=`hide${wc}`,sA=`hidden${wc}`,oA=`show${wc}`,hN=`shown${wc}`,Qf="show",Pm="showing",uw={animation:"boolean",autohide:"boolean",delay:"number"},lw={animation:!0,autohide:!0,delay:5e3};class Cy extends Sa{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return lw}static get DefaultType(){return uw}static get NAME(){return"toast"}show(){Ze.trigger(this._element,oA).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Qf,Pm),this._queueCallback(()=>{this._element.classList.remove(Pm),Ze.trigger(this._element,hN),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Ze.trigger(this._element,dN).defaultPrevented&&(this._element.classList.add(Pm),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Pm,Qf),Ze.trigger(this._element,sA)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Qf),super.dispose()}isShown(){return this._element.classList.contains(Qf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=n;break;case"focusin":case"focusout":this._hasKeyboardInteraction=n}if(n)return void this._clearTimeout();const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Ze.on(this._element,nA,e=>this._onInteraction(e,!0)),Ze.on(this._element,rA,e=>this._onInteraction(e,!1)),Ze.on(this._element,aw,e=>this._onInteraction(e,!0)),Ze.on(this._element,iA,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Cy.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}vm(Cy),Bs(Cy);let cw=(()=>{var t;class e{constructor(r){this.elementRef=r}ngAfterViewInit(){const r=this.elementRef.nativeElement.querySelector("#myCarousel");new Ec(r,{interval:300,touch:!1})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(c.SBq))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-hero-slider"]],decls:24,vars:0,consts:[[1,"hero-slider"],["id","carouselExampleIndicators","data-ride","carousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],["data-target","#carouselExampleIndicators","data-slide-to","3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/images/banner_photo_1.jpg","alt","First slide",1,"d-block","w-100"],[1,"carousel-item"],["src","../../../assets/images/banner_photo_2.jpg","alt","Second slide",1,"d-block","w-100"],["src","../../../assets/images/banner_photo_3.jpg","alt","Third slide",1,"d-block","w-100"],["src","../../../assets/images/banner_photo_4.jpg","alt","Forth slide",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"ol",2),c._UZ(3,"li",3)(4,"li",4)(5,"li",5)(6,"li",6),c.qZA(),c.TgZ(7,"div",7)(8,"div",8),c._UZ(9,"img",9),c.qZA(),c.TgZ(10,"div",10),c._UZ(11,"img",11),c.qZA(),c.TgZ(12,"div",10),c._UZ(13,"img",12),c.qZA(),c.TgZ(14,"div",10),c._UZ(15,"img",13),c.qZA()(),c.TgZ(16,"a",14),c._UZ(17,"span",15),c.TgZ(18,"span",16),c._uU(19,"Previous"),c.qZA()(),c.TgZ(20,"a",17),c._UZ(21,"span",18),c.TgZ(22,"span",16),c._uU(23,"Next"),c.qZA()()()())}}),e})();var aA=U(6321),Zt=U(2793);function wy(){return(0,Mi.e)((t,e)=>{let n,r=!1;t.subscribe((0,er.x)(e,i=>{const a=n;n=i,r&&e.next([a,i]),r=!0}))})}var Je,dw=U(3997),ki=U(6304),uA=(U(8661),U(3399)),be=U(5861),qo=U(7592),sl=U(4537),Go=U(7879),Q=U(9058),lA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oa={},bc=bc||{},Wt=lA||self;function by(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Dy(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Iy="closure_uid_"+(1e9*Math.random()>>>0),hw=0;function JU(t,e,n){return t.call.apply(t.bind,arguments)}function eV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ps(t,e,n){return(ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JU:eV).apply(null,arguments)}function Dc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function bu(){this.s=this.s,this.o=this.o}bu.prototype.s=!1,bu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XU(t){Object.prototype.hasOwnProperty.call(t,Iy)&&t[Iy]||(t[Iy]=++hw)}(this)},bu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function cA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(by(r)){const i=t.length||0,a=r.length||0;t.length=i+a;for(let l=0;l<a;l++)t[i+l]=r[l]}else t.push(r)}}function Gi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gi.prototype.h=function(){this.defaultPrevented=!0};var gw=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Wt.addEventListener("test",()=>{},e),Wt.removeEventListener("test",()=>{},e)}catch{}return t}();function Xf(t){return/^[\s\xa0]*$/.test(t)}function Ty(){var t=Wt.navigator;return t&&(t=t.userAgent)?t:""}function yo(t){return-1!=Ty().indexOf(t)}function Om(t){return Om[" "](t),t}Om[" "]=function(){};var pA,t,dA=yo("Opera"),Jf=yo("Trident")||yo("MSIE"),mw=yo("Edge"),Ic=mw||Jf,hA=yo("Gecko")&&!(-1!=Ty().toLowerCase().indexOf("webkit")&&!yo("Edge"))&&!(yo("Trident")||yo("MSIE"))&&!yo("Edge"),fA=-1!=Ty().toLowerCase().indexOf("webkit")&&!yo("Edge");function Ay(){var t=Wt.document;return t?t.documentMode:void 0}e:{var _w="",gA=(t=Ty(),hA?/rv:([^\);]+)(\)|;)/.exec(t):mw?/Edge\/([\d\.]+)/.exec(t):Jf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):fA?/WebKit\/(\S+)/.exec(t):dA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(gA&&(_w=gA?gA[1]:""),Jf){var vw=Ay();if(null!=vw&&vw>parseFloat(_w)){pA=String(vw);break e}}pA=_w}var _A=Wt.document&&Jf&&(Ay()||parseInt(pA,10))||void 0;function ep(t,e){if(Gi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hA){e:{try{Om(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ep.$.h.call(this)}}bi(ep,Gi);var gN={2:"touch",3:"pen",4:"mouse"};ep.prototype.h=function(){ep.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tp="closure_listenable_"+(1e6*Math.random()|0),vA=0;function mN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vA,this.fa=this.ia=!1}function Sy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ew(t){const e={};for(const n in t)e[n]=t[n];return e}const Cw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ww(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let a=0;a<Cw.length;a++)n=Cw[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nm(t){this.src=t,this.g={},this.h=0}function bw(t,e){var n=e.type;if(n in t.g){var a,r=t.g[n],i=fw(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Sy(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Dw(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return i}return-1}Nm.prototype.add=function(t,e,n,r,i){var a=t.toString();(t=this.g[a])||(t=this.g[a]=[],this.h++);var l=Dw(t,e,r,i);return-1<l?(e=t[l],n||(e.ia=!1)):((e=new mN(e,this.src,a,!!r,i)).ia=n,t.push(e)),e};var yA="closure_lm_"+(1e6*Math.random()|0),My={};function vN(t,e,n,r,i){if(r&&r.once)return EN(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)vN(t,e[a],n,r,i);return null}return n=Rm(n),t&&t[tp]?t.O(e,n,Dy(r)?!!r.capture:!!r,i):yN(t,e,n,!1,r,i)}function yN(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=Dy(i)?!!i.capture:!!i,f=CA(t);if(f||(t[yA]=f=new Nm(t)),(n=f.add(e,n,r,l,a)).proxy)return n;if(r=function nV(){const e=rV;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gw||(i=l),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function EN(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)EN(t,e[a],n,r,i);return null}return n=Rm(n),t&&t[tp]?t.P(e,n,Dy(r)?!!r.capture:!!r,i):yN(t,e,n,!0,r,i)}function CN(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CN(t,e[a],n,r,i);else r=Dy(r)?!!r.capture:!!r,n=Rm(n),t&&t[tp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Dw(a=t.g[e],n,r,i))&&(Sy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[e],t.h--))):t&&(t=CA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dw(e,n,r,i)),(n=-1<t?e[t]:null)&&EA(n))}function EA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[tp])bw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=CA(e))?(bw(n,t),0==n.h&&(n.src=null,e[yA]=null)):Sy(t)}}}function wN(t){return t in My?My[t]:My[t]="on"+t}function rV(t,e){if(t.fa)t=!0;else{e=new ep(e,this);var n=t.listener,r=t.la||t.src;t.ia&&EA(t),t=n.call(r,e)}return t}function CA(t){return(t=t[yA])instanceof Nm?t:null}var Py="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(t){return"function"==typeof t?t:(t[Py]||(t[Py]=function(e){return t.handleEvent(e)}),t[Py])}function oi(){bu.call(this),this.i=new Nm(this),this.S=this,this.J=null}function Li(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Gi(e,t);else if(e instanceof Gi)e.target=e.target||t;else{var i=e;ww(e=new Gi(r,t),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=nh(l,r,!0,e)&&i}if(i=nh(l=e.g=t,r,!0,e)&&i,i=nh(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)i=nh(l=e.g=n[a],r,!1,e)&&i}function nh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==n){var f=l.listener,m=l.la||l.src;l.ia&&bw(t.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}bi(oi,bu),oi.prototype[tp]=!0,oi.prototype.removeEventListener=function(t,e,n,r){CN(this,t,e,n,r)},oi.prototype.N=function(){if(oi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sy(n[r]);delete t.g[e],t.h--}}this.J=null},oi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},oi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Iw=Wt.JSON.stringify;function sV(){var t=rh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tw=new class iV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new DN,t=>t.reset());class DN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function TN(t){Wt.setTimeout(()=>{throw t},0)}let Oy,km=!1,rh=new class bN{constructor(){this.h=this.g=null}add(e,n){const r=Tw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Lm=()=>{const t=Wt.Promise.resolve(void 0);Oy=()=>{t.then(AN)}};var AN=()=>{for(var t;t=sV();){try{t.h.call(t.g)}catch(n){TN(n)}var e=Tw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}km=!1};function Ny(t,e){oi.call(this),this.h=t||1,this.g=e||Wt,this.j=ps(this.qb,this),this.l=Date.now()}function Aw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Sw(t,e,n){if("function"==typeof t)n&&(t=ps(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ps(t.handleEvent,t)}return 2147483647<Number(e)?-1:Wt.setTimeout(t,e||0)}function wA(t){t.g=Sw(()=>{t.g=null,t.i&&(t.i=!1,wA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bi(Ny,oi),(Je=Ny.prototype).ga=!1,Je.T=null,Je.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Li(this,"tick"),this.ga&&(Aw(this),this.start()))}},Je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.N=function(){Ny.$.N.call(this),Aw(this),delete this.g};class SN extends bu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wA(this)}N(){super.N(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ih(t){bu.call(this),this.h=t,this.g={}}bi(ih,bu);var bA=[];function DA(t,e,n,r){Array.isArray(n)||(n&&(bA[0]=n.toString()),n=bA);for(var i=0;i<n.length;i++){var a=vN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function IA(t){xy(t.g,function(e,n){this.g.hasOwnProperty(n)&&EA(e)},t),t.g={}}function Ry(){this.g=!0}function np(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ON(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return Iw(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ih.prototype.N=function(){ih.$.N.call(this),IA(this)},ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ry.prototype.Ea=function(){this.g=!1},Ry.prototype.info=function(){};var Tc={},ky=null;function Ly(){return ky=ky||new oi}function TA(t){Gi.call(this,Tc.Ta,t)}function rp(t){const e=Ly();Li(e,new TA(e))}function xw(t,e){Gi.call(this,Tc.STAT_EVENT,t),this.stat=e}function js(t){const e=Ly();Li(e,new xw(e,t))}function gs(t,e){Gi.call(this,Tc.Ua,t),this.size=e}function ip(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){t()},e)}Tc.Ta="serverreachability",bi(TA,Gi),Tc.STAT_EVENT="statevent",bi(xw,Gi),Tc.Ua="timingevent",bi(gs,Gi);var Fm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fy(){}function Uy(){}Fy.prototype.h=null;var Vm,Ko={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vy(){Gi.call(this,"d")}function Um(){Gi.call(this,"c")}function By(){}function $y(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ih(this),this.P=NN,this.V=new Ny(t=Ic?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mw}function Mw(){this.i=null,this.g="",this.h=!1}bi(Vy,Gi),bi(Um,Gi),bi(By,Fy),By.prototype.g=function(){return new XMLHttpRequest},By.prototype.i=function(){return{}},Vm=new By;var NN=45e3,Pw={},jy={};function Ow(t,e,n){t.L=1,t.v=Zy(ol(e)),t.s=n,t.S=!0,Nw(t,null)}function Nw(t,e){t.G=Date.now(),sp(t),t.A=ol(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),OA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Mw,t.g=KN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new SN(ps(t.Pa,t,t.g),t.O)),DA(t.U,t.g,"readystatechange",t.nb),e=t.I?Ew(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),rp(),function xN(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",f=a.split("&"),m=0;m<f.length;m++){var _=f[m].split("=");if(1<_.length){var b=_[0];_=_[1];var A=b.split("_");l=2<=A.length&&"type"==A[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function RN(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Rw(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=kN(t,n),i==jy){4==e&&(t.o=4,js(14),r=!1),np(t.j,t.m,null,"[Incomplete Response]");break}if(i==Pw){t.o=4,js(15),np(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}np(t.j,t.m,i,null),kw(t,i)}RN(t)&&i!=jy&&i!=Pw&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,js(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qw(e),e.M=!0,js(11))):(np(t.j,t.m,n,"[Invalid Chunked Response]"),Ac(t),ap(t))}function kN(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?jy:(n=Number(e.substring(n,r)),isNaN(n)?Pw:(r+=1)+n>e.length?jy:(e=e.slice(r,r+n),t.C=r+n,e))}function sp(t){t.Y=Date.now()+t.P,LN(t,t.P)}function LN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ip(ps(t.lb,t),e)}function op(t){t.B&&(Wt.clearTimeout(t.B),t.B=null)}function ap(t){0==t.l.H||t.J||Xw(t.l,t)}function Ac(t){op(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Aw(t.V),IA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kw(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||$m(n.i,t)))if(!t.K&&$m(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;zm(n),Zm(n)}hp(n),js(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ip(ps(n.ib,n),6e3));if(1>=Gy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else uh(n,11)}else if((t.K||n.g==t)&&zm(n),!Xf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(n.V=_[0],_=_[1],2==n.H)if("c"==_[0]){n.K=_[1],n.pa=_[2];const b=_[3];null!=b&&(n.ra=b,n.l.info("VER="+n.ra));const A=_[4];null!=A&&(n.Ga=A,n.l.info("SVER="+n.Ga));const P=_[5];null!=P&&"number"==typeof P&&0<P&&(n.L=r=1.5*P,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const F=t.g;if(F){const z=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=r.i;a.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&($w(a,a.h),a.h=null))}if(r.F){const te=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,tr(r.I,r.F,te))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var l=t;if((r=n).wa=jA(r,r.J?r.pa:null,r.Y),l.K){Ky(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(op(f),sp(f)),r.g=l}else BA(r);0<n.j.length&&Kw(n)}else"stop"!=_[0]&&"close"!=_[0]||uh(n,7);else 3==n.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?uh(n,7):qw(n):"noop"!=_[0]&&n.h&&n.h.Aa(_),n.A=0)}rp()}catch{}}function sh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(by(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function MA(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(by(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function xA(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(by(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}(Je=$y.prototype).setTimeout=function(t){this.P=t},Je.nb=function(t){t=t.target;const e=this.M;e&&3==ul(t)?e.l():this.Pa(t)},Je.Pa=function(t){try{if(t==this.g)e:{const b=ul(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Ic||this.g&&(this.h.h||this.g.ja()||UA(this.g)))){this.J||4!=b||7==e||rp(),op(this);var n=this.g.da();this.ca=n;t:if(RN(this)){var r=UA(this.g);t="";var i=r.length,a=4==ul(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ac(this),ap(this);var l="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==n,function MN(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xf(f)){var _=f;break t}}_=null}if(!(n=_)){this.i=!1,this.o=3,js(12),Ac(this),ap(this);break e}np(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kw(this,n)}this.S?(Rw(this,b,l),Ic&&this.i&&3==b&&(DA(this.U,this.V,"tick",this.mb),this.V.start())):(np(this.j,this.m,l,null),kw(this,l)),4==b&&Ac(this),this.i&&!this.J&&(4==b?Xw(this.l,this):(this.i=!1,sp(this)))}else(function zN(t){const e={};t=(t.g&&2<=ul(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Xf(t[r]))continue;var n=IN(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=e[i]||[];e[i]=a,a.push(n)}!function _N(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<l.indexOf("Unknown SID")?(this.o=3,js(12)):(this.o=0,js(13)),Ac(this),ap(this)}}}catch{}},Je.mb=function(){if(this.g){var t=ul(this.g),e=this.g.ja();this.C<e.length&&(op(this),Rw(this,t,e),this.i&&4!=t&&sp(this))}},Je.cancel=function(){this.J=!0,Ac(this)},Je.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function PN(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rp(),js(17)),Ac(this),this.o=2,ap(this)):LN(this,this.Y-t)};var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sc){this.h=t.h,Hy(this,t.j),this.s=t.s,this.g=t.g,Lw(this,t.m),this.l=t.l;var e=t.i,n=new qy;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fw(this,n),this.o=t.o}else t&&(e=String(t).match(Bm))?(this.h=!1,Hy(this,e[1]||"",!0),this.s=zy(e[2]||""),this.g=zy(e[3]||"",!0),Lw(this,e[4]),this.l=zy(e[5]||"",!0),Fw(this,e[6]||"",!0),this.o=zy(e[7]||"")):(this.h=!1,this.i=new qy(null,this.h))}function ol(t){return new Sc(t)}function Hy(t,e,n){t.j=n?zy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lw(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fw(t,e,n){e instanceof qy?(t.i=e,function jN(t,e){e&&!t.j&&(oh(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BN(this,r),OA(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wy(e,VN)),t.i=new qy(e,t.h))}function tr(t,e,n){t.i.set(e,n)}function Zy(t){return tr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,oV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oV(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wy(e,Uw,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wy(e,Uw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wy(n,"/"==n.charAt(0)?UN:FN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wy(n,aV)),t.join("")};var Uw=/[#\/\?@]/g,FN=/[#\?:]/g,UN=/[#\?]/g,VN=/[#\?@]/g,aV=/#/g;function qy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oh(t){t.g||(t.g=new Map,t.h=0,t.i&&function PA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BN(t,e){oh(t),e=al(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $N(t,e){return oh(t),e=al(t,e),t.g.has(e)}function OA(t,e,n){BN(t,e),0<n.length&&(t.i=null,t.g.set(al(t,e),pw(n)),t.h+=n.length)}function al(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vw(t){this.l=t||ah,t=Wt.PerformanceNavigationTiming?0<(t=Wt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ka&&Wt.g.Ka()&&Wt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=qy.prototype).add=function(t,e){oh(this),this.i=null,t=al(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Je.forEach=function(t,e){oh(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Je.ta=function(){oh(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let a=0;a<i.length;a++)n.push(e[r])}return n},Je.Z=function(t){oh(this);let e=[];if("string"==typeof t)$N(this,t)&&(e=e.concat(this.g.get(al(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Je.set=function(t,e){return oh(this),this.i=null,$N(this,t=al(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Je.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),t.push(i)}}return this.i=t.join("&")};var ah=10;function Bw(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Gy(t){return t.h?1:t.g?t.g.size:0}function $m(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $w(t,e){t.g?t.g.add(e):t.h=e}function Ky(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Yy(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return pw(t.i)}Vw.prototype.cancel=function(){if(this.i=Yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Qy=class{stringify(t){return Wt.JSON.stringify(t,void 0)}parse(t){return Wt.JSON.parse(t,void 0)}};function uV(){this.g=new Qy}function lV(t,e,n){const r=n||"";try{sh(t,function(i,a){let l=i;Dy(i)&&(l=Iw(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Hm(t){this.l=t.fc||null,this.j=t.ob||!1}function Xy(t,e){oi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bi(Hm,Fy),Hm.prototype.g=function(){return new Xy(this.l,this.j)},Hm.prototype.i=function(t){return function(){return t}}({}),bi(Xy,oi);var jw=0;function NA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function up(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lp(t)}function lp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Je=Xy.prototype).open=function(t,e){if(this.readyState!=jw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lp(this)},Je.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Wt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,up(this)),this.readyState=jw},Je.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lp(this)),this.g&&(this.readyState=3,lp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Je.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?up(this):lp(this),3==this.readyState&&NA(this)}},Je.Za=function(t){this.g&&(this.response=this.responseText=t,up(this))},Je.Ya=function(t){this.g&&(this.response=t,up(this))},Je.ka=function(){this.g&&up(this)},Je.setRequestHeader=function(t,e){this.v.append(t,e)},Je.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RA=Wt.JSON.parse;function Ar(t){oi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kA,this.L=this.M=!1}bi(Ar,oi);var kA="",LA=/^https?$/i,Hw=["POST","PUT"];function Zw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Jy(t),e0(t)}function Jy(t){t.F||(t.F=!0,Li(t,"complete"),Li(t,"error"))}function FA(t){if(t.h&&typeof bc<"u"&&(!t.C[1]||4!=ul(t)||2!=t.da()))if(t.v&&4==ul(t))Sw(t.La,0,t);else if(Li(t,"readystatechange"),4==ul(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===l){var i=String(t.I).match(Bm)[1]||null;!i&&Wt.self&&Wt.self.location&&(i=Wt.self.location.protocol.slice(0,-1)),r=!LA.test(i?i.toLowerCase():"")}n=r}if(n)Li(t,"complete"),Li(t,"success");else{t.m=6;try{var a=2<ul(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",Jy(t)}}finally{e0(t)}}}function e0(t,e){if(t.g){ZN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Li(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Wt.clearTimeout(t.A),t.A=null)}function ul(t){return t.g?t.g.readyState:0}function UA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case kA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VA(t){let e="";return xy(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function zw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VA(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):tr(t,e,n))}function cp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ww(t){this.Ga=0,this.j=[],this.l=new Ry,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cp("baseRetryDelayMs",5e3,t),this.hb=cp("retryDelaySeedMs",1e4,t),this.eb=cp("forwardChannelMaxRetries",2,t),this.xa=cp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Vw(t&&t.concurrentRequestLimit),this.Ja=new uV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qw(t){if(Gw(t),3==t.H){var e=t.W++,n=ol(t.I);if(tr(n,"SID",t.K),tr(n,"RID",e),tr(n,"TYPE","terminate"),dp(t,n),(e=new $y(t,t.l,e)).L=2,e.v=Zy(ol(n)),n=!1,Wt.navigator&&Wt.navigator.sendBeacon)try{n=Wt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Wt.Image&&((new Image).src=e.v,n=!0),n||(e.g=KN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sp(e)}GN(t)}function Zm(t){t.g&&(Qw(t),t.g.cancel(),t.g=null)}function Gw(t){Zm(t),t.u&&(Wt.clearTimeout(t.u),t.u=null),zm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Wt.clearTimeout(t.m),t.m=null)}function Kw(t){if(!Bw(t.i)&&!t.m){t.m=!0;var e=t.Na;Oy||Lm(),km||(Oy(),km=!0),rh.add(e,t),t.C=0}}function t0(t,e){var n;n=e?e.m:t.W++;const r=ol(t.I);tr(r,"SID",t.K),tr(r,"RID",n),tr(r,"AID",t.V),dp(t,r),t.o&&t.s&&zw(r,t.o,t.s),n=new $y(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Yw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$w(t.i,n),Ow(n,r,e)}function dp(t,e){t.na&&xy(t.na,function(n,r){tr(e,r,n)}),t.h&&sh({},function(n,r){tr(e,r,n)})}function Yw(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ps(t.h.Va,t.h,t):null;e:{var i=t.j;let a=-1;for(;;){const l=["count="+n];-1==a?0<n?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let m=0;m<n;m++){let _=i[m].g;const b=i[m].map;if(_-=a,0>_)a=Math.max(0,i[m].g-100),f=!1;else try{lV(b,l,"req"+_+"_")}catch{r&&r(b)}}if(f){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function BA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Oy||Lm(),km||(Oy(),km=!0),rh.add(e,t),t.A=0}}function hp(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ip(ps(t.Ma,t),qN(t,t.A)),t.A++,0))}function Qw(t){null!=t.B&&(Wt.clearTimeout(t.B),t.B=null)}function $A(t){t.g=new $y(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ol(t.wa);tr(e,"RID","rpc"),tr(e,"SID",t.K),tr(e,"AID",t.V),tr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tr(e,"TO",t.qa),tr(e,"TYPE","xmlhttp"),dp(t,e),t.o&&t.s&&zw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Zy(ol(e)),n.s=null,n.S=!0,Nw(n,t)}function zm(t){null!=t.v&&(Wt.clearTimeout(t.v),t.v=null)}function Xw(t,e){var n=null;if(t.g==e){zm(t),Qw(t),t.g=null;var r=2}else{if(!$m(t.i,e))return;n=e.F,Ky(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Li(r=Ly(),new gs(r,n)),Kw(t)}else BA(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function WN(t,e){return!(Gy(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ip(ps(t.Na,t,e),qN(t,t.C)),t.C++,0)))}(t,e)||2==r&&hp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:uh(t,5);break;case 4:uh(t,10);break;case 3:uh(t,6);break;default:uh(t,2)}}function qN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function uh(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ps(t.pb,t);n||(n=new Sc("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||Hy(n,"https"),Zy(n)),function cV(t,e){const n=new Ry;if(Wt.Image){const r=new Image;r.onload=Dc(jm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dc(jm,n,r,"TestLoadImage: error",!1,e),r.onabort=Dc(jm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dc(jm,n,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else js(2);t.H=0,t.h&&t.h.za(e),GN(t),Gw(t)}function GN(t){if(t.H=0,t.ma=[],t.h){const e=Yy(t.i);(0!=e.length||0!=t.j.length)&&(cA(t.ma,e),cA(t.ma,t.j),t.i.i.length=0,pw(t.j),t.j.length=0),t.h.ya()}}function jA(t,e,n){var r=n instanceof Sc?ol(n):new Sc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Lw(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Sc(null);r&&Hy(a,r),e&&(a.g=e),i&&Lw(a,i),n&&(a.l=n),r=a}return e=t.Da,(n=t.F)&&e&&tr(r,n,e),tr(r,"VER",t.ra),dp(t,r),r}function KN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(n&&t.Ha&&!t.va?new Hm({ob:!0}):t.va)).Oa(t.J),e}function YN(){}function n0(){if(Jf&&!(10<=Number(_A)))throw Error("Environmental error: no available transport.")}function Eo(t,e){oi.call(this),this.g=new Ww(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Wm(this)}function QN(t){Vy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function XN(){Um.call(this),this.status=1}function Wm(t){this.g=t}function Du(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jw(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var a=t.g[3],l=(e=t.g[0])+(a^(n=t.g[1])&((i=t.g[2])^a))+r[0]+3614090360&4294967295;l=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=n+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(n^a&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(n^a&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(n^a&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(n^a&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^n&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=n+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^n&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=n+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^n&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=n+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^n&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=n+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=n+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=n+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=n+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^n)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=n+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=n+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=n+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=n+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=n+((l=e+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+a&4294967295}function Hn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var a=0|t[i];r&&a==e||(n[i]=a,r=!1)}this.g=n}(Je=Ar.prototype).Oa=function(t){this.M=t},Je.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vm.g(),this.C=function SA(t){return t.h||(t.h=t.i())}(this.u?this.u:Vm),this.g.onreadystatechange=ps(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){return void Zw(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())n.set(a,r.get(a))}r=Array.from(n.keys()).find(a=>"content-type"==a.toLowerCase()),i=Wt.FormData&&t instanceof Wt.FormData,!(0<=fw(Hw,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of n)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZN(this),0<this.B&&((this.L=function dV(t){return Jf&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ps(this.ua,this)):this.A=Sw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){Zw(this,a)}},Je.ua=function(){typeof bc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},Je.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Li(this,"complete"),Li(this,"abort"),e0(this))},Je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),e0(this,!0)),Ar.$.N.call(this)},Je.La=function(){this.s||(this.G||this.v||this.l?FA(this):this.kb())},Je.kb=function(){FA(this)},Je.isActive=function(){return!!this.g},Je.da=function(){try{return 2<ul(this)?this.g.status:-1}catch{return-1}},Je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Je.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RA(e)}},Je.Ia=function(){return this.m},Je.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=Ww.prototype).ra=8,Je.H=1,Je.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $y(this,this.l,t);let a=this.s;if(this.U&&(a?(a=Ew(a),ww(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Yw(this,i,e),tr(n=ol(this.I),"RID",t),tr(n,"CVER",22),this.F&&tr(n,"X-HTTP-Session-Id",this.F),dp(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(VA(a)))+"&"+e:this.o&&zw(n,this.o,a)),$w(this.i,i),this.bb&&tr(n,"TYPE","init"),this.P?(tr(n,"$req",e),tr(n,"SID","null"),i.aa=!0,Ow(i,n,null)):Ow(i,n,e),this.H=2}}else 3==this.H&&(t?t0(this,t):0==this.j.length||Bw(this.i)||t0(this))},Je.Ma=function(){if(this.u=null,$A(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ip(ps(this.jb,this),t)}},Je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,js(10),Zm(this),$A(this))},Je.ib=function(){null!=this.v&&(this.v=null,Zm(this),hp(this),js(19))},Je.pb=function(t){t?(this.l.info("Successfully pinged google.com"),js(2)):(this.l.info("Failed to ping google.com"),js(1))},Je.isActive=function(){return!!this.h&&this.h.isActive(this)},(Je=YN.prototype).Ba=function(){},Je.Aa=function(){},Je.za=function(){},Je.ya=function(){},Je.isActive=function(){return!0},Je.Va=function(){},n0.prototype.g=function(t,e){return new Eo(t,e)},bi(Eo,oi),Eo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;js(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jA(t,null,t.Y),Kw(t)},Eo.prototype.close=function(){qw(this.g)},Eo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Iw(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Kw(e)},Eo.prototype.N=function(){this.g.h=null,delete this.j,qw(this.g),delete this.g,Eo.$.N.call(this)},bi(QN,Vy),bi(XN,Um),bi(Wm,YN),Wm.prototype.Ba=function(){Li(this.g,"a")},Wm.prototype.Aa=function(t){Li(this.g,new QN(t))},Wm.prototype.za=function(t){Li(this.g,new XN)},Wm.prototype.ya=function(){Li(this.g,"b")},bi(Du,function hV(){this.blockSize=-1}),Du.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Du.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=n;)Jw(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(r[i++]=t.charCodeAt(a++),i==this.blockSize){Jw(this,r),i=0;break}}else for(;a<e;)if(r[i++]=t[a++],i==this.blockSize){Jw(this,r),i=0;break}}this.h=i,this.i+=e},Du.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var fV={};function HA(t){return-128<=t&&128>t?function tV(t,e){var n=fV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Hn([0|e],0>e?-1:0)}):new Hn([0|t],0>t?-1:0)}function ll(t){if(isNaN(t)||!isFinite(t))return qm;if(0>t)return h(ll(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eb;return new Hn(e,0)}var eb=4294967296,qm=HA(0),s=HA(1),o=HA(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function d(t){return-1==t.h}function h(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Hn(n,~t.h).add(s)}function p(t,e){return t.add(h(e))}function y(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function E(t,e){this.g=t,this.h=e}function I(t,e){if(u(e))throw Error("division by zero");if(u(t))return new E(qm,qm);if(d(t))return e=I(h(t),e),new E(h(e.g),h(e.h));if(d(e))return e=I(t,h(e)),new E(h(e.g),e.h);if(30<t.g.length){if(d(t)||d(e))throw Error("slowDivide_ only works with positive integers.");for(var n=s,r=e;0>=r.X(t);)n=S(n),r=S(r);var i=N(n,1),a=N(r,1);for(r=N(r,2),n=N(n,2);!u(r);){var l=a.add(r);0>=l.X(t)&&(i=i.add(n),a=l),r=N(r,1),n=N(n,1)}return e=p(t,i.R(e)),new E(i,e)}for(i=qm;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(a=ll(n)).R(e);d(l)||0<l.X(t);)l=(a=ll(n-=r)).R(e);u(a)&&(a=s),i=i.add(a),t=p(t,l)}return new E(i,t)}function S(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Hn(n,t.h)}function N(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],a=0;a<r;a++)i[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Hn(i,t.h)}(Je=Hn.prototype).ea=function(){if(d(this))return-h(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eb+r)*e,e*=eb}return t},Je.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(d(this))return"-"+h(this).toString(t);for(var e=ll(Math.pow(t,6)),n=this,r="";;){var i=I(n,e).g,a=((0<(n=p(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Je.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Je.X=function(t){return d(t=p(this,t))?-1:u(t)?0:1},Je.abs=function(){return d(this)?h(this):this},Je.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&t.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=l>>>16,n[i]=(l&=65535)<<16|(a&=65535)}return new Hn(n,-2147483648&n[n.length-1]?-1:0)},Je.R=function(t){if(u(this)||u(t))return qm;if(d(this))return d(t)?h(this).R(h(t)):h(h(this).R(t));if(d(t))return h(this.R(h(t)));if(0>this.X(o)&&0>t.X(o))return ll(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=t.D(i)>>>16,m=65535&t.D(i);n[2*r+2*i]+=l*m,y(n,2*r+2*i),n[2*r+2*i+1]+=a*m,y(n,2*r+2*i+1),n[2*r+2*i+1]+=l*f,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*f,y(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Hn(n,0)},Je.gb=function(t){return I(this,t).h},Je.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Hn(n,this.h&t.h)},Je.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Hn(n,this.h|t.h)},Je.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Hn(n,this.h^t.h)},n0.prototype.createWebChannel=n0.prototype.g,Eo.prototype.send=Eo.prototype.u,Eo.prototype.open=Eo.prototype.m,Eo.prototype.close=Eo.prototype.close,Fm.NO_ERROR=0,Fm.TIMEOUT=8,Fm.HTTP_ERROR=6,AA.COMPLETE="complete",Uy.EventType=Ko,Ko.OPEN="a",Ko.CLOSE="b",Ko.ERROR="c",Ko.MESSAGE="d",oi.prototype.listen=oi.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,Du.prototype.digest=Du.prototype.l,Du.prototype.reset=Du.prototype.reset,Du.prototype.update=Du.prototype.j,Hn.prototype.add=Hn.prototype.add,Hn.prototype.multiply=Hn.prototype.R,Hn.prototype.modulo=Hn.prototype.gb,Hn.prototype.compare=Hn.prototype.X,Hn.prototype.toNumber=Hn.prototype.ea,Hn.prototype.toString=Hn.prototype.toString,Hn.prototype.getBits=Hn.prototype.D,Hn.fromNumber=ll,Hn.fromString=function JN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return h(JN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ll(Math.pow(e,8)),r=qm,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),l=parseInt(t.substring(i,i+a),e);8>a?(a=ll(Math.pow(e,a)),r=r.R(a).add(ll(l))):r=(r=r.R(n)).add(ll(l))}return r};var j=Oa.createWebChannelTransport=function(){return new n0},X=Oa.getStatEventTarget=function(){return Ly()},se=Oa.ErrorCode=Fm,Te=Oa.EventType=AA,ze=Oa.Event=Tc,lt=Oa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tt=Oa.FetchXmlHttpFactory=Hm,Ue=Oa.WebChannel=Uy,Ht=Oa.XhrIo=Ar,tn=Oa.Md5=Du,En=Oa.Integer=Hn;const ms="@firebase/firestore";class Yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let Na="9.23.0";const Iu=new Go.Yd("@firebase/firestore");function tb(){return Iu.logLevel}function qe(t,...e){if(Iu.logLevel<=Go.in.DEBUG){const n=e.map(tR);Iu.debug(`Firestore (${Na}): ${t}`,...n)}}function ai(t,...e){if(Iu.logLevel<=Go.in.ERROR){const n=e.map(tR);Iu.error(`Firestore (${Na}): ${t}`,...n)}}function Tu(t,...e){if(Iu.logLevel<=Go.in.WARN){const n=e.map(tR);Iu.warn(`Firestore (${Na}): ${t}`,...n)}}function tR(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Et(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function St(t,e){t||Et()}function ft(t,e){return t}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Q.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class s5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const a=_=>this.i!==i?(i=this.i,n(_)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=l;e.enqueueRetryable((0,be.Z)(function*(){yield _.promise,yield a(r.currentUser)}))},m=_=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new pV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Yn(e)}}class a5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class u5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new a5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=a=>{null!=a.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St("string"==typeof n.token),this.T=n.token,new gV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function c5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=c5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function r0(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function _V(t){return t+"\0"}class Sr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Sr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Sr(0,0))}static max(){return new Mt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nb{constructor(e,n,r){void 0===n?n=0:n>e.length&&Et(),void 0===r?r=e.length-n:r>e.length-n&&Et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===nb.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nb?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class In extends nb{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new In(n)}static emptyPath(){return new In([])}}const d5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends nb{construct(e,n,r){return new Qr(e,n,r)}static isValidIdentifier(e){return d5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Be(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Be(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Be(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(n)}static emptyPath(){return new Qr([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(In.fromString(e))}static fromName(e){return new dt(In.fromString(e).popFirst(5))}static empty(){return new dt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new In(e.slice()))}}class ZA{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function nR(t){return t.fields.find(e=>2===e.kind)}function Gm(t){return t.fields.filter(e=>2!==e.kind)}ZA.UNKNOWN_ID=-1;class zA{constructor(e,n){this.fieldPath=e,this.kind=n}}class rb{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rb(0,Ra.min())}}function vV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new Sr(n+1,0):new Sr(n,r));return new Ra(i,dt.empty(),e)}function yV(t){return new Ra(t.readTime,t.key,-1)}class Ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ra(Mt.min(),dt.empty(),-1)}static max(){return new Ra(Mt.max(),dt.empty(),-1)}}function rR(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=dt.comparator(t.documentKey,e.documentKey),0!==n?n:Kt(t.largestBatchId,e.largestBatchId))}const EV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fp(t){return iR.apply(this,arguments)}function iR(){return iR=(0,be.Z)(function*(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==EV)throw t;qe("LocalStore","Unexpectedly lost primary lease")}),iR.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&n()},m=>r(m))}),l=!0,a===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const _=m;n(e[_]).next(b=>{l[_]=b,++f,f===a&&r(l)},b=>i(b))}})}static doWhile(e,n){return new de((r,i)=>{const a=()=>{!0===e()?n().next(()=>{a()},i):r()};a()})}}class WA{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Fi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new ib(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=sR(r.target.error);this.v.reject(new ib(e,i))}}static open(e,n,r,i){try{return new WA(n,e.transaction(i,r))}catch(a){throw new ib(n,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new g5(n)}}class cl{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===cl.S((0,Q.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),Km(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Q.hl)())return!1;if(cl.C())return!0;const e=(0,Q.z$)(),n=cl.S(e),r=0<n&&n<10,i=cl.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,be.Z)(function*(){return n.db||(qe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const a=indexedDB.open(n.name,n.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new ib(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Be(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Be(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new ib(e,f))},a.onupgradeneeded=l=>{qe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',l.oldVersion),n.V.O(l.target.result,a.transaction,l.oldVersion,n.version).next(()=>{qe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var a=this;return(0,be.Z)(function*(){const l="readonly"===n;let f=0;for(;;){++f;try{a.db=yield a.$(e);const m=WA.open(a.db,e,l?"readonly":"readwrite",r),_=i(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),de.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&f<3;if(qe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class p5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Km(this.L.delete())}}class ib extends Be{constructor(e,n){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pp(t){return"IndexedDbTransactionError"===t.name}class g5{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(qe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Km(r)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),Km(this.store.add(e))}get(e){return Km(this.store.get(e)).next(n=>(void 0===n&&(n=null),qe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),Km(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),Km(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new de((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new de((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,n){qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new de((r,i)=>{n.onerror=a=>{const l=sR(a.target.error);i(l)},n.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,n){const r=[];return new de((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const m=new p5(f),_=n(f.primaryKey,f.value,m);if(_ instanceof de){const b=_.catch(A=>(m.done(),de.reject(A)));r.push(b)}m.isDone?i():null===m.K?f.continue():f.continue(m.K)}}).next(()=>de.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Km(t){return new de((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=sR(r.target.error);n(i)}})}let wV=!1;function sR(t){const e=cl.S((0,Q.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wV||(wV=!0,setTimeout(()=>{throw r},0)),r}}return t}class m5{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){n.task=null;try{qe("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){pp(r)?qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield fp(r)}yield n.et(6e4)}))}}class _5{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,be.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let i=n,a=!0;return de.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return qe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(qe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,n,f))).next(()=>l.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,a)=>{const l=yV(a);rR(l,r)>0&&(r=l)}),new Ra(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ka=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function sb(t){return null==t}function ob(t){return 0===t&&1/t==-1/0}function bV(t){return"number"==typeof t&&Number.isInteger(t)&&!ob(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Hs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DV(e)),e=v5(t.get(n),e);return DV(e)}function v5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function DV(t){return t+"\x01\x01"}function xc(t){const e=t.length;if(St(e>=2),2===e)return St("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),In.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const l=t.indexOf("\x01",a);switch((l<0||l>n)&&Et(),t.charAt(l+1)){case"\x01":const f=t.substring(a,l);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=t.substring(a,l),i+="\0";break;case"\x11":i+=t.substring(a,l+1);break;default:Et()}a=l+2}return new In(r)}const IV=["userId","batchId"];function qA(t,e){return[t,Hs(e)]}function TV(t,e,n){return[t,Hs(e),n]}const y5={},E5=["prefixPath","collectionGroup","readTime","documentId"],C5=["prefixPath","collectionGroup","documentId"],w5=["collectionGroup","readTime","prefixPath","documentId"],b5=["canonicalId","targetId"],D5=["targetId","path"],I5=["path","targetId"],T5=["collectionId","parent"],A5=["indexId","uid"],S5=["uid","sequenceNumber"],x5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M5=["indexId","uid","orderedDocumentKey"],P5=["userId","collectionPath","documentId"],O5=["userId","collectionPath","largestBatchId"],N5=["userId","collectionGroup","largestBatchId"],AV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],R5=[...AV,"documentOverlays"],SV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xV=SV,k5=[...xV,"indexConfiguration","indexState","indexEntries"];class oR extends CV{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Ki(t,e){const n=ft(t);return cl.M(n.ht,e)}function MV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ar{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new ar(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GA(this.root,e,this.comparator,!1)}getReverseIterator(){return new GA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GA(this.root,e,this.comparator,!0)}}class GA{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=a??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new _s(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===a?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _s(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OV(this.data.getIterator())}getIteratorFrom(e){return new OV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class OV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function s0(t){return t.hasNext()?t.getNext():void 0}class Yo{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new Yo([])}unionWith(e){let n=new yr(Qr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return r0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class NV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NV("Invalid base64 string: "+i):i}}(e);return new Ui(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ui(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const F5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mp(t){if(St(!!t),"string"==typeof t){let e=0;const n=F5.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xr(t.seconds),nanos:Xr(t.nanos)}}function Xr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function lh(t){return"string"==typeof t?Ui.fromBase64String(t):Ui.fromUint8Array(t)}function KA(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function YA(t){const e=t.mapValue.fields.__previous_value__;return KA(e)?YA(e):e}function ab(t){const e=mp(t.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class U5{constructor(e,n,r,i,a,l,f,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=_}}class _p{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _p("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _p&&e.projectId===this.projectId&&e.database===this.database}}const vp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},QA={nullValue:"NULL_VALUE"};function yp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KA(t)?4:FV(t)?9007199254740991:10:Et()}function Mc(t,e){if(t===e)return!0;const n=yp(t);if(n!==yp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ab(t).isEqual(ab(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=mp(r.timestampValue),l=mp(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,lh(t.bytesValue).isEqual(lh(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xr(r.geoPointValue.latitude)===Xr(i.geoPointValue.latitude)&&Xr(r.geoPointValue.longitude)===Xr(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xr(r.integerValue)===Xr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Xr(r.doubleValue),l=Xr(i.doubleValue);return a===l?ob(a)===ob(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return r0(t.arrayValue.values||[],e.arrayValue.values||[],Mc);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(MV(a)!==MV(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Mc(a[f],l[f])))return!1;return!0}(t,e);default:return Et()}var i}function ub(t,e){return void 0!==(t.values||[]).find(n=>Mc(n,e))}function Ep(t,e){if(t===e)return 0;const n=yp(t),r=yp(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Xr(i.integerValue||i.doubleValue),f=Xr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(t,e);case 3:return RV(t.timestampValue,e.timestampValue);case 4:return RV(ab(t),ab(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(i,a){const l=lh(i),f=lh(a);return l.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let m=0;m<l.length&&m<f.length;m++){const _=Kt(l[m],f[m]);if(0!==_)return _}return Kt(l.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Kt(Xr(i.latitude),Xr(a.latitude));return 0!==l?l:Kt(Xr(i.longitude),Xr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let m=0;m<l.length&&m<f.length;++m){const _=Ep(l[m],f[m]);if(_)return _}return Kt(l.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===vp.mapValue&&a===vp.mapValue)return 0;if(i===vp.mapValue)return 1;if(a===vp.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=a.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let b=0;b<f.length&&b<_.length;++b){const A=Kt(f[b],_[b]);if(0!==A)return A;const P=Ep(l[f[b]],m[_[b]]);if(0!==P)return P}return Kt(f.length,_.length)}(t.mapValue,e.mapValue);default:throw Et()}}function RV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kt(t,e);const n=mp(t),r=mp(e),i=Kt(n.seconds,r.seconds);return 0!==i?i:Kt(n.nanos,r.nanos)}function o0(t){return aR(t)}function aR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=mp(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?lh(t.bytesValue).toBase64():"referenceValue"in t?dt.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=aR(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${aR(r.fields[f])}`;return a+"}"}(t.mapValue):Et();var e}function Ym(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uR(t){return!!t&&"integerValue"in t}function lb(t){return!!t&&"arrayValue"in t}function kV(t){return!!t&&"nullValue"in t}function LV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function JA(t){return!!t&&"mapValue"in t}function cb(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cb(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cb(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function V5(t){return"nullValue"in t?QA:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ym(_p.empty(),dt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Et()}function B5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ym(_p.empty(),dt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vp:Et()}function UV(t,e){const n=Ep(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VV(t,e){const n=Ep(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!JA(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cb(n)}setAll(e){let n=Qr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=f.popLast()}l?r[f.lastSegment()]=cb(l):i.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());JA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];JA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gp(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new vs(cb(this.value))}}function BV(t){const e=[];return gp(t.fields,(n,r)=>{const i=new Qr([n]);if(JA(r)){const a=BV(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Yo(e)}class Er{constructor(e,n,r,i,a,l,f){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Er(e,0,Mt.min(),Mt.min(),Mt.min(),vs.empty(),0)}static newFoundDocument(e,n,r,i){return new Er(e,1,n,Mt.min(),r,i,0)}static newNoDocument(e,n){return new Er(e,2,n,Mt.min(),Mt.min(),vs.empty(),0)}static newUnknownDocument(e,n){return new Er(e,3,n,Mt.min(),Mt.min(),vs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cp{constructor(e,n){this.position=e,this.inclusive=n}}function $V(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(r=a.field.isKeyField()?dt.comparator(dt.fromName(l.referenceValue),n.key):Ep(l,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mc(t.position[n],e.position[n]))return!1;return!0}class a0{constructor(e,n="asc"){this.field=e,this.dir=n}}function $5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class HV{}class Cn extends HV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new j5(e,n,r):"array-contains"===n?new z5(e,r):"in"===n?new KV(e,r):"not-in"===n?new W5(e,r):"array-contains-any"===n?new q5(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new H5(e,r):new Z5(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ep(n,this.value)):null!==n&&yp(this.value)===yp(n)&&this.matchesComparison(Ep(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gn extends HV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Gn(e,n)}matches(e){return u0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function u0(t){return"and"===t.op}function lR(t){return"or"===t.op}function cR(t){return ZV(t)&&u0(t)}function ZV(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function dR(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+o0(t.value);if(cR(t))return t.filters.map(e=>dR(e)).join(",");{const e=t.filters.map(n=>dR(n)).join(",");return`${t.op}(${e})`}}function zV(t,e){return t instanceof Cn?(n=t,(r=e)instanceof Cn&&n.op===r.op&&n.field.isEqual(r.field)&&Mc(n.value,r.value)):t instanceof Gn?function(n,r){return r instanceof Gn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,a,l)=>i&&zV(a,r.filters[l]),!0)}(t,e):void Et();var n,r}function WV(t,e){const n=t.filters.concat(e);return Gn.create(n,t.op)}function qV(t){return t instanceof Cn?`${(e=t).field.canonicalString()} ${e.op} ${o0(e.value)}`:t instanceof Gn?function(e){return e.op.toString()+" {"+e.getFilters().map(qV).join(" ,")+"}"}(t):"Filter";var e}class j5 extends Cn{constructor(e,n,r){super(e,n,r),this.key=dt.fromName(r.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class H5 extends Cn{constructor(e,n){super(e,"in",n),this.keys=GV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z5 extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=GV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>dt.fromName(r.referenceValue))}class z5 extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lb(n)&&ub(n.arrayValue,this.value)}}class KV extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ub(this.value.arrayValue,n)}}class W5 extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ub(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ub(this.value.arrayValue,n)}}class q5 extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ub(this.value.arrayValue,r))}}class G5{constructor(e,n=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function hR(t,e=null,n=[],r=[],i=null,a=null,l=null){return new G5(t,e,n,r,i,a,l)}function Qm(t){const e=ft(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),sb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>o0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>o0(r)).join(",")),e.dt=n}return e.dt}function db(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jV(t.startAt,e.startAt)&&jV(t.endAt,e.endAt)}function eS(t){return dt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function tS(t,e){return t.filters.filter(n=>n instanceof Cn&&n.field.isEqual(e))}function YV(t,e,n){let r=QA,i=!0;for(const a of tS(t,e)){let l=QA,f=!0;switch(a.op){case"<":case"<=":l=V5(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=QA}UV({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];UV({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}return{value:r,inclusive:i}}function QV(t,e,n){let r=vp,i=!0;for(const a of tS(t,e)){let l=vp,f=!0;switch(a.op){case">=":case">":l=B5(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=vp}VV({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==n)for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];VV({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}return{value:r,inclusive:i}}class ch{constructor(e,n=null,r=[],i=[],a=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function XV(t,e,n,r,i,a,l,f){return new ch(t,e,n,r,i,a,l,f)}function l0(t){return new ch(t)}function JV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function fR(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function nS(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function pR(t){return null!==t.collectionGroup}function Xm(t){const e=ft(t);if(null===e.wt){e.wt=[];const n=nS(e),r=fR(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new a0(n)),e.wt.push(new a0(Qr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new a0(Qr.keyField(),a))}}}return e.wt}function Co(t){const e=ft(t);if(!e._t)if("F"===e.limitType)e._t=hR(e.path,e.collectionGroup,Xm(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Xm(e))n.push(new a0(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Cp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cp(e.startAt.position,e.startAt.inclusive):null;e._t=hR(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function gR(t,e){e.getFirstInequalityField(),nS(t);const n=t.filters.concat([e]);return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rS(t,e,n){return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hb(t,e){return db(Co(t),Co(e))&&t.limitType===e.limitType}function e3(t){return`${Qm(Co(t))}|lt:${t.limitType}`}function mR(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>qV(r)).join(", ")}]`),sb(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>o0(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>o0(r)).join(",")),`Target(${n})`}(Co(t))}; limitType=${t.limitType})`}function fb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):dt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Xm(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,a,l){const f=$V(i,a,l);return i.inclusive?f<=0:f<0}(n.startAt,Xm(n),r)||n.endAt&&!function(i,a,l){const f=$V(i,a,l);return i.inclusive?f>=0:f>0}(n.endAt,Xm(n),r)));var n,r}function t3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function n3(t){return(e,n)=>{let r=!1;for(const i of Xm(t)){const a=K5(i,e,n);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function K5(t,e,n){const r=t.field.isKeyField()?dt.comparator(e.key,n.key):function(i,a,l){const f=a.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Ep(f,m):Et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}class dh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gp(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return PV(this.inner)}size(){return this.innerSize}}const Y5=new ar(dt.comparator);function Qo(){return Y5}const r3=new ar(dt.comparator);function pb(...t){let e=r3;for(const n of t)e=e.insert(n.key,n);return e}function i3(t){let e=r3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pc(){return gb()}function s3(){return gb()}function gb(){return new dh(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q5=new ar(dt.comparator),X5=new yr(dt.comparator);function nn(...t){let e=X5;for(const n of t)e=e.add(n);return e}const J5=new yr(Kt);function _R(){return J5}function o3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ob(e)?"-0":e}}function a3(t){return{integerValue:""+t}}function u3(t,e){return bV(e)?a3(e):o3(t,e)}class iS{constructor(){this._=void 0}}function eZ(t,e,n){return t instanceof c0?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&KA(i)&&(i=YA(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Jm?c3(t,e):t instanceof e_?d3(t,e):function(r,i){const a=l3(r,i),l=h3(a)+h3(r.gt);return uR(a)&&uR(r.gt)?a3(l):o3(r.serializer,l)}(t,e)}function tZ(t,e,n){return t instanceof Jm?c3(t,e):t instanceof e_?d3(t,e):n}function l3(t,e){return t instanceof d0?uR(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class c0 extends iS{}class Jm extends iS{constructor(e){super(),this.elements=e}}function c3(t,e){const n=f3(e);for(const r of t.elements)n.some(i=>Mc(i,r))||n.push(r);return{arrayValue:{values:n}}}class e_ extends iS{constructor(e){super(),this.elements=e}}function d3(t,e){let n=f3(e);for(const r of t.elements)n=n.filter(i=>!Mc(i,r));return{arrayValue:{values:n}}}class d0 extends iS{constructor(e,n){super(),this.serializer=e,this.gt=n}}function h3(t){return Xr(t.integerValue||t.doubleValue)}function f3(t){return lb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class mb{constructor(e,n){this.field=e,this.transform=n}}class rZ{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sS(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class oS{}function p3(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new f0(t.key,xr.none()):new h0(t.key,t.data,xr.none());{const n=t.data,r=vs.empty();let i=new yr(Qr.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);null===l&&a.length>1&&(a=a.popLast(),l=n.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new hh(t.key,r,new Yo(i.toArray()),xr.none())}}function iZ(t,e,n){t instanceof h0?function(r,i,a){const l=r.value.clone(),f=_3(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hh?function(r,i,a){if(!sS(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=_3(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(m3(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function _b(t,e,n,r){return t instanceof h0?function(i,a,l,f){if(!sS(i.precondition,a))return l;const m=i.value.clone(),_=v3(i.fieldTransforms,f,a);return m.setAll(_),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof hh?function(i,a,l,f){if(!sS(i.precondition,a))return l;const m=v3(i.fieldTransforms,f,a),_=a.data;return _.setAll(m3(i)),_.setAll(m),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(t,e,n,r):(l=n,sS(t.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function sZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=l3(r.transform,i||null);null!=a&&(null===n&&(n=vs.empty()),n.set(r.field,a))}return n||null}function g3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&r0(n,r,(i,a)=>function nZ(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Jm&&r instanceof Jm||n instanceof e_&&r instanceof e_?r0(n.elements,r.elements,Mc):n instanceof d0&&r instanceof d0?Mc(n.gt,r.gt):n instanceof c0&&r instanceof c0);var n,r}(i,a))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class h0 extends oS{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hh extends oS{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function m3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _3(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,tZ(l,f,n[i]))}return r}function v3(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,eZ(a,l,e))}return r}class f0 extends oS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends oS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iZ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_b(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_b(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=s3();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=n.has(i.key)?null:f;const m=p3(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nn())}isEqual(e){return this.batchId===e.batchId&&r0(this.mutations,e.mutations,(n,r)=>g3(n,r))&&r0(this.baseMutations,e.baseMutations,(n,r)=>g3(n,r))}}class ER{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=Q5;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new ER(e,n,r,i)}}class CR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aZ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Di,Tn;function y3(t){switch(t){default:return Et();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function E3(t){if(void 0===t)return ai("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Di.OK:return _e.OK;case Di.CANCELLED:return _e.CANCELLED;case Di.UNKNOWN:return _e.UNKNOWN;case Di.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Di.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Di.INTERNAL:return _e.INTERNAL;case Di.UNAVAILABLE:return _e.UNAVAILABLE;case Di.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Di.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Di.NOT_FOUND:return _e.NOT_FOUND;case Di.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Di.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Di.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Di.ABORTED:return _e.ABORTED;case Di.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Di.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Di.DATA_LOSS:return _e.DATA_LOSS;default:return Et()}}(Tn=Di||(Di={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class wR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return aS}static getOrCreateInstance(){return null===aS&&(aS=new wR),aS}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let aS=null;function C3(){return new TextEncoder}const uZ=new En([4294967295,4294967295],0);function w3(t){const e=C3().encode(t),n=new tn;return n.update(e),new Uint8Array(n.digest())}function b3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new En([n,r],0),new En([i,a],0)]}class bR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vb(`Invalid padding: ${n}`);if(r<0)throw new vb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vb(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new vb(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=En.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(En.fromNumber(r)));return 1===i.compare(uZ)&&(i=new En([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=w3(e),[r,i]=b3(n);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new bR(a,i,n);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const n=w3(e),[r,i]=b3(n);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class vb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eb.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yb(Mt.min(),i,new ar(Kt),Qo(),nn())}}class Eb{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eb(r,n,nn(),nn(),nn())}}class uS{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class D3{constructor(e,n){this.targetId=e,this.Vt=n}}class I3{constructor(e,n,r=Ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T3{constructor(){this.St=0,this.Dt=S3(),this.Ct=Ui.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),n=nn(),r=nn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et()}}),new Eb(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=S3()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lZ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qo(),this.zt=A3(),this.Wt=new ar(Kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(eS(l))if(0===i){const f=new dt(l.path);this.Yt(r,f,Er.newNoDocument(f,Mt.min()))}else St(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=wR.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(_,b,A){var P,F,z,te,ne,Ae;const Ge={localCacheCount:b,existenceFilterCount:A.count},He=A.unchangedNames;return He&&(Ge.bloomFilter={applied:0===_,hashCount:null!==(P=He?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(te=null===(z=null===(F=He?.bits)||void 0===F?void 0:F.bitmap)||void 0===z?void 0:z.length)&&void 0!==te?te:0,padding:null!==(Ae=null===(ne=He?.bits)||void 0===ne?void 0:ne.padding)&&void 0!==Ae?Ae:0}),Ge}(m,f,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let m,_;try{m=lh(a).toUint8Array()}catch(b){if(b instanceof NV)return Tu("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new bR(m,l,f)}catch(b){return Tu(b instanceof vb?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:i!==n-this.oe(e.targetId,_)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;n.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&eS(f.target)){const m=new dt(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Er.newNoDocument(m,e))}a.Mt&&(n.set(l,a.Ot()),a.Ft())}});let r=nn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new yb(e,n,this.Wt,this.jt,r);return this.jt=Qo(),this.zt=A3(),this.Wt=new ar(Kt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new T3,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new yr(Kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||qe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new T3),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function A3(){return new ar(dt.comparator)}function S3(){return new ar(dt.comparator)}const cZ={asc:"ASCENDING",desc:"DESCENDING"},dZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hZ={and:"AND",or:"OR"};class fZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DR(t,e){return t.useProto3Json||sb(e)?e:{value:e}}function p0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pZ(t,e){return p0(t,e.toTimestamp())}function ui(t){return St(!!t),Mt.fromTimestamp(function(e){const n=mp(e);return new Sr(n.seconds,n.nanos)}(t))}function IR(t,e){return(n=t,new In(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function M3(t){const e=In.fromString(t);return St(V3(e)),e}function Cb(t,e){return IR(t.databaseId,e.path)}function Oc(t,e){const n=M3(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dt(O3(n))}function TR(t,e){return IR(t.databaseId,e)}function P3(t){const e=M3(t);return 4===e.length?In.emptyPath():O3(e)}function wb(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O3(t){return St(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function N3(t,e,n){return{name:Cb(t,e),fields:n.value.mapValue.fields}}function R3(t,e,n){const r=Oc(t,e.name),i=ui(e.updateTime),a=e.createTime?ui(e.createTime):Mt.min(),l=new vs({mapValue:{fields:e.fields}}),f=Er.newFoundDocument(r,i,a,l);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function bb(t,e){let n;if(e instanceof h0)n={update:N3(t,e.key,e.value)};else if(e instanceof f0)n={delete:Cb(t,e.key)};else if(e instanceof hh)n={update:N3(t,e.key,e.data),updateMask:wZ(e.fieldMask)};else{if(!(e instanceof vR))return Et();n={verify:Cb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof c0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof e_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof d0)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Et()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pZ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Et()),n;var i}function AR(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?xr.updateTime(ui(i.updateTime)):void 0!==i.exists?xr.exists(i.exists):xr.none():xr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(St("REQUEST_TIME"===l.setToServerValue),f=new c0):"appendMissingElements"in l?f=new Jm(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new e_(l.removeAllFromArray.values||[]):"increment"in l?f=new d0(a,l.increment):Et();const m=Qr.fromServerFormat(l.fieldPath);return new mb(m,f)}(t,i)):[];var i;if(e.update){const i=Oc(t,e.update.name),a=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Yo((e.updateMask.fieldPaths||[]).map(_=>Qr.fromServerFormat(_)));return new hh(i,a,l,n,r)}return new h0(i,a,n,r)}if(e.delete){const i=Oc(t,e.delete);return new f0(i,n)}if(e.verify){const i=Oc(t,e.verify);return new vR(i,n)}return Et()}function k3(t,e){return{documents:[TR(t,e.path)]}}function SR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=TR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=TR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return U3(Gn.create(m,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(_=>{return{field:wp((b=_).field),direction:yZ(b.dir)};var b})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=DR(t,e.limit);var f,m;return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),n}function L3(t){let e=P3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(1===r);const b=n.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let a=[];n.where&&(a=function(b){const A=F3(b);return A instanceof Gn&&cR(A)?A.getFilters():[A]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(b=>{return new a0(g0((A=b).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;n.limit&&(f=function(b){let A;return A="object"==typeof b?b.value:b,sb(A)?null:A}(n.limit));let m=null;var b;n.startAt&&(m=new Cp((b=n.startAt).values||[],!!b.before));let _=null;return n.endAt&&(_=function(b){return new Cp(b.values||[],!b.before)}(n.endAt)),XV(e,i,l,a,f,"F",m,_)}function F3(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=g0(e.unaryFilter.field);return Cn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=g0(e.unaryFilter.field);return Cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=g0(e.unaryFilter.field);return Cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=g0(e.unaryFilter.field);return Cn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(t):void 0!==t.fieldFilter?Cn.create(g0((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Gn.create(e.compositeFilter.filters.map(n=>F3(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(t):Et();var e}function yZ(t){return cZ[t]}function EZ(t){return dZ[t]}function CZ(t){return hZ[t]}function wp(t){return{fieldPath:t.canonicalString()}}function g0(t){return Qr.fromServerFormat(t.fieldPath)}function U3(t){return t instanceof Cn?function(e){if("=="===e.op){if(LV(e.value))return{unaryFilter:{field:wp(e.field),op:"IS_NAN"}};if(kV(e.value))return{unaryFilter:{field:wp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LV(e.value))return{unaryFilter:{field:wp(e.field),op:"IS_NOT_NAN"}};if(kV(e.value))return{unaryFilter:{field:wp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wp(e.field),op:EZ(e.op),value:e.value}}}(t):t instanceof Gn?function(e){const n=e.getFilters().map(r=>U3(r));return 1===n.length?n[0]:{compositeFilter:{op:CZ(e.op),filters:n}}}(t):Et()}function wZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V3(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class fh{constructor(e,n,r,i,a=Mt.min(),l=Mt.min(),f=Ui.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class B3{constructor(e){this.fe=e}}function $3(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Cb(i=t.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:p0(i,a.version.toTimestamp()),createTime:p0(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:t_(e.version)};else{if(!e.isUnknownDocument())return Et();r.unknownDocument={path:n.path.toArray(),version:t_(e.version)}}var i,a;return r}function lS(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function t_(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function n_(t){const e=new Sr(t.seconds,t.nanoseconds);return Mt.fromTimestamp(e)}function r_(t,e){const n=(e.baseMutations||[]).map(a=>AR(t.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>AR(t.fe,a)),i=Sr.fromMillis(e.localWriteTimeMs);return new yR(e.batchId,i,n,r)}function Db(t){const e=n_(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?n_(t.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==t.query.documents?(St(1===(i=t.query).documents.length),r=Co(l0(P3(i.documents[0])))):r=Co(L3(t.query)),new fh(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ui.fromBase64String(t.resumeToken))}function j3(t,e){const n=t_(e.snapshotVersion),r=t_(e.lastLimboFreeSnapshotVersion);let i;i=eS(e.target)?k3(t.fe,e.target):SR(t.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qm(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xR(t){const e=L3({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rS(e,e.limit,"L"):e}function MR(t,e){return new CR(e.largestBatchId,AR(t.fe,e.overlayMutation))}function H3(t,e){const n=e.path.lastSegment();return[t,Hs(e.path.popLast()),n]}function Z3(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:t_(r.readTime),documentKey:Hs(r.documentKey.path),largestBatchId:r.largestBatchId}}class DZ{getBundleMetadata(e,n){return z3(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:n_(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return z3(e).put({bundleId:(r=n).id,createTime:t_(ui(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return W3(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:xR(i.bundledQuery),readTime:n_(i.readTime)};var i})}saveNamedQuery(e,n){return W3(e).put({name:(r=n).name,readTime:t_(ui(r.readTime)),bundledQuery:r.bundledQuery});var r}}function z3(t){return Ki(t,"bundles")}function W3(t){return Ki(t,"namedQueries")}class cS{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new cS(e,n.uid||"")}getOverlay(e,n){return Ib(e).get(H3(this.userId,n)).next(r=>r?MR(this.serializer,r):null)}getOverlays(e,n){const r=Pc();return de.forEach(n,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,l)=>{const f=new CR(n,l);i.push(this.we(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(l=>i.add(Hs(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Ib(e).J("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Pc(),a=Hs(n),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ib(e).j("collectionPathOverlayIndex",l).next(f=>{for(const m of f){const _=MR(this.serializer,m);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Pc();let l;const f=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ib(e).X({index:"collectionGroupOverlayIndex",range:f},(m,_,b)=>{const A=MR(this.serializer,_);a.size()<i||A.largestBatchId===l?(a.set(A.getKey(),A),l=A.largestBatchId):b.done()}).next(()=>a)}we(e,n){return Ib(e).put(function(r,i,a){const[l,f,m]=H3(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:bb(r.fe,a.mutation)}}(this.serializer,this.userId,n))}}function Ib(t){return Ki(t,"documentOverlays")}class i_{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Xr(e.integerValue));else if("doubleValue"in e){const r=Xr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ob(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(lh(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?FV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Et()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),dt.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function IZ(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function q3(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const a=IZ(255&n[i]);if(r+=a,8!==a)break}return r}(t);return Math.ceil(e/8)}i_.Ve=new i_;class TZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=q3(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=q3(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class AZ{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class SZ{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Tb{constructor(){this.je=new TZ,this.ze=new AZ(this.je),this.We=new SZ(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class s_{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new s_(this.indexId,this.documentKey,this.arrayValue,r)}}function bp(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=G3(t.arrayValue,e.arrayValue),0!==n?n:(n=G3(t.directionalValue,e.directionalValue),0!==n?n:dt.comparator(t.documentKey,e.documentKey)))}function G3(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class xZ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){St(e.collectionGroup===this.collectionId);const n=nR(e);if(void 0!==n&&!this.en(n))return!1;const r=Gm(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function K3(t){var e,n;if(St(t instanceof Cn||t instanceof Gn),t instanceof Cn){if(t instanceof KV){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(a=>Cn.create(t.field,"==",a)))||[];return Gn.create(i,"or")}return t}const r=t.filters.map(i=>K3(i));return Gn.create(r,t.op)}function MZ(t){if(0===t.getFilters().length)return[];const e=NR(K3(t));return St(Y3(e)),PR(e)||OR(e)?[e]:e.getFilters()}function PR(t){return t instanceof Cn}function OR(t){return t instanceof Gn&&cR(t)}function Y3(t){return PR(t)||OR(t)||function(e){if(e instanceof Gn&&lR(e)){for(const n of e.getFilters())if(!PR(n)&&!OR(n))return!1;return!0}return!1}(t)}function NR(t){if(St(t instanceof Cn||t instanceof Gn),t instanceof Cn)return t;if(1===t.filters.length)return NR(t.filters[0]);const e=t.filters.map(r=>NR(r));let n=Gn.create(e,t.op);return n=dS(n),Y3(n)?n:(St(n instanceof Gn),St(u0(n)),St(n.filters.length>1),n.filters.reduce((r,i)=>RR(r,i)))}function RR(t,e){let n;return St(t instanceof Cn||t instanceof Gn),St(e instanceof Cn||e instanceof Gn),n=t instanceof Cn?e instanceof Cn?Gn.create([t,e],"and"):Q3(t,e):e instanceof Cn?Q3(e,t):function(r,i){if(St(r.filters.length>0&&i.filters.length>0),u0(r)&&u0(i))return WV(r,i.getFilters());const a=lR(r)?r:i,l=lR(r)?i:r,f=a.filters.map(m=>RR(m,l));return Gn.create(f,"or")}(t,e),dS(n)}function Q3(t,e){if(u0(e))return WV(e,t.getFilters());{const n=e.filters.map(r=>RR(t,r));return Gn.create(n,"or")}}function dS(t){if(St(t instanceof Cn||t instanceof Gn),t instanceof Cn)return t;const e=t.getFilters();if(1===e.length)return dS(e[0]);if(ZV(t))return t;const n=e.map(i=>dS(i)),r=[];return n.forEach(i=>{i instanceof Cn?r.push(i):i instanceof Gn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Gn.create(r,t.op)}class PZ{constructor(){this.rn=new kR}addToCollectionParentIndex(e,n){return this.rn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Ra.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class kR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yr(In.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(In.comparator)).toArray()}}const hS=new Uint8Array(0);class OZ{constructor(e,n){this.user=e,this.databaseId=n,this.on=new kR,this.un=new dh(r=>Qm(r),(r,i)=>db(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const a={collectionId:r,parent:Hs(i)};return X3(e).put(a)}return de.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[_V(n),""],!1,!0);return X3(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==n)break;r.push(xc(l.parent))}return r})}addFieldIndex(e,n){const r=fS(e),i={indexId:(l=n).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(n.indexState){const l=Sb(e);return a.next(f=>{l.put(Z3(f,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=fS(e),i=Sb(e),a=Ab(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ab(e);let i=!0;const a=new Map;return de.forEach(this.cn(n),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=nn();const f=[];return de.forEach(a,(m,_)=>{var b;qe("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${Qm(n)}`);const A=function(He,Oe){const st=nR(Oe);if(void 0===st)return null;for(const pt of tS(He,st.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(_,m),P=function(He,Oe){const st=new Map;for(const pt of Gm(Oe))for(const qt of tS(He,pt.fieldPath))switch(qt.op){case"==":case"in":st.set(pt.fieldPath.canonicalString(),qt.value);break;case"not-in":case"!=":return st.set(pt.fieldPath.canonicalString(),qt.value),Array.from(st.values())}return null}(_,m),F=function(He,Oe){const st=[];let pt=!0;for(const qt of Gm(Oe)){const Rn=0===qt.kind?YV(He,qt.fieldPath,He.startAt):QV(He,qt.fieldPath,He.startAt);st.push(Rn.value),pt&&(pt=Rn.inclusive)}return new Cp(st,pt)}(_,m),z=function(He,Oe){const st=[];let pt=!0;for(const qt of Gm(Oe)){const Rn=0===qt.kind?QV(He,qt.fieldPath,He.endAt):YV(He,qt.fieldPath,He.endAt);st.push(Rn.value),pt&&(pt=Rn.inclusive)}return new Cp(st,pt)}(_,m),te=this.hn(m,_,F),ne=this.hn(m,_,z),Ae=this.ln(m,_,P),Ge=this.fn(m.indexId,A,te,F.inclusive,ne,z.inclusive,Ae);return de.forEach(Ge,He=>r.H(He,n.limit).next(Oe=>{Oe.forEach(st=>{const pt=dt.fromSegments(st.documentKey);l.has(pt)||(l=l.add(pt),f.push(pt))})}))}).next(()=>f)}return de.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:MZ(Gn.create(e.filters,"and")).map(r=>hR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,a,l,f){const m=(null!=n?n.length:1)*Math.max(r.length,a.length),_=m/(null!=n?n.length:1),b=[];for(let A=0;A<m;++A){const P=n?this.dn(n[A/_]):hS,F=this.wn(e,P,r[A%_],i),z=this._n(e,P,a[A%_],l),te=f.map(ne=>this.wn(e,P,ne,!0));b.push(...this.createRange(F,z,te))}return b}wn(e,n,r,i){const a=new s_(e,dt.empty(),n,r);return i?a:a.Je()}_n(e,n,r,i){const a=new s_(e,dt.empty(),n,r);return i?a.Je():a}an(e,n){const r=new xZ(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,n){let r=2;const i=this.cn(n);return de.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new yr(Qr.comparator),_=!1;for(const b of f.filters)for(const A of b.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?_=!0:m=m.add(A.field));for(const b of f.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(a)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}mn(e,n){const r=new Tb;for(const i of Gm(e)){const a=n.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);i_.Ve._e(a,l)}return r.Qe()}dn(e){const n=new Tb;return i_.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Tb;return i_.Ve._e(Ym(this.databaseId,n),r.He(function(i){const a=Gm(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let i=[];i.push(new Tb);let a=0;for(const l of Gm(e)){const f=r[a++];for(const m of i)if(this.yn(n,l.fieldPath)&&lb(f))i=this.pn(i,l,f);else{const _=m.He(l.kind);i_.Ve._e(f,_)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const m=new Tb;m.seed(f.Qe()),i_.Ve._e(l,m.He(n.kind)),a.push(m)}return a}yn(e,n){return!!e.filters.find(r=>r instanceof Cn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=fS(e),i=Sb(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(a=>{const l=[];return de.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{l.push(function(_,b){const A=b?new rb(b.sequenceNumber,new Ra(n_(b.readTime),new dt(xc(b.documentKey)),b.largestBatchId)):rb.empty(),P=_.fields.map(([F,z])=>new zA(Qr.fromServerFormat(F),z));return new ZA(_.indexId,_.collectionGroup,P,A)}(f,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Kt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=fS(e),a=Sb(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(f=>de.forEach(f,m=>a.put(Z3(m.indexId,this.user,l,r)))))}updateIndexEntries(e,n){const r=new Map;return de.forEach(n,(i,a)=>{const l=r.get(i.collectionGroup);return(l?de.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,m=>this.En(e,i,m).next(_=>{const b=this.An(a,m);return _.isEqual(b)?de.resolve():this.vn(e,a,m,_,b)}))))})}Rn(e,n,r,i){return Ab(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return Ab(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=Ab(e);let a=new yr(bp);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(l,f)=>{a=a.add(new s_(r.indexId,n,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,n){let r=new yr(bp);const i=this.mn(n,e);if(null==i)return r;const a=nR(n);if(null!=a){const l=e.data.field(a.fieldPath);if(lb(l))for(const f of l.arrayValue.values||[])r=r.add(new s_(n.indexId,e.key,this.dn(f),i))}else r=r.add(new s_(n.indexId,e.key,hS,i));return r}vn(e,n,r,i,a){qe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const l=[];return function(f,m,_,b,A){const P=f.getIterator(),F=m.getIterator();let z=s0(P),te=s0(F);for(;z||te;){let ne=!1,Ae=!1;if(z&&te){const Ge=_(z,te);Ge<0?Ae=!0:Ge>0&&(ne=!0)}else null!=z?Ae=!0:ne=!0;ne?(b(te),te=s0(F)):Ae?(A(z),z=s0(P)):(z=s0(P),te=s0(F))}}(i,a,bp,f=>{l.push(this.Rn(e,n,r,f))},f=>{l.push(this.Pn(e,n,r,f))}),de.waitFor(l)}Tn(e){let n=1;return Sb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((l,f)=>bp(l,f)).filter((l,f,m)=>!f||0!==bp(l,m[f-1]));const i=[];i.push(e);for(const l of r){const f=bp(l,e),m=bp(l,n);if(0===f)i[0]=e.Je();else if(f>0&&m<0)i.push(l),i.push(l.Je());else if(m>0)break}i.push(n);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,hS,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,hS,[]]))}return a}bn(e,n){return bp(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(J3)}getMinOffset(e,n){return de.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||Et())).next(J3)}}function X3(t){return Ki(t,"collectionParents")}function Ab(t){return Ki(t,"indexEntries")}function fS(t){return Ki(t,"indexConfiguration")}function Sb(t){return Ki(t,"indexState")}function J3(t){St(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;rR(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ra(e.readTime,e.documentKey,n)}const eB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],l=IDBKeyRange.only(n.batchId);let f=0;const m=r.X({range:l},(b,A,P)=>(f++,P.delete()));a.push(m.next(()=>{St(1===f)}));const _=[];for(const b of n.mutations){const A=TV(e,b.key.path,n.batchId);a.push(i.delete(A)),_.push(b.key)}return de.waitFor(a).next(()=>_)}function pS(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Et();e=t.noDocument}return JSON.stringify(e).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class gS{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){St(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new gS(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dp(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{n=!1,l.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=m0(e),l=Dp(e);return l.add({}).next(f=>{St("number"==typeof f);const m=new yR(f,n,r,i),_=function(P,F,z){const te=z.baseMutations.map(Ae=>bb(P.fe,Ae)),ne=z.mutations.map(Ae=>bb(P.fe,Ae));return{userId:F,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:te,mutations:ne}}(this.serializer,this.userId,m),b=[];let A=new yr((P,F)=>Kt(P.canonicalString(),F.canonicalString()));for(const P of i){const F=TV(this.userId,P.key.path,f);A=A.add(P.key.path.popLast()),b.push(l.put(_)),b.push(a.put(F,y5))}return A.forEach(P=>{b.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),de.waitFor(b).next(()=>m)})}lookupMutationBatch(e,n){return Dp(e).get(n).next(r=>r?(St(r.userId===this.userId),r_(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?de.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Dp(e).X({index:"userMutationsIndex",range:i},(l,f,m)=>{f.userId===this.userId&&(St(f.batchId>=r),a=r_(this.serializer,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Dp(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dp(e).j("userMutationsIndex",n).next(r=>r.map(i=>r_(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=qA(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return m0(e).X({range:i},(l,f,m)=>{const[_,b,A]=l,P=xc(b);if(_===this.userId&&n.path.isEqual(P))return Dp(e).get(A).next(F=>{if(!F)throw Et();St(F.userId===this.userId),a.push(r_(this.serializer,F))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Kt);const i=[];return n.forEach(a=>{const l=qA(this.userId,a.path),f=IDBKeyRange.lowerBound(l),m=m0(e).X({range:f},(_,b,A)=>{const[P,F,z]=_,te=xc(F);P===this.userId&&a.path.isEqual(te)?r=r.add(z):A.done()});i.push(m)}),de.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=qA(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new yr(Kt);return m0(e).X({range:l},(m,_,b)=>{const[A,P,F]=m,z=xc(P);A===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add(F)):b.done()}).next(()=>this.Dn(e,f))}Dn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(Dp(e).get(a).next(l=>{if(null===l)throw Et();St(l.userId===this.userId),r.push(r_(this.serializer,l))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return tB(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return m0(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const m=xc(a[1]);i.push(m)}else f.done()}).next(()=>{St(0===i.length)})})}containsKey(e,n){return nB(e,this.userId,n)}xn(e){return rB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nB(t,e,n){const r=qA(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return m0(t).X({range:a,Y:!0},(f,m,_)=>{const[b,A,P]=f;b===e&&A===i&&(l=!0),_.done()}).next(()=>l)}function Dp(t){return Ki(t,"mutations")}function m0(t){return Ki(t,"documentMutations")}function rB(t){return Ki(t,"mutationQueues")}class o_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new o_(0)}static Mn(){return new o_(-1)}}class NZ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new o_(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Mt.fromTimestamp(new Sr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>_0(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return _0(e).X((l,f)=>{const m=Db(f);m.sequenceNumber<=n&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>de.waitFor(a)).next(()=>i)}forEachTarget(e,n){return _0(e).X((r,i)=>{const a=Db(i);n(a)})}$n(e){return iB(e).get("targetGlobalKey").next(n=>(St(null!==n),n))}On(e,n){return iB(e).put("targetGlobalKey",n)}Fn(e,n){return _0(e).put(j3(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Qm(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return _0(e).X({range:i,index:"queryTargetsIndex"},(l,f,m)=>{const _=Db(f);db(n,_.target)&&(a=_,m.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Ip(e);return n.forEach(l=>{const f=Hs(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),de.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ip(e);return de.forEach(n,a=>{const l=Hs(a.path);return de.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Ip(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ip(e);let a=nn();return i.X({range:r,Y:!0},(l,f,m)=>{const _=xc(l[1]),b=new dt(_);a=a.add(b)}).next(()=>a)}containsKey(e,n){const r=Hs(n.path),i=IDBKeyRange.bound([r],[_V(r)],!1,!0);let a=0;return Ip(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],m,_)=>{0!==l&&(a++,_.done())}).next(()=>a>0)}le(e,n){return _0(e).get(n).next(r=>r?Db(r):null)}}function _0(t){return Ki(t,"targets")}function iB(t){return Ki(t,"targetGlobal")}function Ip(t){return Ki(t,"targetDocuments")}function sB([t,e],[n,r]){const i=Kt(t,n);return 0===i?Kt(e,r):i}class RZ{constructor(e){this.Ln=e,this.buffer=new yr(sB),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sB(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){pp(r)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fp(r)}yield n.Qn(3e5)}))}}class kZ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return de.resolve(ka.ct);const r=new RZ(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(eB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eB):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,a,l,f,m,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,l=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,n))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(_=Date.now(),tb()<=Go.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class LZ{constructor(e,n){this.db=e,this.garbageCollector=function aB(t,e){return new kZ(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return mS(e,r)}removeReference(e,n,r){return mS(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return mS(e,n)}Xn(e,n){return function(r,i){let a=!1;return rB(r).Z(l=>nB(r,l,i).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=n){const m=this.Xn(e,l).next(_=>{if(!_)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Mt.min()),Ip(e).delete([0,Hs(l.path)])))});i.push(m)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return mS(e,n)}Yn(e,n){const r=Ip(e);let i,a=ka.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:m,sequenceNumber:_})=>{0===l?(a!==ka.ct&&n(new dt(xc(i)),a),a=_,i=m):a=ka.ct}).next(()=>{a!==ka.ct&&n(new dt(xc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mS(t,e){return Ip(t).put((r=t.currentSequenceNumber,{targetId:0,path:Hs(e.path),sequenceNumber:r}));var r}class uB{constructor(){this.changes=new dh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return a_(e).put(r)}removeEntry(e,n,r){return a_(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],lS(a),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Er.newInvalidDocument(n);return a_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xb(n))},(i,a)=>{r=this.ts(n,a)}).next(()=>r)}es(e,n){let r={size:0,document:Er.newInvalidDocument(n)};return a_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xb(n))},(i,a)=>{r={document:this.ts(n,a),size:pS(a)}}).next(()=>r)}getEntries(e,n){let r=Qo();return this.ns(e,n,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,n){let r=Qo(),i=new ar(dt.comparator);return this.ns(e,n,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,pS(l))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return de.resolve();let i=new yr(hB);n.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(xb(i.first()),xb(i.last())),l=i.getIterator();let f=l.getNext();return a_(e).X({index:"documentKeyIndex",range:a},(m,_,b)=>{const A=dt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;f&&hB(f,A)<0;)r(f,null),f=l.getNext();f&&f.isEqual(A)&&(r(f,_),f=l.hasNext()?l.getNext():null),f?b.G(xb(f)):b.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),lS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return a_(e).j(IDBKeyRange.bound(l,f,!0)).next(m=>{let _=Qo();for(const b of m){const A=this.ts(dt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);A.isFoundDocument()&&(fb(n,A)||i.has(A.key))&&(_=_.insert(A.key,A))}return _})}getAllFromCollectionGroup(e,n,r,i){let a=Qo();const l=dB(n,r),f=dB(n,Ra.max());return a_(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(m,_,b)=>{const A=this.ts(dt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);a=a.insert(A.key,A),a.size===i&&b.done()}).next(()=>a)}newChangeBuffer(e){return new UZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return cB(e).get("remoteDocumentGlobalKey").next(n=>(St(!!n),n))}Zn(e,n){return cB(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function bZ(t,e){let n;if(e.document)n=R3(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=dt.fromSegments(e.noDocument.path),i=n_(e.noDocument.readTime);n=Er.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const r=dt.fromSegments(e.unknownDocument.path),i=n_(e.unknownDocument.version);n=Er.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Sr(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Er.newInvalidDocument(e)}}function lB(t){return new FZ(t)}class UZ extends uB{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new dh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new yr((a,l)=>Kt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(n.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const m=$3(this.os.serializer,l);i=i.add(a.path.popLast());const _=pS(m);r+=_-f.size,n.push(this.os.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=$3(this.os.serializer,l.convertToNoDocument(Mt.min()));n.push(this.os.addEntry(e,a,m))}}),i.forEach(a=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.os.updateMetadata(e,r)),de.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function cB(t){return Ki(t,"remoteDocumentGlobal")}function a_(t){return Ki(t,"remoteDocumentsV14")}function xb(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dB(t,e){const n=e.documentKey.path.toArray();return[t,lS(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hB(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Kt(n[a],r[a]),i)return i;return i=Kt(n.length,r.length),i||(i=Kt(n[n.length-2],r[r.length-2]),i||Kt(n[n.length-1],r[r.length-1]))}class VZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&_b(r.mutation,i,Yo.empty(),Sr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nn()){const i=Pc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=pb();return a.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Pc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nn()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{n.set(l,f)})})}computeViews(e,n,r,i){let a=Qo();const l=gb(),f=gb();return n.forEach((m,_)=>{const b=r.get(_.key);i.has(_.key)&&(void 0===b||b.mutation instanceof hh)?a=a.insert(_.key,_):void 0!==b?(l.set(_.key,b.mutation.getFieldMask()),_b(b.mutation,_,b.mutation.getFieldMask(),Sr.now())):l.set(_.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((_,b)=>l.set(_,b)),n.forEach((_,b)=>{var A;return f.set(_,new VZ(b,null!==(A=l.get(_))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,n){const r=gb();let i=new ar((l,f)=>l-f),a=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const f of l)f.keys().forEach(m=>{const _=n.get(m);if(null===_)return;let b=r.get(m)||Yo.empty();b=f.applyToLocalView(_,b),r.set(m,b);const A=(i.get(f.batchId)||nn()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),_=m.key,b=m.value,A=s3();b.forEach(P=>{if(!a.has(P)){const F=p3(n.get(P),r.get(P));null!==F&&A.set(P,F),a=a.add(P)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,A))}return de.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return dt.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):pR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):de.resolve(Pc());let f=-1,m=a;return l.next(_=>de.forEach(_,(b,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(b)?de.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{m=m.insert(b,P)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,m,_,nn())).next(b=>({batchId:f,changes:i3(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(r=>{let i=pb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=pb();return this.indexManager.getCollectionParents(e,i).next(l=>de.forEach(l,f=>{const m=(_=n,b=f.child(i),new ch(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(_=>{_.forEach((b,A)=>{a=a.insert(b,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(a=>{i.forEach((f,m)=>{const _=m.getKey();null===a.get(_)&&(a=a.insert(_,Er.newInvalidDocument(_)))});let l=pb();return a.forEach((f,m)=>{const _=i.get(f);void 0!==_&&_b(_.mutation,m,Yo.empty(),Sr.now()),fb(n,m)&&(l=l.insert(f,m))}),l})}}class BZ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return de.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ui(r.createTime)}),de.resolve()}getNamedQuery(e,n){return de.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:xR(r.bundledQuery),readTime:ui(r.readTime)}),de.resolve();var r}}class $Z{constructor(){this.overlays=new ar(dt.comparator),this.ls=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pc();return de.forEach(n,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.we(e,n,a)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=Pc(),a=n.length+1,l=new dt(n.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,_=m.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ar((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let b=a.get(_.largestBatchId);null===b&&(b=Pc(),a=a.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const f=Pc(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>f.set(_,b)),!(f.size()>=i)););return de.resolve(f)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new CR(n,r));let a=this.ls.get(n);void 0===a&&(a=nn(),this.ls.set(n,a)),this.ls.set(n,a.add(r.key))}}class LR{constructor(){this.fs=new yr(Yi.ds),this.ws=new yr(Yi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Yi(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Yi(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new dt(new In([])),r=new Yi(n,e),i=new Yi(n,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new dt(new In([])),r=new Yi(n,e),i=new Yi(n,e+1);let a=nn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Yi(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Yi{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return dt.comparator(e.key,n.key)||Kt(e.As,n.As)}static _s(e,n){return Kt(e.As,n.As)||dt.comparator(e.key,n.key)}}class jZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new yr(Yi.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const a=this.vs;this.vs++;const l=new yR(a,n,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Yi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yi(n,0),i=new Yi(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Kt);return n.forEach(i=>{const a=new Yi(i,0),l=new Yi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),de.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;dt.isDocumentKey(a)||(a=a.child(""));const l=new Yi(new dt(a),0);let f=new yr(Kt);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(m.As)),!0)},l),de.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){St(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return de.forEach(n.mutations,i=>{const a=new Yi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Yi(n,0),i=this.Rs.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HZ{constructor(e){this.Ds=e,this.docs=new ar(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(n))}getEntries(e,n){let r=Qo();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Er.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Qo();const l=n.path,f=new dt(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||rR(yV(b),r)<=0||(i.has(b.key)||fb(n,b))&&(a=a.insert(b.key,b.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Et()}Cs(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZZ(this)}getSize(e){return de.resolve(this.size)}}class ZZ extends uB{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class zZ{constructor(e){this.persistence=e,this.xs=new dh(n=>Qm(n),db),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LR,this.targetCount=0,this.Ms=o_.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),de.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new o_(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Fn(n),de.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=n&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(a).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ks.containsKey(n))}}class FR{constructor(e,n){this.$s={},this.overlays={},this.Os=new ka(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new zZ(this),this.indexManager=new PZ,this.remoteDocumentCache=new HZ(r=>this.referenceDelegate.Ls(r)),this.serializer=new B3(n),this.qs=new BZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $Z,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new jZ(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new WZ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,n){return de.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class WZ extends CV{constructor(e){super(),this.currentSequenceNumber=e}}class _S{constructor(e){this.persistence=e,this.Qs=new LR,this.js=null}static zs(e){return new _S(e)}get Ws(){if(this.js)return this.js;throw Et()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),de.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,r=>{const i=dt.fromPath(r);return this.Hs(e,i).next(a=>{a||n.removeEntry(i,Mt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return de.or([()=>de.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class qZ{constructor(e){this.serializer=e}O(e,n,r,i){const a=new WA("createOrUpgrade",n);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IV,{unique:!0}),f.createObjectStore("documentMutations"),pB(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),pB(e)),l=l.next(()=>function(f){const m=f.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,m){return m.store("mutations").j().next(_=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IV,{unique:!0});const b=m.store("mutations"),A=_.map(P=>b.put(P));return de.waitFor(A)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:P5});m.createIndex("collectionPathOverlayIndex",O5,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",N5,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:E5});m.createIndex("documentKeyIndex",C5),m.createIndex("collectionGroupIndex",w5)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:A5}).createIndex("sequenceNumberIndex",S5,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:x5}).createIndex("documentKeyIndex",M5,{unique:!1})}(e))),l}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=pS(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>de.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>de.forEach(f,m=>{St(m.userId===a.userId);const _=r_(this.serializer,m);return tB(e,a.userId,_).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const m=new In(l),_=[0,Hs(m)];a.push(n.get(_).next(b=>b?de.resolve():n.put({targetId:0,path:Hs(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:T5});const r=n.store("collectionParents"),i=new kR,a=l=>{if(i.add(l)){const f=l.lastSegment(),m=l.popLast();return r.put({collectionId:f,parent:Hs(m)})}};return n.store("remoteDocuments").X({Y:!0},(l,f)=>{const m=new In(l);return a(m.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([l,f,m],_)=>{const b=xc(f);return a(b.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const a=Db(i),l=j3(this.serializer,a);return n.put(l)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=n.store("remoteDocumentsV14"),m=(_=l,_.document?new dt(In.fromString(_.document.name).popFirst(5)):_.noDocument?dt.fromSegments(_.noDocument.path):_.unknownDocument?dt.fromSegments(_.unknownDocument.path):Et()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(b))}).next(()=>de.waitFor(i))}si(e,n){const r=n.store("mutations"),i=lB(this.serializer),a=new FR(_S.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(m=>{var _;let b=null!==(_=f.get(m.userId))&&void 0!==_?_:nn();r_(this.serializer,m).keys().forEach(A=>b=b.add(A)),f.set(m.userId,b)}),de.forEach(f,(m,_)=>{const b=new Yn(_),A=cS.de(this.serializer,b),P=a.getIndexManager(b),F=gS.de(b,this.serializer,P,a.referenceDelegate);return new fB(i,F,A,P).recalculateAndSaveOverlaysForDocumentKeys(new oR(n,ka.ct),m).next()})})}}function pB(t){t.createObjectStore("targetDocuments",{keyPath:D5}).createIndex("documentTargetsIndex",I5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",b5,{unique:!0}),t.createObjectStore("targetGlobal")}const UR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VR{constructor(e,n,r,i,a,l,f,m,_,b,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=_,this.oi=b,this.ui=A,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=P=>Promise.resolve(),!VR.D())throw new Be(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LZ(this,i),this.di=n+"main",this.serializer=new B3(m),this.wi=new cl(this.di,this.ui,new qZ(this.serializer)),this.Bs=new NZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lB(this.serializer),this.qs=new DZ,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,UR);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ka(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,be.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,be.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(pp(e))return qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Mb(e).get("owner").next(n=>de.resolve(this.Ri(n)))}Pi(e){return yS(e).delete(this.clientId)}bi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ki(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(m=>-1===l.indexOf(m));return de.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):Mb(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,UR);return!1}}return!(!this.networkEnabled||!this.inForeground)||yS(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&qe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new oR(n,ka.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>yS(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return gS.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OZ(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return cS.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){qe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",a=15===(l=this.ui)?k5:14===l?xV:13===l?SV:12===l?R5:11===l?AV:void Et();var l;let f;return this.wi.runTransaction(e,i,a,m=>(f=new oR(m,this.Os?this.Os.next():ka.ct),"readwrite-primary"===n?this.Ti(f).next(_=>!!_||this.Ei(f)).next(_=>{if(!_)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Be(_e.FAILED_PRECONDITION,EV);return r(f)}).next(_=>this.vi(f).next(()=>_)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return Mb(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Be(_e.FAILED_PRECONDITION,UR)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mb(e).put("owner",n)}static D(){return cl.D()}Ai(e){const n=Mb(e);return n.get("owner").next(r=>this.Ri(r)?(qe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):de.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,Q.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mb(t){return Ki(t,"owner")}function yS(t){return Ki(t,"clientMetadata")}function BR(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class $R{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=nn(),i=nn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $R(e,n.fromCache,r,i)}}class gB{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(a=>a||this.Gi(e,n,i,r)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(JV(n))return de.resolve(null);let r=Co(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=rS(n,null,"F"),r=Co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=nn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const _=this.ji(n,f);return this.zi(n,_,l,m.readTime)?this.Ki(e,rS(n,null,"F")):this.Wi(e,_,n,m)}))})))}Gi(e,n,r,i){return JV(n)||i.isEqual(Mt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(n,a);return this.zi(n,l,r,i)?this.Qi(e,n):(tb()<=Go.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mR(n)),this.Wi(e,l,n,vV(i,-1)))})}ji(e,n){let r=new yr(n3(e));return n.forEach((i,a)=>{fb(e,a)&&(r=r.add(a))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const a="F"===e.limitType?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,n){return tb()<=Go.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",mR(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ra.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}class GZ{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ar(Kt),this.Yi=new dh(a=>Qm(a),db),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function mB(t,e,n,r){return new GZ(t,e,n,r)}function _B(t,e){return jR.apply(this,arguments)}function jR(){return jR=(0,be.Z)(function*(t,e){const n=ft(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let m=nn();for(const _ of i){l.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of a){f.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return n.localDocuments.getDocuments(r,m).next(_=>({er:_,removedBatchIds:l,addedBatchIds:f}))})})}),jR.apply(this,arguments)}function vB(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function yB(t,e,n){let r=nn(),i=nn();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Qo();return n.forEach((f,m)=>{const _=a.get(f);m.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Mt.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):qe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",m.version)}),{nr:l,sr:i}})}function QZ(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v0(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(a=>a?(i=a,de.resolve(i)):n.Bs.allocateTargetId(r).next(l=>(i=new fh(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function y0(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=(0,be.Z)(function*(t,e,n){const r=ft(t),i=r.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!pp(l))throw l;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),HR.apply(this,arguments)}function ES(t,e,n){const r=ft(t);let i=Mt.min(),a=nn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,_){const b=ft(f),A=b.Yi.get(_);return void 0!==A?de.resolve(b.Ji.get(A)):b.Bs.getTargetData(m,_)}(r,l,Co(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,n?i:Mt.min(),n?a:nn())).next(f=>(wB(r,t3(e),f),{documents:f,ir:a})))}function EB(t,e){const n=ft(t),r=ft(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function CB(t,e){const n=ft(t),r=n.Xi.get(e)||Mt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,vV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(wB(n,e,i),i))}function wB(t,e,n){let r=t.Xi.get(e)||Mt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Xi.set(e,r)}function ZR(){return ZR=(0,be.Z)(function*(t,e,n,r){const i=ft(t);let a=nn(),l=Qo();for(const _ of n){const b=e.rr(_.metadata.name);_.document&&(a=a.add(b));const A=e.ur(_);A.setReadTime(e.cr(_.metadata.readTime)),l=l.insert(b,A)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),m=yield v0(i,(_=r,Co(l0(In.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>yB(_,f,l).next(b=>(f.apply(_),b)).next(b=>i.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>i.Bs.addMatchingKeys(_,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),ZR.apply(this,arguments)}function JZ(t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,be.Z)(function*(t,e,n=nn()){const r=yield v0(t,Co(xR(e.bundledQuery))),i=ft(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=ui(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Ui.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,n,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),zR.apply(this,arguments)}function bB(t,e){return`firestore_clients_${t}_${e}`}function DB(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function WR(t,e){return`firestore_targets_${t}_${e}`}class CS{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Be(i.error.code,i.error.message))),l?new CS(e,n,i.state,a):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pb{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Be(r.error.code,r.error.message))),a?new Pb(e,r.state,i):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wS{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_R();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=bV(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new wS(e,a):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class qR{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new qR(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GR{constructor(){this.activeTargetIds=_R()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(e,n,r,i,a){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ar(Kt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=bB(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new GR),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const n=yield e.syncEngine.$i();for(const i of n){if(i===e.wr)continue;const a=e.getItem(bB(e.persistenceKey,i));if(a){const l=wS.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(WR(this.persistenceKey,e));if(r){const i=Pb.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(WR(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return qe("SharedClientState","READ",e,n),n}setItem(e,n){qe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const i=n.Or(r.key);return n.Fr(i,null)}{const i=n.Br(r.key,r.newValue);if(i)return n.Fr(i.clientId,i)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const i=n.Lr(r.key,r.newValue);if(i)return n.qr(i)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const i=n.Ur(r.key,r.newValue);if(i)return n.Kr(i)}}else if(r.key===n.vr){if(null!==r.newValue){const i=n.br(r.newValue);if(i)return n.Vr(i)}}else if(r.key===n.Ir){const i=function(a){let l=ka.ct;if(null!=a)try{const f=JSON.parse(a);St("number"==typeof f),l=f}catch(f){ai("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==ka.ct&&n.sequenceNumberHandler(i)}else if(r.key===n.Rr){const i=n.Gr(r.newValue);yield Promise.all(i.map(a=>n.syncEngine.Qr(a)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new CS(this.currentUser,e,n,r),a=DB(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const n=DB(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const i=WR(this.persistenceKey,e),a=new Pb(e,n,r);this.setItem(i,a.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return wS.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]);return CS.ar(new Yn(void 0!==r[2]?r[2]:null),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Pb.ar(i,n)}br(e){return qR.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,be.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(m=>{i.has(m)||l.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=_R();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class IB{constructor(){this.Hr=new GR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new GR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ez{Yr(e){}shutdown(){}}class TB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bS=null;function YR(){return null===bS?bS=268435456+Math.round(2147483648*Math.random()):bS++,"0x"+bS.toString(16)}const tz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zs="WebChannelConnection";class rz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,a){const l=YR(),f=this.To(e,n);qe("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,a),this.Ao(e,f,m,r).then(_=>(qe("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw Tu("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",f,"request:",r),_})}vo(e,n,r,i,a,l){return this.Io(e,n,r,i,a)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,n){return`${this.mo}/v1/${n}:${tz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const a=YR();return new Promise((l,f)=>{const m=new Ht;m.setWithCredentials(!0),m.listenOnce(Te.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case se.NO_ERROR:const b=m.getResponseJson();qe(zs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(b)),l(b);break;case se.TIMEOUT:qe(zs,`RPC '${e}' ${a} timed out`),f(new Be(_e.DEADLINE_EXCEEDED,"Request time out"));break;case se.HTTP_ERROR:const A=m.getStatus();if(qe(zs,`RPC '${e}' ${a} failed with status:`,A,"response text:",m.getResponseText()),A>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const z=function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ne)>=0?ne:_e.UNKNOWN}(F.status);f(new Be(z,F.message))}else f(new Be(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Be(_e.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{qe(zs,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(i);qe(zs,`RPC '${e}' ${a} sending request:`,i),m.send(n,"POST",_,r,15)})}Ro(e,n,r){const i=YR(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=j(),f=X(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new Tt({})),this.Eo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const b=a.join("");qe(zs,`Creating RPC '${e}' stream ${i}: ${b}`,m);const A=l.createWebChannel(b,m);let P=!1,F=!1;const z=new nz({ro:ne=>{F?qe(zs,`Not sending because RPC '${e}' stream ${i} is closed:`,ne):(P||(qe(zs,`Opening RPC '${e}' stream ${i} transport.`),A.open(),P=!0),qe(zs,`RPC '${e}' stream ${i} sending:`,ne),A.send(ne))},oo:()=>A.close()}),te=(ne,Ae,Ge)=>{ne.listen(Ae,He=>{try{Ge(He)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return te(A,Ue.EventType.OPEN,()=>{F||qe(zs,`RPC '${e}' stream ${i} transport opened.`)}),te(A,Ue.EventType.CLOSE,()=>{F||(F=!0,qe(zs,`RPC '${e}' stream ${i} transport closed`),z.wo())}),te(A,Ue.EventType.ERROR,ne=>{F||(F=!0,Tu(zs,`RPC '${e}' stream ${i} transport errored:`,ne),z.wo(new Be(_e.UNAVAILABLE,"The operation could not be completed")))}),te(A,Ue.EventType.MESSAGE,ne=>{var Ae;if(!F){const Ge=ne.data[0];St(!!Ge);const Oe=Ge.error||(null===(Ae=Ge[0])||void 0===Ae?void 0:Ae.error);if(Oe){qe(zs,`RPC '${e}' stream ${i} received error:`,Oe);const st=Oe.status;let pt=function(Rn){const cr=Di[Rn];if(void 0!==cr)return E3(cr)}(st),qt=Oe.message;void 0===pt&&(pt=_e.INTERNAL,qt="Unknown error status: "+st+" with message "+Oe.message),F=!0,z.wo(new Be(pt,qt)),A.close()}else qe(zs,`RPC '${e}' stream ${i} received:`,Ge),z._o(Ge)}}),te(f,ze.STAT_EVENT,ne=>{ne.stat===lt.PROXY?qe(zs,`RPC '${e}' stream ${i} detected buffering proxy`):ne.stat===lt.NOPROXY&&qe(zs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function AB(){return typeof window<"u"?window:null}function DS(){return typeof document<"u"?document:null}function Ob(t){return new fZ(t,!0)}class QR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class SB{constructor(e,n,r,i,a,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new QR(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,be.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Be(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iz extends SB{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function mZ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Et(),i=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(St(void 0===_||"string"==typeof _),Ui.fromBase64String(_||"")):(St(void 0===_||_ instanceof Uint8Array),Ui.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const _=void 0===m.code?_e.UNKNOWN:E3(m.code);return new Be(_,m.message||"")}(l);n=new I3(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Oc(t,r.document.name),a=ui(r.document.updateTime),l=r.document.createTime?ui(r.document.createTime):Mt.min(),f=new vs({mapValue:{fields:r.document.fields}}),m=Er.newFoundDocument(i,a,l,f);n=new uS(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Oc(t,r.document),a=r.readTime?ui(r.readTime):Mt.min(),l=Er.newNoDocument(i,a);n=new uS([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Oc(t,r.document);n=new uS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Et();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new aZ(i,a);n=new D3(r.targetId,l)}}var m;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Mt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?ui(a.readTime):Mt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=wb(this.serializer),n.addTarget=function(i,a){let l;const f=a.target;if(l=eS(f)?{documents:k3(i,f)}:{query:SR(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=x3(i,a.resumeToken);const m=DR(i,a.expectedCount);null!==m&&(l.expectedCount=m)}else if(a.snapshotVersion.compareTo(Mt.min())>0){l.readTime=p0(i,a.snapshotVersion.toTimestamp());const m=DR(i,a.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function vZ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=wb(this.serializer),n.removeTarget=e,this.Wo(n)}}class sz extends SB{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function _Z(t,e){return t&&t.length>0?(St(void 0!==e),t.map(n=>function(r,i){let a=ui(r.updateTime?r.updateTime:i);return a.isEqual(Mt.min())&&(a=ui(i)),new rZ(a,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.cu(r,n)}return St(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wb(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bb(this.serializer,r))};this.Wo(n)}}class oz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,n,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(_e.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,n,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(_e.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class uz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ai(n),this.mu=!1):qe("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class lz{constructor(e,n,r,i,a){var l=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,be.Z)(function*(){var m;Tp(l)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,be.Z)(function*(_){const b=ft(_);b.vu.add(4),yield E0(b),b.bu.set("Unknown"),b.vu.delete(4),yield Nb(b)}),function(_){return m.apply(this,arguments)})(l))}))}),this.bu=new uz(r,i)}}function Nb(t){return JR.apply(this,arguments)}function JR(){return JR=(0,be.Z)(function*(t){if(Tp(t))for(const e of t.Ru)yield e(!0)}),JR.apply(this,arguments)}function E0(t){return ek.apply(this,arguments)}function ek(){return ek=(0,be.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),ek.apply(this,arguments)}function IS(t,e){const n=ft(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),rk(n)?nk(n):w0(n).Ko()&&tk(n,e))}function Rb(t,e){const n=ft(t),r=w0(n);n.Au.delete(e),r.Ko()&&xB(n,e),0===n.Au.size&&(r.Ko()?r.jo():Tp(n)&&n.bu.set("Unknown"))}function tk(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}w0(t).su(e)}function xB(t,e){t.Vu.qt(e),w0(t).iu(e)}function nk(t){t.Vu=new lZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),w0(t).start(),t.bu.gu()}function rk(t){return Tp(t)&&!w0(t).Uo()&&t.Au.size>0}function Tp(t){return 0===ft(t).vu.size}function MB(t){t.Vu=void 0}function cz(t){return ik.apply(this,arguments)}function ik(){return ik=(0,be.Z)(function*(t){t.Au.forEach((e,n)=>{tk(t,e)})}),ik.apply(this,arguments)}function dz(t,e){return sk.apply(this,arguments)}function sk(){return sk=(0,be.Z)(function*(t,e){MB(t),rk(t)?(t.bu.Iu(e),nk(t)):t.bu.set("Unknown")}),sk.apply(this,arguments)}function hz(t,e,n){return ok.apply(this,arguments)}function ok(){return ok=(0,be.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof I3&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(t,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield TS(t,r)}else if(e instanceof uS?t.Vu.Ht(e):e instanceof D3?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Mt.min()))try{const r=yield vB(t.localStore);n.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=i.Au.get(m);_&&i.Au.set(m,_.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,m)=>{const _=i.Au.get(f);if(!_)return;i.Au.set(f,_.withResumeToken(Ui.EMPTY_BYTE_STRING,_.snapshotVersion)),xB(i,f);const b=new fh(_.target,f,m,_.sequenceNumber);tk(i,b)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),yield TS(t,r)}var r}),ok.apply(this,arguments)}function TS(t,e,n){return ak.apply(this,arguments)}function ak(){return ak=(0,be.Z)(function*(t,e,n){if(!pp(e))throw e;t.vu.add(1),yield E0(t),t.bu.set("Offline"),n||(n=()=>vB(t.localStore)),t.asyncQueue.enqueueRetryable((0,be.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Nb(t)}))}),ak.apply(this,arguments)}function PB(t,e){return e().catch(n=>TS(t,n,e))}function C0(t){return uk.apply(this,arguments)}function uk(){return uk=(0,be.Z)(function*(t){const e=ft(t),n=Ap(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;fz(e);)try{const i=yield QZ(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,pz(e,i)}catch(i){yield TS(e,i)}OB(e)&&NB(e)}),uk.apply(this,arguments)}function fz(t){return Tp(t)&&t.Eu.length<10}function pz(t,e){t.Eu.push(e);const n=Ap(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function OB(t){return Tp(t)&&!Ap(t).Uo()&&t.Eu.length>0}function NB(t){Ap(t).start()}function gz(t){return lk.apply(this,arguments)}function lk(){return lk=(0,be.Z)(function*(t){Ap(t).hu()}),lk.apply(this,arguments)}function mz(t){return ck.apply(this,arguments)}function ck(){return ck=(0,be.Z)(function*(t){const e=Ap(t);for(const n of t.Eu)e.uu(n.mutations)}),ck.apply(this,arguments)}function _z(t,e,n){return dk.apply(this,arguments)}function dk(){return dk=(0,be.Z)(function*(t,e,n){const r=t.Eu.shift(),i=ER.from(r,e,n);yield PB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield C0(t)}),dk.apply(this,arguments)}function vz(t,e){return hk.apply(this,arguments)}function hk(){return hk=(0,be.Z)(function*(t,e){var n;e&&Ap(t).ou&&(yield(n=(0,be.Z)(function*(r,i){if(y3(a=i.code)&&a!==_e.ABORTED){const l=r.Eu.shift();Ap(r).Qo(),yield PB(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield C0(r)}var a}),function(r,i){return n.apply(this,arguments)})(t,e)),OB(t)&&NB(t)}),hk.apply(this,arguments)}function RB(t,e){return fk.apply(this,arguments)}function fk(){return fk=(0,be.Z)(function*(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Tp(n);n.vu.add(3),yield E0(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Nb(n)}),fk.apply(this,arguments)}function pk(t,e){return gk.apply(this,arguments)}function gk(){return gk=(0,be.Z)(function*(t,e){const n=ft(t);e?(n.vu.delete(2),yield Nb(n)):e||(n.vu.add(2),yield E0(n),n.bu.set("Unknown"))}),gk.apply(this,arguments)}function w0(t){return t.Su||(t.Su=function(e,n,r){const i=ft(e);return i.fu(),new iz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:cz.bind(null,t),ao:dz.bind(null,t),nu:hz.bind(null,t)}),t.Ru.push(function(){var e=(0,be.Z)(function*(n){n?(t.Su.Qo(),rk(t)?nk(t):t.bu.set("Unknown")):(yield t.Su.stop(),MB(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ap(t){return t.Du||(t.Du=function(e,n,r){const i=ft(e);return i.fu(),new sz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gz.bind(null,t),ao:vz.bind(null,t),au:mz.bind(null,t),cu:_z.bind(null,t)}),t.Ru.push(function(){var e=(0,be.Z)(function*(n){n?(t.Du.Qo(),yield C0(t)):(yield t.Du.stop(),t.Eu.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class mk{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,f=new mk(e,n,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(ai("AsyncQueue",`${e}: ${t}`),pp(t))return new Be(_e.UNAVAILABLE,`${e}: ${t}`);throw t}class D0{constructor(e){this.comparator=e?(n,r)=>e(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=pb(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new D0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof D0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new D0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class kB{constructor(){this.Cu=new ar(dt.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Et():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class I0{constructor(e,n,r,i,a,l,f,m,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(f=>{l.push({type:0,doc:f})}),new I0(e,n,D0.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class yz{constructor(){this.Nu=void 0,this.listeners=[]}}class Ez{constructor(){this.queries=new dh(e=>e3(e),hb),this.onlineState="Unknown",this.ku=new Set}}function _k(t,e){return vk.apply(this,arguments)}function vk(){return vk=(0,be.Z)(function*(t,e){const n=ft(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new yz),i)try{a.Nu=yield n.onListen(r)}catch(l){const f=b0(l,`Initialization of query '${mR(e.query)}' failed`);return void e.onError(f)}n.queries.set(r,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&Ck(n)}),vk.apply(this,arguments)}function yk(t,e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,be.Z)(function*(t,e){const n=ft(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Ek.apply(this,arguments)}function Cz(t,e){const n=ft(t);let r=!1;for(const i of e){const l=n.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&Ck(n)}function wz(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function Ck(t){t.ku.forEach(e=>{e.next()})}class wk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new I0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=I0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bz{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class LB{constructor(e){this.serializer=e}rr(e){return Oc(this.serializer,e)}ur(e){return e.metadata.exists?R3(this.serializer,e.document,!1):Er.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ui(e)}}class Dz{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FB(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=In.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new LB(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(n.get(l)||nn()).add(a);n.set(l,f)}}return n}complete(){var e=this;return(0,be.Z)(function*(){const n=yield function XZ(t,e,n,r){return ZR.apply(this,arguments)}(e.localStore,new LB(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield JZ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function FB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class UB{constructor(e){this.key=e}}class VB{constructor(e){this.key=e}}class BB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=n3(e),this.ec=new D0(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new kB,i=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,A)=>{const P=i.get(b),F=fb(this.query,A)?A:null,z=!!P&&this.mutatedKeys.has(P.key),te=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ne=!1;P&&F?P.data.isEqual(F.data)?z!==te&&(r.track({type:3,doc:F}),ne=!0):this.rc(P,F)||(r.track({type:2,doc:F}),ne=!0,(m&&this.tc(F,m)>0||_&&this.tc(F,_)<0)&&(f=!0)):!P&&F?(r.track({type:0,doc:F}),ne=!0):P&&!F&&(r.track({type:1,doc:P}),ne=!0,(m||_)&&(f=!0)),ne&&(F?(l=l.add(F),a=te?a.add(b):a.delete(b)):(l=l.delete(b),a=a.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),a=a.delete(b.key),r.track({type:1,doc:b})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((_,b)=>function(A,P){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return F(A)-F(P)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(r);const l=n?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==a.length||m?{snapshot:new I0(this.query,e.ec,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new VB(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new UB(r))}),n}hc(e){this.Yu=e.ir,this.Zu=nn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return I0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Iz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tz{constructor(e){this.key=e,this.fc=!1}}class Az{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new dh(f=>e3(f),hb),this._c=new Map,this.mc=new Set,this.gc=new ar(dt.comparator),this.yc=new Map,this.Ic=new LR,this.Tc={},this.Ec=new Map,this.Ac=o_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Sz(t,e){return bk.apply(this,arguments)}function bk(){return bk=(0,be.Z)(function*(t,e){const n=Wk(t);let r,i;const a=n.wc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield v0(n.localStore,Co(e)),f=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield Dk(n,e,r,"current"===f,l.resumeToken),n.isPrimaryClient&&IS(n.remoteStore,l)}return i}),bk.apply(this,arguments)}function Dk(t,e,n,r,i){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,be.Z)(function*(t,e,n,r,i){t.Rc=(A,P,F)=>{return(z=(0,be.Z)(function*(te,ne,Ae,Ge){let He=ne.view.sc(Ae);He.zi&&(He=yield ES(te.localStore,ne.query,!1).then(({documents:pt})=>ne.view.sc(pt,He)));const Oe=Ge&&Ge.targetChanges.get(ne.targetId),st=ne.view.applyChanges(He,te.isPrimaryClient,Oe);return kk(te,ne.targetId,st.cc),st.snapshot}),function(te,ne,Ae,Ge){return z.apply(this,arguments)})(t,A,P,F);var z};const a=yield ES(t.localStore,e,!0),l=new BB(e,a.ir),f=l.sc(a.documents),m=Eb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),_=l.applyChanges(f,t.isPrimaryClient,m);kk(t,n,_.cc);const b=new Iz(e,n,l);return t.wc.set(e,b),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),_.snapshot}),Ik.apply(this,arguments)}function xz(t,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,be.Z)(function*(t,e){const n=ft(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(a=>!hb(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield y0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Rb(n.remoteStore,r.targetId),T0(n,r.targetId)}).catch(fp))):(T0(n,r.targetId),yield y0(n.localStore,r.targetId,!0))}),Tk.apply(this,arguments)}function Ak(){return Ak=(0,be.Z)(function*(t,e,n){const r=qk(t);try{const i=yield function(a,l){const f=ft(a),m=Sr.now(),_=l.reduce((P,F)=>P.add(F.key),nn());let b,A;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let F=Qo(),z=nn();return f.Zi.getEntries(P,_).next(te=>{F=te,F.forEach((ne,Ae)=>{Ae.isValidDocument()||(z=z.add(ne))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,F)).next(te=>{b=te;const ne=[];for(const Ae of l){const Ge=sZ(Ae,b.get(Ae.key).overlayedDocument);null!=Ge&&ne.push(new hh(Ae.key,Ge,BV(Ge.value.mapValue),xr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,m,ne,l)}).next(te=>{A=te;const ne=te.applyToLocalDocumentSet(b,z);return f.documentOverlayCache.saveOverlays(P,te.batchId,ne)})}).then(()=>({batchId:A.batchId,changes:i3(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let m=a.Tc[a.currentUser.toKey()];m||(m=new ar(Kt)),m=m.insert(l,f),a.Tc[a.currentUser.toKey()]=m}(r,i.batchId,n),yield ph(r,i.changes),yield C0(r.remoteStore)}catch(i){const a=b0(i,"Failed to persist write");n.reject(a)}}),Ak.apply(this,arguments)}function $B(t,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,be.Z)(function*(t,e){const n=ft(t);try{const r=yield function YZ(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const f=[];e.targetChanges.forEach((b,A)=>{const P=i.get(A);if(!P)return;f.push(n.Bs.removeMatchingKeys(a,b.removedDocuments,A).next(()=>n.Bs.addMatchingKeys(a,b.addedDocuments,A)));let F=P.withSequenceNumber(a.currentSequenceNumber);var z,te,ne;null!==e.targetMismatches.get(A)?F=F.withResumeToken(Ui.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(A,F),te=F,ne=b,(0===(z=P).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&f.push(n.Bs.updateTargetData(a,F))});let m=Qo(),_=nn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(yB(a,l,e.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!r.isEqual(Mt.min())){const b=n.Bs.getLastRemoteSnapshotVersion(a).next(A=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return de.waitFor(f).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,m,_)).next(()=>m)}).then(a=>(n.Ji=i,a))}(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.yc.get(a);l&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?St(l.fc):i.removedDocuments.size>0&&(St(l.fc),l.fc=!1))}),yield ph(n,r,e)}catch(r){yield fp(r)}}),Sk.apply(this,arguments)}function jB(t,e,n){const r=ft(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=ft(a);f.onlineState=l;let m=!1;f.queries.forEach((_,b)=>{for(const A of b.listeners)A.Mu(l)&&(m=!0)}),m&&Ck(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pz(t,e,n){return xk.apply(this,arguments)}function xk(){return xk=(0,be.Z)(function*(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new ar(dt.comparator);l=l.insert(a,Er.newNoDocument(a,Mt.min()));const f=nn().add(a),m=new yb(Mt.min(),new Map,new ar(Kt),l,f);yield $B(r,m),r.gc=r.gc.remove(a),r.yc.delete(e),Lk(r)}else yield y0(r.localStore,e,!1).then(()=>T0(r,e,n)).catch(fp)}),xk.apply(this,arguments)}function Oz(t,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,be.Z)(function*(t,e){const n=ft(t),r=e.batch.batchId;try{const i=yield function KZ(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,_){const b=m.batch,A=b.keys();let P=de.resolve();return A.forEach(F=>{P=P.next(()=>_.getEntry(f,F)).next(z=>{const te=m.docVersions.get(F);St(null!==te),z.version.compareTo(te)<0&&(b.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),_.addEntry(z)))})}),P.next(()=>l.mutationQueue.removeMutationBatch(f,b))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=nn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Rk(n,r,null),Nk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ph(n,i)}catch(i){yield fp(i)}}),Mk.apply(this,arguments)}function Nz(t,e,n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,be.Z)(function*(t,e,n){const r=ft(t);try{const i=yield function(a,l){const f=ft(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,l).next(b=>(St(null!==b),_=b.keys(),f.mutationQueue.removeMutationBatch(m,b))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,e);Rk(r,e,n),Nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ph(r,i)}catch(i){yield fp(i)}}),Pk.apply(this,arguments)}function Ok(){return Ok=(0,be.Z)(function*(t,e){const n=ft(t);Tp(n.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=ft(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=b0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ok.apply(this,arguments)}function Nk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Rk(t,e,n){const r=ft(t);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function T0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||HB(t,r)})}function HB(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Rb(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Lk(t))}function kk(t,e,n){for(const r of n)r instanceof UB?(t.Ic.addReference(r.key,e),kz(t,r)):r instanceof VB?(qe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||HB(t,r.key)):Et()}function kz(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(qe("SyncEngine","New document in limbo: "+n),t.mc.add(r),Lk(t))}function Lk(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new dt(In.fromString(e)),r=t.Ac.next();t.yc.set(r,new Tz(n)),t.gc=t.gc.insert(n,r),IS(t.remoteStore,new fh(Co(l0(n.path)),r,"TargetPurposeLimboResolution",ka.ct))}}function ph(t,e,n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,be.Z)(function*(t,e,n){const r=ft(t),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,n).then(_=>{if((_||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const b=$R.Li(m.targetId,_);a.push(b)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,be.Z)(function*(m,_){const b=ft(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>de.forEach(_,P=>de.forEach(P.Fi,F=>b.persistence.referenceDelegate.addReference(A,P.targetId,F)).next(()=>de.forEach(P.Bi,F=>b.persistence.referenceDelegate.removeReference(A,P.targetId,F)))))}catch(A){if(!pp(A))throw A;qe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const P=A.targetId;if(!A.fromCache){const F=b.Ji.get(P),te=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);b.Ji=b.Ji.insert(P,te)}}}),function(m,_){return f.apply(this,arguments)})(r.localStore,a))}),Fk.apply(this,arguments)}function Lz(t,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,be.Z)(function*(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=yield _B(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Be(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ph(n,r.er)}var i}),Uk.apply(this,arguments)}function Fz(t,e){const n=ft(t),r=n.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let i=nn();const a=n._c.get(e);if(!a)return i;for(const l of a){const f=n.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function Uz(t,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,be.Z)(function*(t,e){const n=ft(t),r=yield ES(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&kk(n,e.targetId,i.cc),i}),Vk.apply(this,arguments)}function Vz(t,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,be.Z)(function*(t,e){const n=ft(t);return CB(n.localStore,e).then(r=>ph(n,r))}),Bk.apply(this,arguments)}function Bz(t,e,n,r){return $k.apply(this,arguments)}function $k(){return $k=(0,be.Z)(function*(t,e,n,r){const i=ft(t),a=yield function(l,f){const m=ft(l),_=ft(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,f).next(A=>A?m.localDocuments.getDocuments(b,A):de.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===n?yield C0(i.remoteStore):"acknowledged"===n||"rejected"===n?(Rk(i,e,r||null),Nk(i,e),f=e,ft(ft(i.localStore).mutationQueue).Cn(f)):Et(),yield ph(i,a)):qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),$k.apply(this,arguments)}function jk(){return jk=(0,be.Z)(function*(t,e){const n=ft(t);if(Wk(n),qk(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield ZB(n,r.toArray());n.vc=!0,yield pk(n.remoteStore,!0);for(const a of i)IS(n.remoteStore,a)}else if(!1===e&&!1!==n.vc){const r=[];let i=Promise.resolve();n._c.forEach((a,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(T0(n,l),y0(n.localStore,l,!0))),Rb(n.remoteStore,l)}),yield i,yield ZB(n,r),function(a){const l=ft(a);l.yc.forEach((f,m)=>{Rb(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ar(dt.comparator)}(n),n.vc=!1,yield pk(n.remoteStore,!1)}}),jk.apply(this,arguments)}function ZB(t,e,n){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,be.Z)(function*(t,e,n){const r=ft(t),i=[],a=[];for(const l of e){let f;const m=r._c.get(l);if(m&&0!==m.length){f=yield v0(r.localStore,Co(m[0]));for(const _ of m){const b=r.wc.get(_),A=yield Uz(r,b);A.snapshot&&a.push(A.snapshot)}}else{const _=yield EB(r.localStore,l);f=yield v0(r.localStore,_),yield Dk(r,zB(_),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),Hk.apply(this,arguments)}function zB(t){return XV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jz(t){const e=ft(t);return ft(ft(e.localStore).persistence).$i()}function Hz(t,e,n,r){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,be.Z)(function*(t,e,n,r){const i=ft(t);if(i.vc)return void qe("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const l=yield CB(i.localStore,t3(a[0])),f=yb.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ui.EMPTY_BYTE_STRING);yield ph(i,l,f);break}case"rejected":yield y0(i.localStore,e,!0),T0(i,e,r);break;default:Et()}}),Zk.apply(this,arguments)}function Zz(t,e,n){return zk.apply(this,arguments)}function zk(){return zk=(0,be.Z)(function*(t,e,n){const r=Wk(t);if(r.vc){for(const i of e){if(r._c.has(i)){qe("SyncEngine","Adding an already active target "+i);continue}const a=yield EB(r.localStore,i),l=yield v0(r.localStore,a);yield Dk(r,zB(a),l.targetId,!1,l.resumeToken),IS(r.remoteStore,l)}for(const i of n)r._c.has(i)&&(yield y0(r.localStore,i,!1).then(()=>{Rb(r.remoteStore,i),T0(r,i)}).catch(fp))}}),zk.apply(this,arguments)}function Wk(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$B.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pz.bind(null,e),e.dc.nu=Cz.bind(null,e.eventManager),e.dc.Pc=wz.bind(null,e.eventManager),e}function qk(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nz.bind(null,e),e}class kb{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,be.Z)(function*(){n.serializer=Ob(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mB(this.persistence,new gB,e.initialUser,this.serializer)}createPersistence(e){return new FR(_S.zs,this.serializer)}createSharedClientState(e){return new IB}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gk extends kb{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield qk(r.Vc.syncEngine),yield C0(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return mB(this.persistence,new gB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new oB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new _5(n,this.persistence);return new m5(e.asyncQueue,r)}createPersistence(e){const n=BR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new VR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,AB(),DS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new IB}}class WB extends Gk{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield n().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof KR&&(r.sharedClientState.syncEngine={jr:Bz.bind(null,i),zr:Hz.bind(null,i),Wr:Zz.bind(null,i),$i:jz.bind(null,i),Qr:Vz.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,be.Z)(function*(l){yield function $z(t,e){return jk.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const n=AB();if(!KR.D(n))throw new Be(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class A0{initialize(e,n){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lz.bind(null,r.syncEngine),yield pk(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ez}createDatastore(e){const n=Ob(e.databaseInfo.databaseId),r=new rz(e.databaseInfo);return new oz(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>jB(this.syncEngine,f,0),l=TB.D()?new TB:new ez,new lz(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,f,m,_){const b=new Az(r,i,a,l,f,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,be.Z)(function*(n){const r=ft(n);qe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield E0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function qB(t,e=10240){let n=0;return{read:()=>(0,be.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class AS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class qz{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Fi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,be.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new bz(JSON.parse(a),n.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,be.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,be.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Gz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Be(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,l){const f=ft(a),m=wb(f.serializer)+"/documents",_={documents:l.map(F=>Cb(f.serializer,F))},b=yield f.vo("BatchGetDocuments",m,_,l.length),A=new Map;b.forEach(F=>{const z=function gZ(t,e){return"found"in e?function(n,r){St(!!r.found);const i=Oc(n,r.found.name),a=ui(r.found.updateTime),l=r.found.createTime?ui(r.found.createTime):Mt.min(),f=new vs({mapValue:{fields:r.found.fields}});return Er.newFoundDocument(i,a,l,f)}(t,e):"missing"in e?function(n,r){St(!!r.missing),St(!!r.readTime);const i=Oc(n,r.missing),a=ui(r.readTime);return Er.newNoDocument(i,a)}(t,e):Et()}(f.serializer,F);A.set(z.key.toString(),z)});const P=[];return l.forEach(F=>{const z=A.get(F.toString());St(!!z),P.push(z)}),P}),function(a,l){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new f0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const a=dt.fromPath(i);e.mutations.push(new vR(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const l=ft(i),f=wb(l.serializer)+"/documents",m={writes:a.map(_=>bb(l.serializer,_))};yield l.Io("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Et();n=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Be(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Mt.min())?xr.exists(!1):xr.updateTime(n):xr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Mt.min()))throw new Be(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xr.updateTime(n)}return xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Kz{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new QR(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,be.Z)(function*(){const n=new Gz(e.datastore),r=e.qc(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const n=this.updateFunction(e);return!sb(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!y3(n)}return!1}}class Yz{constructor(e,n,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yn.UNAUTHENTICATED,this.clientId=mV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,be.Z)(function*(f){qe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(qe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=b0(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function SS(t,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,be.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield _B(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Kk.apply(this,arguments)}function Yk(t,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,be.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Xk(t);qe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>RB(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>RB(e.remoteStore,a)),t._onlineComponents=e}),Qk.apply(this,arguments)}function GB(t){return"FirebaseError"===t.name?t.code===_e.FAILED_PRECONDITION||t.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Xk(t){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,be.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GB(n))throw n;Tu("Error using user provided cache. Falling back to memory cache: "+n),yield SS(t,new kb)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),yield SS(t,new kb);return t._offlineComponents}),Jk.apply(this,arguments)}function xS(t){return eL.apply(this,arguments)}function eL(){return eL=(0,be.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yk(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),yield Yk(t,new A0))),t._onlineComponents}),eL.apply(this,arguments)}function KB(t){return Xk(t).then(e=>e.persistence)}function MS(t){return Xk(t).then(e=>e.localStore)}function YB(t){return xS(t).then(e=>e.remoteStore)}function tL(t){return xS(t).then(e=>e.syncEngine)}function S0(t){return nL.apply(this,arguments)}function nL(){return nL=(0,be.Z)(function*(t){const e=yield xS(t),n=e.eventManager;return n.onListen=Sz.bind(null,e.syncEngine),n.onUnlisten=xz.bind(null,e.syncEngine),n}),nL.apply(this,arguments)}function XB(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,m){const _=new AS({next:A=>{a.enqueueAndForget(()=>yk(i,b));const P=A.docs.has(l);!P&&A.fromCache?m.reject(new Be(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&f&&"server"===f.source?m.reject(new Be(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),b=new wk(l0(l.path),_,{includeMetadataChanges:!0,Ku:!0});return _k(i,b)}(yield S0(t),t.asyncQueue,e,n,r)})),r.promise}function JB(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,m){const _=new AS({next:A=>{a.enqueueAndForget(()=>yk(i,b)),A.fromCache&&"server"===f.source?m.reject(new Be(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),b=new wk(l,_,{includeMetadataChanges:!0,Ku:!0});return _k(i,b)}(yield S0(t),t.asyncQueue,e,n,r)})),r.promise}function e4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const t4=new Map;function rL(t,e,n){if(!n)throw new Be(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n4(t,e,n,r){if(!0===e&&!0===r)throw new Be(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function r4(t){if(!dt.isDocumentKey(t))throw new Be(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i4(t){if(dt.isDocumentKey(t))throw new Be(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Et()}function wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PS(t);throw new Be(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s4(t,e){if(e<=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class o4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=e4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new i5;switch(n.type){case"firstParty":return new u5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Be(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=t4.get(e);n&&(qe("ComponentProvider","Removing Datastore"),t4.delete(e),n.terminate())}(this),Promise.resolve()}}function a4(t,e,n,r={}){var i;const a=(t=wn(t,Lb))._getSettings(),l=`${e}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Yn.MOCK_USER;else{f=(0,Q.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Be(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yn(_)}t._authCredentials=new s5(new pV(f,m))}}class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Nc extends ys{constructor(e,n,r){super(e,n,l0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new dt(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function u4(t,e,...n){if(t=(0,Q.m9)(t),rL("collection","path",e),t instanceof Lb){const r=In.fromString(e,...n);return i4(r),new Nc(t,null,r)}{if(!(t instanceof Cr||t instanceof Nc))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return i4(r),new Nc(t.firestore,null,r)}}function OS(t,e,...n){if(t=(0,Q.m9)(t),1===arguments.length&&(e=mV.A()),rL("doc","path",e),t instanceof Lb){const r=In.fromString(e,...n);return r4(r),new Cr(t,null,new dt(r))}{if(!(t instanceof Cr||t instanceof Nc))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return r4(r),new Cr(t.firestore,t instanceof Nc?t.converter:null,new dt(r))}}function l4(t,e){return t=(0,Q.m9)(t),e=(0,Q.m9)(e),(t instanceof Cr||t instanceof Nc)&&(e instanceof Cr||e instanceof Nc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function iL(t,e){return t=(0,Q.m9)(t),e=(0,Q.m9)(e),t instanceof ys&&e instanceof ys&&t.firestore===e.firestore&&hb(t._query,e._query)&&t.converter===e.converter}class o8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new QR(this,"async_queue_retry"),this.Xc=()=>{const n=DS();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=DS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=DS();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!pp(n))throw n;qe("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ai("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=mk.createAndSchedule(this,e,n,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Et()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function sL(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class a8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends Lb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new o8,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c4(this),this._firestoreClient.terminate()}}function l8(t,e){const n="object"==typeof t?t:(0,qo.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,qo._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,Q.P0)("firestore");a&&a4(i,...a)}return i}function li(t){return t._firestoreClient||c4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function c4(t){var e,n,r;const i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new U5(t._databaseId,f,t._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,e4(_.experimentalLongPollingOptions),_.useFetchStreams));var f,_;t._firestoreClient=new Yz(t._authCredentials,t._appCheckCredentials,t._queue,a),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function d4(t,e,n){const r=new Fi;return t.asyncQueue.enqueue((0,be.Z)(function*(){try{yield SS(t,n),yield Yk(t,e),r.resolve()}catch(i){const a=i;if(!GB(a))throw a;Tu("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function h4(t){if(t._initialized||t._terminated)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Ui.fromBase64String(e))}catch(n){throw new Be(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rc(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Be(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class u_{constructor(e){this._methodName=e}}class NS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const y8=/^__.*__$/;class E8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new hh(e,this.data,this.fieldMask,n,this.fieldTransforms):new h0(e,this.data,n,this.fieldTransforms)}}class f4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class RS{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new RS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(p4(this.ca)&&y8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class C8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ob(e)}ya(e,n,r,i=!1){return new RS({ca:e,methodName:n,ga:r,path:Qr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(t){const e=t._freezeSettings(),n=Ob(t._databaseId);return new C8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kS(t,e,n,r,i,a={}){const l=t.ya(a.merge||a.mergeFields?2:0,e,n,i);lL("Data must be an object, but it was:",l,r);const f=_4(r,l);let m,_;if(a.merge)m=new Yo(l.fieldMask),_=l.fieldTransforms;else if(a.mergeFields){const b=[];for(const A of a.mergeFields){const P=Vb(e,A,n);if(!l.contains(P))throw new Be(_e.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);y4(b,P)||b.push(P)}m=new Yo(b),_=l.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,_=l.fieldTransforms;return new E8(new vs(f),m,_)}class Ub extends u_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ub}}function g4(t,e,n){return new RS({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oL extends u_{_toFieldTransform(e){return new mb(e.path,new c0)}isEqual(e){return e instanceof oL}}class w8 extends u_{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=g4(this,e,!0),r=this.pa.map(a=>c_(a,n)),i=new Jm(r);return new mb(e.path,i)}isEqual(e){return this===e}}class b8 extends u_{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=g4(this,e,!0),r=this.pa.map(a=>c_(a,n)),i=new e_(r);return new mb(e.path,i)}isEqual(e){return this===e}}class D8 extends u_{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new d0(e.serializer,u3(e.serializer,this.Ia));return new mb(e.path,n)}isEqual(e){return this===e}}function aL(t,e,n,r){const i=t.ya(1,e,n);lL("Data must be an object, but it was:",i,r);const a=[],l=vs.empty();gp(r,(m,_)=>{const b=LS(e,m,n);_=(0,Q.m9)(_);const A=i.da(b);if(_ instanceof Ub)a.push(b);else{const P=c_(_,A);null!=P&&(a.push(b),l.set(b,P))}});const f=new Yo(a);return new f4(l,f,i.fieldTransforms)}function uL(t,e,n,r,i,a){const l=t.ya(1,e,n),f=[Vb(e,r,n)],m=[i];if(a.length%2!=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(Vb(e,a[P])),m.push(a[P+1]);const _=[],b=vs.empty();for(let P=f.length-1;P>=0;--P)if(!y4(_,f[P])){const F=f[P];let z=m[P];z=(0,Q.m9)(z);const te=l.da(F);if(z instanceof Ub)_.push(F);else{const ne=c_(z,te);null!=ne&&(_.push(F),b.set(F,ne))}}const A=new Yo(_);return new f4(b,A,l.fieldTransforms)}function m4(t,e,n,r=!1){return c_(n,t.ya(r?4:3,e))}function c_(t,e){if(v4(t=(0,Q.m9)(t)))return lL("Unsupported field value:",e,t),_4(t,e);if(t instanceof u_)return function(n,r){if(!p4(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let f=c_(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=(0,Q.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return u3(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Sr.fromDate(n);return{timestampValue:p0(r.serializer,i)}}if(n instanceof Sr){const i=new Sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:p0(r.serializer,i)}}if(n instanceof NS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rc)return{bytesValue:x3(r.serializer,n._byteString)};if(n instanceof Cr){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:IR(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${PS(n)}`)}(t,e)}function _4(t,e){const n={};return PV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gp(t,(r,i)=>{const a=c_(i,e.ha(r));null!=a&&(n[r]=a)}),{mapValue:{fields:n}}}function v4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sr||t instanceof NS||t instanceof Rc||t instanceof Cr||t instanceof u_)}function lL(t,e,n){if(!v4(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=PS(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Vb(t,e,n){if((e=(0,Q.m9)(e))instanceof gh)return e._internalPath;if("string"==typeof e)return LS(t,e);throw FS("Field path arguments must be of type string or ",t,!1,void 0,n)}const I8=new RegExp("[~\\*/\\[\\]]");function LS(t,e,n){if(e.search(I8)>=0)throw FS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw FS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function FS(t,e,n,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new Be(_e.INVALID_ARGUMENT,f+t+m)}function y4(t,e){return t.some(n=>n.isEqual(e))}class Bb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new T8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class T8 extends Bb{data(){return super.data()}}function US(t,e){return"string"==typeof e?LS(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}function E4(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Be(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cL{}class $b extends cL{}function Sp(t,e,...n){let r=[];e instanceof cL&&r.push(e),r=r.concat(n),function(i){const a=i.filter(f=>f instanceof x0).length,l=i.filter(f=>f instanceof jb).length;if(a>1||a>0&&l>0)throw new Be(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jb extends $b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jb(e,n,r)}_apply(e){const n=this._parse(e);return D4(e._query,n),new ys(e.firestore,e.converter,gR(e._query,n))}_parse(e){const n=l_(e.firestore);return function(i,a,l,f,m,_,b){let A;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){b4(b,_);const P=[];for(const F of b)P.push(w4(f,i,F));A={arrayValue:{values:P}}}else A=w4(f,i,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||b4(b,_),A=m4(l,"where",b,"in"===_||"not-in"===_);return Cn.create(m,_,A)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class x0 extends cL{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new x0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)D4(a,f),a=gR(a,f)}(e._query,n),new ys(e.firestore,e.converter,gR(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dL extends $b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dL(e,n)}_apply(e){const n=function(r,i,a){if(null!==r.startAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new a0(i,a);return function(f,m){if(null===fR(f)){const _=nS(f);null!==_&&I4(0,_,m.field)}}(r,l),l}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ch(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class VS extends $b{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new VS(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,rS(e._query,this._limit,this._limitType))}}class BS extends $b{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new BS(e,n,r)}_apply(e){const n=C4(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,(i=n,new ch((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $S extends $b{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $S(e,n,r)}_apply(e){const n=C4(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,(i=n,new ch((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function C4(t,e,n,r){if(n[0]=(0,Q.m9)(n[0]),n[0]instanceof Bb)return function(i,a,l,f,m){if(!f)throw new Be(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of Xm(i))if(b.field.isKeyField())_.push(Ym(a,f.key));else{const A=f.data.field(b.field);if(KA(A))throw new Be(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const P=b.field.canonicalString();throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}_.push(A)}return new Cp(_,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=l_(t.firestore);return function(a,l,f,m,_,b){const A=a.explicitOrderBy;if(_.length>A.length)throw new Be(_e.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let F=0;F<_.length;F++){const z=_[F];if(A[F].field.isKeyField()){if("string"!=typeof z)throw new Be(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!pR(a)&&-1!==z.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const te=a.path.child(In.fromString(z));if(!dt.isDocumentKey(te))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ne=new dt(te);P.push(Ym(l,ne))}else{const te=m4(f,m,z);P.push(te)}}return new Cp(P,b)}(t._query,t.firestore._databaseId,i,e,n,r)}}function w4(t,e,n){if("string"==typeof(n=(0,Q.m9)(n))){if(""===n)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pR(e)&&-1!==n.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(In.fromString(n));if(!dt.isDocumentKey(r))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ym(t,new dt(r))}if(n instanceof Cr)return Ym(t,n._key);throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PS(n)}.`)}function b4(t,e){if(!Array.isArray(t)||0===t.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D4(t,e){if(e.isInequality()){const r=nS(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=fR(t);null!==a&&I4(0,i,a)}const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Be(_e.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function I4(t,e,n){if(!n.isEqual(e))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hL{convertValue(e,n="none"){switch(yp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gp(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new NS(Xr(e.latitude),Xr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=YA(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ab(e));default:return null}}convertTimestamp(e){const n=mp(e);return new Sr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);St(V3(r));const i=new _p(r.get(1),r.get(3)),a=new dt(r.popFirst(5));return i.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function jS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class k8 extends hL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}class d_{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mh extends Bb{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(US("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hb extends mh{data(e={}){return super.data(e)}}class xp{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new d_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hb(this._firestore,this._userDataWriter,r.key,r,new d_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Hb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new d_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Hb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new d_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),_=a.indexOf(l.doc.key)),{type:F8(l.type),doc:f,oldIndex:m,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function A4(t,e){return t instanceof mh&&e instanceof mh?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof xp&&e instanceof xp&&t._firestore===e._firestore&&iL(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Mp extends hL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}function S4(t,e,n){t=wn(t,Cr);const r=wn(t.firestore,wr),i=jS(t.converter,e,n);return M0(r,[kS(l_(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,xr.none())])}function x4(t,e,n,...r){t=wn(t,Cr);const i=wn(t.firestore,wr),a=l_(i);let l;return l="string"==typeof(e=(0,Q.m9)(e))||e instanceof gh?uL(a,"updateDoc",t._key,e,n,r):aL(a,"updateDoc",t._key,e),M0(i,[l.toMutation(t._key,xr.exists(!0))])}function M4(t,...e){var n,r,i;t=(0,Q.m9)(t);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||sL(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(sL(e[l])){const A=e[l];e[l]=null===(n=A.next)||void 0===n?void 0:n.bind(A),e[l+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[l+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,_,b;if(t instanceof Cr)_=wn(t.firestore,wr),b=l0(t._key.path),m={next:A=>{e[l]&&e[l](fL(_,t,A))},error:e[l+1],complete:e[l+2]};else{const A=wn(t,ys);_=wn(A.firestore,wr),b=A._query;const P=new Mp(_);m={next:F=>{e[l]&&e[l](new xp(_,P,A,F))},error:e[l+1],complete:e[l+2]},E4(t._query)}return function(A,P,F,z){const te=new AS(z),ne=new wk(P,te,F);return A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return _k(yield S0(A),ne)})),()=>{te.Dc(),A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return yk(yield S0(A),ne)}))}}(li(_),b,f,m)}function M0(t,e){return function(n,r){const i=new Fi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Mz(t,e,n){return Ak.apply(this,arguments)}(yield tL(n),r,i)})),i.promise}(li(t),e)}function fL(t,e,n){const r=n.docs.get(e._key),i=new Mp(t);return new mh(t,i,e._key,r,new d_(n.hasPendingWrites,n.fromCache),e.converter)}const t9={maxAttempts:5};class P4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=l_(e)}set(e,n,r){this._verifyNotCommitted();const i=Pp(e,this._firestore),a=jS(i.converter,n,r),l=kS(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,xr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Pp(e,this._firestore);let l;return l="string"==typeof(n=(0,Q.m9)(n))||n instanceof gh?uL(this._dataReader,"WriteBatch.update",a._key,n,r,i):aL(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pp(e,this._firestore);return this._mutations=this._mutations.concat(new f0(n._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pp(t,e){if((t=(0,Q.m9)(t)).firestore!==e)throw new Be(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class n9 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=l_(e)}get(e){const n=Pp(e,this._firestore),r=new k8(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||1!==i.length)return Et();const a=i[0];if(a.isFoundDocument())return new Bb(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Bb(this._firestore,r,n._key,null,n.converter);throw Et()})}set(e,n,r){const i=Pp(e,this._firestore),a=jS(i.converter,n,r),l=kS(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const a=Pp(e,this._firestore);let l;return l="string"==typeof(n=(0,Q.m9)(n))||n instanceof gh?uL(this._dataReader,"Transaction.update",a._key,n,r,i):aL(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=Pp(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pp(e,this._firestore),r=new Mp(this._firestore);return super.get(e).then(i=>new mh(this._firestore,r,n._key,i._document,new d_(!1,!1),n.converter))}}function pL(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function N4(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function R4(){if(!function L5(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Na=qo.SDK_VERSION,(0,qo._registerComponent)(new sl.wA("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new wr(new o5(n.getProvider("auth-internal")),new l5(n.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Be(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(ms,"3.13.0",t),(0,qo.registerVersion)(ms,"3.13.0","esm2017")}();class Zb{constructor(e){this._delegate=e}static fromBase64String(e){return R4(),new Zb(Rc.fromBase64String(e))}static fromUint8Array(e){return N4(),new Zb(Rc.fromUint8Array(e))}toBase64(){return R4(),this._delegate.toBase64()}toUint8Array(){return N4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gL(t){return function d9(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class h9{enableIndexedDbPersistence(e,n){return function c8(t,e){h4(t=wn(t,wr));const n=li(t);if(n._uninitializedComponentsProvider)throw new Be(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Tu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new A0;return d4(n,i,new Gk(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function d8(t){h4(t=wn(t,wr));const e=li(t);if(e._uninitializedComponentsProvider)throw new Be(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Tu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new A0;return d4(e,r,new WB(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function h8(t){if(t._initialized&&!t._terminated)throw new Be(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(n=(0,be.Z)(function*(r){if(!cl.D())return Promise.resolve();const i=r+"main";yield cl.delete(i)}),function(r){return n.apply(this,arguments)})(BR(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class k4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _p||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Tu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){a4(this._delegate,e,n,r)}enableNetwork(){return function p8(t){return function Qz(t){return t.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield KB(t),n=yield YB(t);return e.setNetworkEnabled(!0),function(r){const i=ft(r);return i.vu.delete(0),Nb(i)}(n)}))}(li(t=wn(t,wr)))}(this._delegate)}disableNetwork(){return function g8(t){return function Xz(t){return t.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield KB(t),n=yield YB(t);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=ft(i);a.vu.add(0),yield E0(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(n);var r}))}(li(t=wn(t,wr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,n4("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function f8(t){return function(e){const n=new Fi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Rz(t,e){return Ok.apply(this,arguments)}(yield tL(e),n)})),n.promise}(li(t=wn(t,wr)))}(this._delegate)}onSnapshotsInSync(e){return function W8(t,e){return function t8(t,e){const n=new AS(e);return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield S0(t),i=n,ft(r).ku.add(i),void i.next();var r,i})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield S0(t),i=n,void ft(r).ku.delete(i);var r,i}))}}(li(t=wn(t,wr)),sL(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new P0(this,u4(this._delegate,e))}catch(n){throw wo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Au(this,OS(this._delegate,e))}catch(n){throw wo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bo(this,function s8(t,e){if(t=wn(t,Lb),rL("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(t,null,(n=e,new ch(In.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw wo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function r9(t,e,n){t=wn(t,wr);const r=Object.assign(Object.assign({},t9),n);return function(i){if(i.maxAttempts<1)throw new Be(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new Fi;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const m=yield function QB(t){return xS(t).then(e=>e.datastore)}(i);new Kz(i.asyncQueue,m,l,a,f).run()})),f.promise}(li(t),i=>e(new n9(t,i)),r)}(this._delegate,n=>e(new L4(this,n)))}batch(){return li(this._delegate),new F4(new P4(this._delegate,e=>M0(this._delegate,e)))}loadBundle(e){return function m8(t,e){const n=li(t=wn(t,wr)),r=new a8;return function n8(t,e,n,r){const i=function(a,l){let f;return f="string"==typeof a?C3().encode(a):a,m=function(m,_){if(m instanceof Uint8Array)return qB(m,_);if(m instanceof ArrayBuffer)return qB(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new qz(m,l);var m}(n,Ob(e));t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function zz(t,e,n){const r=ft(t);var i;(i=(0,be.Z)(function*(a,l,f){try{const m=yield l.getMetadata();if(yield function(P,F){const z=ft(P),te=ui(F.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ne=>z.qs.getBundleMetadata(ne,F.id)).then(ne=>!!ne&&ne.createTime.compareTo(te)>=0)}(a.localStore,m))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=m).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(FB(m));const _=new Dz(m,a.localStore,l.serializer);let b=yield l.bc();for(;b;){const P=yield _.zu(b);P&&f._updateProgress(P),b=yield l.bc()}const A=yield _.complete();return yield ph(a,A.Ju,void 0),yield function(P,F){const z=ft(P);return z.persistence.runTransaction("Save bundle","readwrite",te=>z.qs.saveBundleMetadata(te,F))}(a.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Hu)}catch(m){return Tu("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var P}),function(a,l,f){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield tL(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _8(t,e){return function r8(t,e){return t.asyncQueue.enqueue((0,be.Z)(function*(){return function(n,r){const i=ft(n);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield MS(t),e)}))}(li(t=wn(t,wr)),e).then(n=>n?new ys(t,null,n.query):null)}(this._delegate,e).then(n=>n?new bo(this,n):null)}}class HS extends hL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zb(new Rc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Au.forKey(n,this.firestore,null)}}class L4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new HS(e)}get(e){const n=f_(e);return this._delegate.get(n).then(r=>new zb(this._firestore,new mh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=f_(e);return r?(pL("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=f_(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=f_(e);return this._delegate.delete(n),this}}class F4{constructor(e){this._delegate=e}set(e,n,r){const i=f_(e);return r?(pL("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=f_(e);return 2===arguments.length?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=f_(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class h_{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Hb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wb(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=h_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new h_(e,new HS(e),n),i.set(n,a)),a}}h_.INSTANCES=new WeakMap;class Au{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new HS(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Au(n,new Cr(n._delegate,r,new dt(e)))}static forKey(e,n,r){return new Au(n,new Cr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new P0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new P0(this.firestore,u4(this._delegate,e))}catch(n){throw wo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Q.m9)(e))instanceof Cr&&l4(this._delegate,e)}set(e,n){n=pL("DocumentReference.set",n);try{return n?S4(this._delegate,e,n):S4(this._delegate,e)}catch(r){throw wo(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?x4(this._delegate,e):x4(this._delegate,e,n,...r)}catch(i){throw wo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Z8(t){return M0(wn(t.firestore,wr),[new f0(t._key,xr.none())])}(this._delegate)}onSnapshot(...e){const n=U4(e),r=V4(e,i=>new zb(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return M4(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function V8(t){t=wn(t,Cr);const e=wn(t.firestore,wr),n=li(e),r=new Mp(e);return function Jz(t,e){const n=new Fi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield function(m,_){const b=ft(m);return b.persistence.runTransaction("read document","readonly",A=>b.localDocuments.getDocument(A,_))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Be(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=b0(f,`Failed to get document '${a} from cache`);l.reject(m)}}),function(i,a,l){return r.apply(this,arguments)})(yield MS(t),e,n);var r})),n.promise}(n,t._key).then(i=>new mh(e,r,t._key,i,new d_(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function B8(t){t=wn(t,Cr);const e=wn(t.firestore,wr);return XB(li(e),t._key,{source:"server"}).then(n=>fL(e,t,n))}(this._delegate):function U8(t){t=wn(t,Cr);const e=wn(t.firestore,wr);return XB(li(e),t._key).then(n=>fL(e,t,n))}(this._delegate),n.then(r=>new zb(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Au(this.firestore,this._delegate.withConverter(e?h_.getInstance(this.firestore,e):null))}}function wo(t,e,n){return t.message=t.message.replace(e,n),t}function U4(t){for(const e of t)if("object"==typeof e&&!gL(e))return e;return{}}function V4(t,e){var n,r;let i;return i=gL(t[0])?t[0]:gL(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zb{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Au(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return A4(this._delegate,e._delegate)}}class Wb extends zb{data(e){const n=this._delegate.data(e);return function r5(t,e){t||Et()}(void 0!==n),n}}class bo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new HS(e)}where(e,n,r){try{return new bo(this.firestore,Sp(this._delegate,function A8(t,e,n){const r=e,i=US("where",t);return jb._create(i,r,n)}(e,n,r)))}catch(i){throw wo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new bo(this.firestore,Sp(this._delegate,function S8(t,e="asc"){const n=e,r=US("orderBy",t);return dL._create(r,n)}(e,n)))}catch(r){throw wo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bo(this.firestore,Sp(this._delegate,function x8(t){return s4("limit",t),VS._create("limit",t,"F")}(e)))}catch(n){throw wo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new bo(this.firestore,Sp(this._delegate,function M8(t){return s4("limitToLast",t),VS._create("limitToLast",t,"L")}(e)))}catch(n){throw wo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bo(this.firestore,Sp(this._delegate,function P8(...t){return BS._create("startAt",t,!0)}(...e)))}catch(n){throw wo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bo(this.firestore,Sp(this._delegate,function O8(...t){return BS._create("startAfter",t,!1)}(...e)))}catch(n){throw wo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bo(this.firestore,Sp(this._delegate,function N8(...t){return $S._create("endBefore",t,!1)}(...e)))}catch(n){throw wo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bo(this.firestore,Sp(this._delegate,function R8(...t){return $S._create("endAt",t,!0)}(...e)))}catch(n){throw wo(n,"endAt()","Query.endAt()")}}isEqual(e){return iL(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function j8(t){t=wn(t,ys);const e=wn(t.firestore,wr),n=li(e),r=new Mp(e);return function e8(t,e){const n=new Fi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield ES(i,a,!0),m=new BB(a,f.ir),_=m.sc(f.documents),b=m.applyChanges(_,!1);l.resolve(b.snapshot)}catch(f){const m=b0(f,`Failed to execute query '${a} against cache`);l.reject(m)}}),function(i,a,l){return r.apply(this,arguments)})(yield MS(t),e,n);var r})),n.promise}(n,t._query).then(i=>new xp(e,r,t,i))}(this._delegate):"server"===e?.source?function H8(t){t=wn(t,ys);const e=wn(t.firestore,wr),n=li(e),r=new Mp(e);return JB(n,t._query,{source:"server"}).then(i=>new xp(e,r,t,i))}(this._delegate):function $8(t){t=wn(t,ys);const e=wn(t.firestore,wr),n=li(e),r=new Mp(e);return E4(t._query),JB(n,t._query).then(i=>new xp(e,r,t,i))}(this._delegate),n.then(r=>new mL(this.firestore,new xp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=U4(e),r=V4(e,i=>new mL(this.firestore,new xp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return M4(this._delegate,n,r)}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?h_.getInstance(this.firestore,e):null))}}class p9{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mL{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new p9(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Wb(this._firestore,r))})}isEqual(e){return A4(this._delegate,e._delegate)}}class P0 extends bo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Au(this.firestore,e):null}doc(e){try{return new Au(this.firestore,void 0===e?OS(this._delegate):OS(this._delegate,e))}catch(n){throw wo(n,"doc()","CollectionReference.doc()")}}add(e){return function z8(t,e){const n=wn(t.firestore,wr),r=OS(t),i=jS(t.converter,e);return M0(n,[kS(l_(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Au(this.firestore,n))}isEqual(e){return l4(this._delegate,e._delegate)}withConverter(e){return new P0(this.firestore,this._delegate.withConverter(e?h_.getInstance(this.firestore,e):null))}}function f_(t){return wn(t,Cr)}class _L{constructor(...e){this._delegate=new gh(...e)}static documentId(){return new _L(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,Q.m9)(e))instanceof gh&&this._delegate._internalPath.isEqual(e._internalPath)}}class p_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function s9(){return new oL("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new p_(e)}static delete(){const e=function i9(){return new Ub("deleteField")}();return e._methodName="FieldValue.delete",new p_(e)}static arrayUnion(...e){const n=function o9(...t){return new w8("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new p_(n)}static arrayRemove(...e){const n=function a9(...t){return new b8("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new p_(n)}static increment(e){const n=function u9(t){return new D8("increment",t)}(e);return n._methodName="FieldValue.increment",new p_(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const g9={Firestore:k4,GeoPoint:NS,Timestamp:Sr,Blob:Zb,Transaction:L4,WriteBatch:F4,DocumentReference:Au,DocumentSnapshot:zb,Query:bo,QueryDocumentSnapshot:Wb,QuerySnapshot:mL,CollectionReference:P0,FieldPath:_L,FieldValue:p_,setLogLevel:function f9(t){!function eR(t){Iu.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function _9(t){(function m9(t,e){t.INTERNAL.registerComponent(new sl.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},g9)))})(t,(e,n)=>new k4(e,n,new h9)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(uA.Z);var v9=U(3019),ZS=U(3093),y9=U(4552);class E9 extends as.x{constructor(e=1/0,n=1/0,r=y9.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;n||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=n.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var C9=U(3020);function B4(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,(0,C9.B)({connector:()=>new E9(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $4(t,e){return(0,Fo.m)(e)?(0,jn.w)(()=>t,e):(0,jn.w)(()=>t)}var vL=U(5137),kc=U(4097);class Op{constructor(e){return e}}class qb{constructor(){return(0,kc.C6)()}}const yL=new c.OlP("angularfire2._apps"),b9={provide:Op,useFactory:function w9(t){return t&&1===t.length?t[0]:new Op((0,kc.Mq)())},deps:[[new c.FiY,yL]]},D9={provide:qb,deps:[[new c.FiY,yL]]};function I9(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Op(r)}}let T9=(()=>{class t{constructor(n){(0,kc.KN)("angularfire",Zt.q4.full,"core"),(0,kc.KN)("angularfire",Zt.q4.full,"app"),(0,kc.KN)("angular",c.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(c.Lbi))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[b9,D9]}),t})();function A9(t,...e){return{ngModule:T9,providers:[{provide:yL,useFactory:I9(t),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,...e]}]}}const S9=(0,Zt.u3)(kc.ZF,!0);var Mr=U(4303);const EL=new Map,j4={activated:!1,tokenObservers:[]},x9={initialized:!1,enabled:!1};function Jr(t){return EL.get(t)||Object.assign({},j4)}function zS(){return x9}const CL="https://content-firebaseappcheck.googleapis.com/v1",N9="exchangeDebugToken",H4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class k9{constructor(e,n,r,i,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,be.Z)(function*(){n.stop();try{n.pending=new Q.BH,yield function L9(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Q.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Es=new Q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wL(t){if(!Jr(t).activated)throw Es.create("use-before-activation",{appName:t.name})}function GS(t,e){return DL.apply(this,arguments)}function DL(){return DL=(0,be.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(t,a)}catch(A){throw Es.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Es.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Es.create("fetch-parse-error",{originalErrorMessage:A?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:f.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),DL.apply(this,arguments)}function Z4(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${CL}/projects/${n}/apps/${r}:${N9}?key=${i}`,body:{debug_token:e}}}const B9="firebase-app-check-database",$9=1,Gb="firebase-app-check-store";let KS=null;function IL(){return IL=(0,be.Z)(function*(t,e){const r=(yield function W4(){return KS||(KS=new Promise((t,e)=>{try{const n=indexedDB.open(B9,$9);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Es.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gb,{keyPath:"compositeKey"})}}catch(n){e(Es.create("storage-open",{originalErrorMessage:n?.message}))}}),KS)}()).transaction(Gb,"readwrite"),a=r.objectStore(Gb).put({compositeKey:t,value:e});return new Promise((l,f)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var _;f(Es.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})}),IL.apply(this,arguments)}const Kb=new Go.Yd("@firebase/app-check");function SL(t,e){return(0,Q.hl)()?function H9(t,e){return function q4(t,e){return IL.apply(this,arguments)}(function K4(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Kb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ML(){return zS().enabled}function PL(){return OL.apply(this,arguments)}function OL(){return OL=(0,be.Z)(function*(){const t=zS();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),OL.apply(this,arguments)}const K9={error:"UNKNOWN_ERROR"};function Y9(t){return Q.US.encodeString(JSON.stringify(t),!1)}function YS(t){return NL.apply(this,arguments)}function NL(){return NL=(0,be.Z)(function*(t,e=!1){const n=t.app;wL(n);const r=Jr(n);let a,i=r.token;if(i&&!O0(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(O0(m)?i=m:yield SL(n,void 0))}if(!e&&i&&O0(i))return{token:i.token};let f,l=!1;if(ML()){r.exchangeTokenPromise||(r.exchangeTokenPromise=GS(Z4(n,yield PL()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield SL(n,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Jr(n).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Kb.warn(m.message):Kb.error(m),a=m}return i?a?f=O0(i)?{token:i.token,internalError:a}:J4(a):(f={token:i.token},r.token=i,yield SL(n,i)):f=J4(a),l&&function X4(t,e){const n=Jr(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,f),f}),NL.apply(this,arguments)}function RL(){return RL=(0,be.Z)(function*(t){const e=t.app;wL(e);const{provider:n}=Jr(e);if(ML()){const r=yield PL(),{token:i}=yield GS(Z4(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),RL.apply(this,arguments)}function LL(t,e){const n=Jr(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Q4(t){const{app:e}=t,n=Jr(e);let r=n.tokenRefresher;r||(r=function Q9(t){const{app:e}=t;return new k9((0,be.Z)(function*(){let r;if(r=Jr(e).token?yield YS(t,!0):yield YS(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Jr(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},H4.RETRIAL_MIN_WAIT,H4.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function O0(t){return t.expireTimeMillis-Date.now()>0}function J4(t){return{token:Y9(K9),error:t}}class X9{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Jr(this.app);for(const n of e)LL(this.app,n.next);return Promise.resolve()}}const a$="app-check-internal";!function hW(){(0,Mr._registerComponent)(new sl.wA("app-check",t=>function J9(t,e){return new X9(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(a$).initialize()})),(0,Mr._registerComponent)(new sl.wA(a$,t=>function eW(t){return{getToken:e=>YS(t,e),getLimitedUseToken:()=>function Y4(t){return RL.apply(this,arguments)}(t),addTokenListener:e=>function kL(t,e,n,r){const{app:i}=t,a=Jr(i);if(a.tokenObservers=[...a.tokenObservers,{next:n,error:r,type:e}],a.token&&O0(a.token)){const f=a.token;Promise.resolve().then(()=>{n({token:f.token}),Q4(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Q4(t))}(t,"INTERNAL",e),removeTokenListener:e=>LL(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mr.registerVersion)("@firebase/app-check","0.8.0")}();class Np{constructor(){return(0,Zt.vb)("app-check")}}typeof window<"u"&&window;var _W=U(120);const l$=new c.OlP("angularfire2.auth.use-emulator"),c$=new c.OlP("angularfire2.auth.settings"),d$=new c.OlP("angularfire2.auth.tenant-id"),h$=new c.OlP("angularfire2.auth.langugage-code"),f$=new c.OlP("angularfire2.auth.use-device-language"),p$=new c.OlP("angularfire.auth.persistence"),g$=(t,e,n,r,i,a,l,f)=>(0,ki.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const m=e.runOutsideAngular(()=>t.auth());if(n&&m.useEmulator(...n),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))m.settings[_]=b;return f&&m.setPersistence(f),m},[n,r,i,a,l,f]);let Lc=(()=>{class t{constructor(n,r,i,a,l,f,m,_,b,A,P,F){const z=new as.x,te=(0,bt.of)(void 0).pipe((0,ZS.Q)(l.outsideAngular),(0,jn.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8661)))),(0,Vt.U)(()=>(0,ki.on)(n,a,r)),(0,Vt.U)(ne=>g$(ne,a,f,_,b,A,m,P)),B4({bufferSize:1,refCount:!1}));if(zn(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,bt.of)(null);else{te.pipe(Ms()).subscribe();const Ae=te.pipe((0,jn.w)(Oe=>Oe.getRedirectResult().then(st=>st,()=>null)),Zt.iC,B4({bufferSize:1,refCount:!1})),Ge=te.pipe((0,jn.w)(Oe=>new _i.y(st=>({unsubscribe:a.runOutsideAngular(()=>Oe.onAuthStateChanged(pt=>st.next(pt),pt=>st.error(pt),()=>st.complete()))})))),He=te.pipe((0,jn.w)(Oe=>new _i.y(st=>({unsubscribe:a.runOutsideAngular(()=>Oe.onIdTokenChanged(pt=>st.next(pt),pt=>st.error(pt),()=>st.complete()))}))));this.authState=Ae.pipe($4(Ge),(0,vL.R)(l.outsideAngular),(0,ZS.Q)(l.insideAngular)),this.user=Ae.pipe($4(He),(0,vL.R)(l.outsideAngular),(0,ZS.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,jn.w)(Oe=>Oe?(0,yn.D)(Oe.getIdToken()):(0,bt.of)(null))),this.idTokenResult=this.user.pipe((0,jn.w)(Oe=>Oe?(0,yn.D)(Oe.getIdTokenResult()):(0,bt.of)(null))),this.credential=(0,v9.T)(Ae,z,this.authState.pipe(us(Oe=>!Oe))).pipe((0,Vt.U)(Oe=>Oe?.user?Oe:null),(0,vL.R)(l.outsideAngular),(0,ZS.Q)(l.insideAngular))}return(0,ki.pX)(this,te,a,{spy:{apply:(ne,Ae,Ge)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Ge.then(He=>z.next(He))}}})}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(ki.Dh),c.LFG(ki.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zt.HU),c.LFG(l$,8),c.LFG(c$,8),c.LFG(d$,8),c.LFG(h$,8),c.LFG(f$,8),c.LFG(p$,8),c.LFG(Np,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function m$(t,e){return function yW(t,e=aA.z){return new _i.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function $L(t,e){return m$(t,e).pipe((0,Vt.U)(n=>({payload:n,type:"query"})))}function XS(t,e){return $L(t,e).pipe(io(void 0),wy(),(0,Vt.U)(([n,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const m=i.find(b=>b.doc.ref.isEqual(l.ref)),_=n?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function _$(t,e,n){return XS(t,n).pipe(so((r,i)=>function CW(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function wW(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return jL(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return jL(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jL(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(a=>a.payload),e),[]),(0,dw.x)(),(0,Vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function jL(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function v$(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class y${constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=XS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(io(void 0),wy(),us(([r,i])=>i.length>0||!r),(0,Vt.U)(([r,i])=>i),Zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(so((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=v$(e);return _$(this.query,n,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return $L(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Zt.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Zt.iC)}add(e){return this.ref.add(e)}doc(e){return new E$(this.ref.doc(e),this.afs)}}class E${constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:a}=C$(r,n);return new y$(i,a,this.afs)}snapshotChanges(){return function EW(t,e){return m$(t,e).pipe(io(void 0),wy(),(0,Vt.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,yn.D)(this.ref.get(e)).pipe(Zt.iC)}}class bW{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),us(n=>n.length>0),Zt.iC):XS(this.query,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(so((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=v$(e);return _$(this.query,n,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return $L(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Zt.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Zt.iC)}}const DW=new c.OlP("angularfire2.enableFirestorePersistence"),IW=new c.OlP("angularfire2.firestore.persistenceSettings"),TW=new c.OlP("angularfire2.firestore.settings"),AW=new c.OlP("angularfire2.firestore.use-emulator");function C$(t,e=(n=>n)){return{query:e(t),ref:t}}let SW=(()=>{class t{constructor(n,r,i,a,l,f,m,_,b,A,P,F,z,te,ne,Ae,Ge){this.schedulers=m;const He=(0,ki.on)(n,f,r),Oe=b;A&&g$(He,f,P,z,te,ne,F,Ae),[this.firestore,this.persistenceEnabled$]=(0,ki.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const st=f.runOutsideAngular(()=>He.firestore());if(a&&st.settings(a),Oe&&st.useEmulator(...Oe),i&&!zn(l)){const pt=()=>{try{return(0,yn.D)(st.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(qt){return typeof console<"u"&&console.warn(qt),(0,bt.of)(!1)}};return[st,f.runOutsideAngular(pt)]}return[st,(0,bt.of)(!1)]},[a,Oe,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:a,query:l}=C$(i,r),f=this.schedulers.ngZone.run(()=>a);return new y$(f,l,this)}collectionGroup(n,r){const i=r||(l=>l),a=this.firestore.collectionGroup(n);return new bW(i(a),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new E$(i,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(ki.Dh),c.LFG(ki.xv,8),c.LFG(DW,8),c.LFG(TW,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zt.HU),c.LFG(IW,8),c.LFG(AW,8),c.LFG(Lc,8),c.LFG(l$,8),c.LFG(c$,8),c.LFG(d$,8),c.LFG(h$,8),c.LFG(f$,8),c.LFG(p$,8),c.LFG(Np,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),Rp=(()=>{var t;class e{constructor(r){this.afs=r}addProduct(r){return r.id=this.afs.createId(),this.afs.collection("products").add(r)}getAllProducts(){return this.afs.collection("products").snapshotChanges()}deleteProduct(r){return this.afs.doc("products/"+r.id).delete()}updateProduct(r,i,a){return this.afs.collection("products").doc(i).update({categorie:r.categorie,code:r.code,color:r.color,description:r.description,img:a,name:r.name,price:r.price,maragi:r.maragi,trending:r.trending})}getProductDoc(r){return this.afs.collection("products").doc(r).valueChanges()}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(SW))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function xW(t,e){if(1&t&&(c.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),c._UZ(4,"img",15),c.qZA()(),c.TgZ(5,"div",16)(6,"h3")(7,"a",14),c._uU(8),c.qZA()(),c.TgZ(9,"div",17)(10,"span"),c._uU(11),c.qZA()()()()()),2&t){const n=c.oxw().$implicit;c.xp6(3),c.MGl("routerLink","/single-product/",n.id,""),c.xp6(1),c.s9C("src",n.img,c.LSH),c.xp6(3),c.MGl("routerLink","/single-product/",n.id,""),c.xp6(1),c.Oqu(n.name),c.xp6(3),c.hij("",n.price,"\u20be")}}function MW(t,e){if(1&t&&(c.ynx(0),c.YNc(1,xW,12,5,"div",10),c.BQk()),2&t){const n=e.$implicit;c.xp6(1),c.Q6J("ngIf",n.trending)}}let HL=(()=>{var t;class e{constructor(r){this.data=r,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price=""}ngOnInit(){this.getAllProducts()}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a})},r=>{alert("Error while fetching products data")})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Rp))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-area"]],decls:15,vars:1,consts:[[1,"product-area","section"],[1,"container"],[1,"row"],[1,"col-12"],[1,"section-title"],[1,"product-info"],["id","myTabContent",1,"tab-content"],["id","man","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"tab-single"],[4,"ngFor","ngForOf"],["class","col-xl-3 col-lg-4 col-md-4 col-12",4,"ngIf"],[1,"col-xl-3","col-lg-4","col-md-4","col-12"],[1,"single-product"],[1,"product-img"],[3,"routerLink"],["alt","#",1,"default-img",3,"src"],[1,"product-content"],[1,"product-price"]],template:function(r,i){1&r&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),c._uU(6,"\u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8 \u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d4\u10d1\u10d8"),c.qZA()()()(),c.TgZ(7,"div",2)(8,"div",3)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",2),c.YNc(14,MW,2,1,"ng-container",9),c.qZA()()()()()()()()()),2&r&&(c.xp6(14),c.Q6J("ngForOf",i.productList))},dependencies:[Un,Za,Ri],styles:['.product-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.product[_ngcontent-%COMP%]{flex:0 0 calc(33.33% - 20px);margin:10px;padding:10px;border:1px solid #ddd;border-radius:5px;box-shadow:0 0 5px #0003;background-color:#fff;text-align:center}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:10px}.product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}.product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-weight:700}.product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){font-style:italic;color:#888}.product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){color:#090}.product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5):not(:contains("In   Store"))[_ngcontent-%COMP%]{color:red}']}),e})(),JS=(()=>{var t;class e{constructor(r,i){this.data=r,this.afAuth=i,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price="",this.maragi=!1,this.trending=!1,this.customOptions={loop:!0,mouseDrag:!1,touchDrag:!1,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0}}ngOnInit(){}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a});for(let i of this.productList)console.log(i.img)},r=>{alert("Error while fetching products data")})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Rp),c.Y36(Lc))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-most-popular"]],decls:0,vars:0,template:function(r,i){}}),e})(),kp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-shop-nesletter"]],decls:14,vars:0,consts:[[1,"shop-newsletter","section"],[1,"container"],[1,"inner-top"],[1,"row"],[1,"col-lg-8","offset-lg-2","col-12"],[1,"inner"],["action","mail/mail.php","method","get","target","_blank",1,"newsletter-inner"],["name","EMAIL","placeholder","\u10e8\u10d4\u10d8\u10e7\u10d5\u10d0\u10dc\u10d4\u10d7 \u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10db\u10d4\u10d8\u10da\u10d8","required","","type","email"],[1,"btn"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),c._uU(7,"\u10e1\u10d8\u10d0\u10ee\u10da\u10d4\u10d4\u10d1\u10d8"),c.qZA(),c.TgZ(8,"p"),c._uU(9," \u10d2\u10d0\u10db\u10dd\u10d8\u10ec\u10d4\u10e0\u10d4\u10d7 \u10e9\u10d5\u10d4\u10dc\u10d8 \u10e1\u10d8\u10d0\u10ee\u10da\u10d4\u10d4\u10d1\u10d8"),c.qZA(),c.TgZ(10,"form",6),c._UZ(11,"input",7),c.TgZ(12,"button",8),c._uU(13,"\u10d2\u10d0\u10db\u10dd\u10d8\u10ec\u10d4\u10e0\u10d4\u10d7"),c.qZA()()()()()()()())},dependencies:[dc,lc,cc],styles:["@media (max-width: 500px) {\n\t\t\t.shop-newsletter[_ngcontent-%COMP%]   .newsletter-inner[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}"]}),e})(),Yb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-modal"]],decls:100,vars:0,consts:[["id","exampleModal","tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true",1,"ti-close"],[1,"modal-body"],[1,"row","no-gutters"],[1,"col-lg-6","col-md-12","col-sm-12","col-xs-12"],[1,"product-gallery"],[1,"quickview-slider-active"],[1,"single-slider"],["src","https://via.placeholder.com/569x528","alt","#"],[1,"quickview-content"],[1,"quickview-ratting-review"],[1,"quickview-ratting-wrap"],[1,"quickview-ratting"],[1,"yellow","fa","fa-star"],[1,"fa","fa-star"],["href","#"],[1,"quickview-stock"],[1,"fa","fa-check-circle-o"],[1,"quickview-peragraph"],[1,"size"],[1,"row"],[1,"col-lg-6","col-12"],[1,"title"],["selected","selected"],[1,"quantity"],[1,"input-group"],[1,"button","minus"],["type","button","disabled","disabled","data-type","minus","data-field","quant[1]",1,"btn","btn-primary","btn-number"],[1,"ti-minus"],["type","text","name","quant[1]","data-min","1","data-max","1000","value","1",1,"input-number"],[1,"button","plus"],["type","button","data-type","plus","data-field","quant[1]",1,"btn","btn-primary","btn-number"],[1,"ti-plus"],[1,"add-to-cart"],["href","#",1,"btn"],["href","#",1,"btn","min"],[1,"ti-heart"],[1,"fa","fa-compress"],[1,"default-social"],[1,"share-now"],["href","#",1,"facebook"],[1,"fa","fa-facebook"],["href","#",1,"twitter"],[1,"fa","fa-twitter"],["href","#",1,"youtube"],[1,"fa","fa-pinterest-p"],["href","#",1,"dribbble"],[1,"fa","fa-google-plus"]],template:function(r,i){1&r&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),c._UZ(5,"span",5),c.qZA()(),c.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),c._UZ(12,"img",12),c.qZA(),c.TgZ(13,"div",11),c._UZ(14,"img",12),c.qZA(),c.TgZ(15,"div",11),c._UZ(16,"img",12),c.qZA(),c.TgZ(17,"div",11),c._UZ(18,"img",12),c.qZA()()()(),c.TgZ(19,"div",8)(20,"div",13)(21,"h2"),c._uU(22,"Flared Shift Dress"),c.qZA(),c.TgZ(23,"div",14)(24,"div",15)(25,"div",16),c._UZ(26,"i",17)(27,"i",17)(28,"i",17)(29,"i",17)(30,"i",18),c.qZA(),c.TgZ(31,"a",19),c._uU(32," (1 customer review)"),c.qZA()(),c.TgZ(33,"div",20)(34,"span"),c._UZ(35,"i",21),c._uU(36," in stock"),c.qZA()()(),c.TgZ(37,"h3"),c._uU(38,"$29.00"),c.qZA(),c.TgZ(39,"div",22)(40,"p"),c._uU(41,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia iste laborum ad impedit pariatur esse optio tempora sint ullam autem deleniti nam in quos qui nemo ipsum numquam."),c.qZA()(),c.TgZ(42,"div",23)(43,"div",24)(44,"div",25)(45,"h5",26),c._uU(46,"Size"),c.qZA(),c.TgZ(47,"select")(48,"option",27),c._uU(49,"s"),c.qZA(),c.TgZ(50,"option"),c._uU(51,"m"),c.qZA(),c.TgZ(52,"option"),c._uU(53,"l"),c.qZA(),c.TgZ(54,"option"),c._uU(55,"xl"),c.qZA()()(),c.TgZ(56,"div",25)(57,"h5",26),c._uU(58,"Color"),c.qZA(),c.TgZ(59,"select")(60,"option",27),c._uU(61,"orange"),c.qZA(),c.TgZ(62,"option"),c._uU(63,"purple"),c.qZA(),c.TgZ(64,"option"),c._uU(65,"black"),c.qZA(),c.TgZ(66,"option"),c._uU(67,"pink"),c.qZA()()()()(),c.TgZ(68,"div",28)(69,"div",29)(70,"div",30)(71,"button",31),c._UZ(72,"i",32),c.qZA()(),c._UZ(73,"input",33),c.TgZ(74,"div",34)(75,"button",35),c._UZ(76,"i",36),c.qZA()()()(),c.TgZ(77,"div",37)(78,"a",38),c._uU(79,"Add to cart"),c.qZA(),c.TgZ(80,"a",39),c._UZ(81,"i",40),c.qZA(),c.TgZ(82,"a",39),c._UZ(83,"i",41),c.qZA()(),c.TgZ(84,"div",42)(85,"h4",43),c._uU(86,"Share:"),c.qZA(),c.TgZ(87,"ul")(88,"li")(89,"a",44),c._UZ(90,"i",45),c.qZA()(),c.TgZ(91,"li")(92,"a",46),c._UZ(93,"i",47),c.qZA()(),c.TgZ(94,"li")(95,"a",48),c._UZ(96,"i",49),c.qZA()(),c.TgZ(97,"li")(98,"a",50),c._UZ(99,"i",51),c.qZA()()()()()()()()()()())},dependencies:[$d,Ov]}),e})(),w$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-home"]],decls:7,vars:0,template:function(r,i){1&r&&c._UZ(0,"app-header")(1,"app-hero-slider")(2,"app-product-area")(3,"app-most-popular")(4,"app-shop-nesletter")(5,"app-modal")(6,"app-footer")},dependencies:[Ug,ho,cw,HL,JS,kp,Yb]}),e})(),b$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-shop-services-area"]],decls:31,vars:0,consts:[[1,"shop-services","section","home"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-6","col-12"],[1,"single-service"],[1,"ti-rocket"],[1,"ti-reload"],[1,"ti-lock"],[1,"ti-tag"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"i",5),c.TgZ(6,"h4"),c._uU(7,"Free shiping"),c.qZA(),c.TgZ(8,"p"),c._uU(9,"Orders over $100"),c.qZA()()(),c.TgZ(10,"div",3)(11,"div",4),c._UZ(12,"i",6),c.TgZ(13,"h4"),c._uU(14,"Free Return"),c.qZA(),c.TgZ(15,"p"),c._uU(16,"Within 30 days returns"),c.qZA()()(),c.TgZ(17,"div",3)(18,"div",4),c._UZ(19,"i",7),c.TgZ(20,"h4"),c._uU(21,"Sucure Payment"),c.qZA(),c.TgZ(22,"p"),c._uU(23,"100% secure payment"),c.qZA()()(),c.TgZ(24,"div",3)(25,"div",4),c._UZ(26,"i",8),c.TgZ(27,"h4"),c._uU(28,"Best Peice"),c.qZA(),c.TgZ(29,"p"),c._uU(30,"Guaranteed price"),c.qZA()()()()()())}}),e})();function PW(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(n),c.oxw(3);const i=c.MAs(1);return c.KtG(i.previous())})("click",function(){c.CHM(n),c.oxw(3);const i=c.MAs(1);return c.KtG(i.previous())}),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()}if(2&t){const n=c.oxw(3);c.xp6(1),c.hij(" ",n.previousLabel," "),c.xp6(2),c.Oqu(n.screenReaderPageLabel)}}function OW(t,e){if(1&t&&(c.TgZ(0,"span",14),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()),2&t){const n=c.oxw(3);c.xp6(1),c.hij(" ",n.previousLabel," "),c.xp6(2),c.Oqu(n.screenReaderPageLabel)}}function NW(t,e){if(1&t&&(c.TgZ(0,"li",9),c.YNc(1,PW,4,2,"a",10),c.YNc(2,OW,4,2,"span",11),c.qZA()),2&t){c.oxw(2);const n=c.MAs(1);c.ekj("disabled",n.isFirstPage()),c.xp6(1),c.Q6J("ngIf",1<n.getCurrent()),c.xp6(1),c.Q6J("ngIf",n.isFirstPage())}}function RW(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(n);const i=c.oxw().$implicit;c.oxw(2);const a=c.MAs(1);return c.KtG(a.setCurrent(i.value))})("click",function(){c.CHM(n);const i=c.oxw().$implicit;c.oxw(2);const a=c.MAs(1);return c.KtG(a.setCurrent(i.value))}),c.TgZ(1,"span",13),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA()()}if(2&t){const n=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.hij("",r.screenReaderPageLabel," "),c.xp6(2),c.Oqu("..."===n.label?n.label:c.xi3(5,2,n.label,""))}}function kW(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"span",16)(2,"span",13),c._uU(3),c.qZA(),c.TgZ(4,"span"),c._uU(5),c.ALo(6,"number"),c.qZA()(),c.BQk()),2&t){const n=c.oxw().$implicit,r=c.oxw(2);c.xp6(3),c.hij("",r.screenReaderCurrentLabel," "),c.xp6(2),c.Oqu("..."===n.label?n.label:c.xi3(6,2,n.label,""))}}function LW(t,e){if(1&t&&(c.TgZ(0,"li"),c.YNc(1,RW,6,5,"a",10),c.YNc(2,kW,7,5,"ng-container",15),c.qZA()),2&t){const n=e.$implicit;c.oxw(2);const r=c.MAs(1);c.ekj("current",r.getCurrent()===n.value)("ellipsis","..."===n.label),c.xp6(1),c.Q6J("ngIf",r.getCurrent()!==n.value),c.xp6(1),c.Q6J("ngIf",r.getCurrent()===n.value)}}function FW(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(n),c.oxw(3);const i=c.MAs(1);return c.KtG(i.next())})("click",function(){c.CHM(n),c.oxw(3);const i=c.MAs(1);return c.KtG(i.next())}),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()}if(2&t){const n=c.oxw(3);c.xp6(1),c.hij(" ",n.nextLabel," "),c.xp6(2),c.Oqu(n.screenReaderPageLabel)}}function UW(t,e){if(1&t&&(c.TgZ(0,"span",14),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()),2&t){const n=c.oxw(3);c.xp6(1),c.hij(" ",n.nextLabel," "),c.xp6(2),c.Oqu(n.screenReaderPageLabel)}}function VW(t,e){if(1&t&&(c.TgZ(0,"li",17),c.YNc(1,FW,4,2,"a",10),c.YNc(2,UW,4,2,"span",11),c.qZA()),2&t){c.oxw(2);const n=c.MAs(1);c.ekj("disabled",n.isLastPage()),c.xp6(1),c.Q6J("ngIf",!n.isLastPage()),c.xp6(1),c.Q6J("ngIf",n.isLastPage())}}function BW(t,e){if(1&t&&(c.TgZ(0,"ul",4),c.YNc(1,NW,3,4,"li",5),c.TgZ(2,"li",6),c._uU(3),c.qZA(),c.YNc(4,LW,3,6,"li",7),c.YNc(5,VW,3,4,"li",8),c.qZA()),2&t){const n=c.oxw(),r=c.MAs(1);c.ekj("responsive",n.responsive),c.xp6(1),c.Q6J("ngIf",n.directionLinks),c.xp6(2),c.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),c.xp6(1),c.Q6J("ngForOf",r.pages)("ngForTrackBy",n.trackByIndex),c.xp6(1),c.Q6J("ngIf",n.directionLinks)}}class ZL{constructor(){this.change=new c.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e];n<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}}const $W=Number.MAX_SAFE_INTEGER;let jW=(()=>{class t{constructor(n){this.service=n,this.state={}}transform(n,r){if(!(n instanceof Array)){let A=r.id||this.service.defaultId();return this.state[A]?this.state[A].slice:n}let f,m,i=r.totalItems&&r.totalItems!==n.length,a=this.createInstance(n,r),l=a.id,_=a.itemsPerPage,b=this.service.register(a);if(!i&&n instanceof Array){if(_=+_||$W,f=(a.currentPage-1)*_,m=f+_,this.stateIsIdentical(l,n,f,m))return this.state[l].slice;{let P=n.slice(f,m);return this.saveState(l,n,P,f,m),this.service.change.emit(l),P}}return b&&this.service.change.emit(l),this.saveState(l,n,n,f,m),n}createInstance(n,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||n.length}}checkConfig(n){const i=["itemsPerPage","currentPage"].filter(a=>!(a in n));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(n,r,i,a,l){this.state[n]={collection:r,size:r.length,slice:i,start:a,end:l}}stateIsIdentical(n,r,i,a){let l=this.state[n];return!(!l||l.size!==r.length||l.start!==i||l.end!==a)&&l.slice.every((m,_)=>m===r[i+_])}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(ZL,16))},t.\u0275pipe=c.Yjl({name:"paginate",type:t,pure:!1}),t})(),HW=(()=>{class t{constructor(n,r){this.service=n,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(n){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(n){this.pageChange.emit(n)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let n=this.service.getInstance(this.id);return n.totalItems<1?1:Math.ceil(n.totalItems/n.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let n=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(n);r!==n.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}):this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}outOfBoundCorrection(n){const r=Math.ceil(n.totalItems/n.itemsPerPage);return r<n.currentPage&&0<r?r:n.currentPage<1?1:n.currentPage}createPageArray(n,r,i,a){a=+a;let l=[];const f=Math.max(Math.ceil(i/r),1),m=Math.ceil(a/2),_=n<=m,b=f-m<n,A=!_&&!b;let P=a<f,F=1;for(;F<=f&&F<=a;){let z,te=this.calculatePageNumber(F,n,a,f);z=P&&(2===F&&(A||b)||F===a-1&&(A||_))?"...":te,l.push({label:z,value:te}),F++}return l}calculatePageNumber(n,r,i,a){let l=Math.ceil(i/2);return n===i?a:1===n?n:i<a?a-l<r?a-i+n:l<r?r-l+n:n:n}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(ZL),c.Y36(c.sBO))},t.\u0275dir=c.lG2({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[c.TTD]}),t})();function zL(t){return!!t&&"false"!==t}let ZW=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=zL(n)}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=zL(n)}get responsive(){return this._responsive}set responsive(n){this._responsive=zL(n)}trackByIndex(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(n,r){if(1&n&&(c.TgZ(0,"pagination-template",0,1),c.NdJ("pageChange",function(a){return r.pageChange.emit(a)})("pageBoundsCorrection",function(a){return r.pageBoundsCorrection.emit(a)}),c.TgZ(2,"nav",2),c.YNc(3,BW,6,8,"ul",3),c.qZA()()),2&n){const i=c.MAs(1);c.Q6J("id",r.id)("maxSize",r.maxSize),c.xp6(2),c.uIk("aria-label",r.screenReaderPaginationLabel),c.xp6(1),c.Q6J("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[HW,Za,Un,$t],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),t})(),zW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[ZL],imports:[[ws]]}),t})();function WW(t,e){if(1&t&&(c.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"a",20),c._UZ(4,"img",21),c.qZA()(),c.TgZ(5,"div",22)(6,"h3")(7,"a",20),c._uU(8),c.qZA()(),c.TgZ(9,"div",23)(10,"span"),c._uU(11),c.qZA()()()()()),2&t){const n=e.$implicit;c.xp6(3),c.MGl("routerLink","/single-product/",n.id,""),c.xp6(1),c.s9C("src",n.img,c.LSH),c.xp6(3),c.MGl("routerLink","/single-product/",n.id,""),c.xp6(1),c.Oqu(n.name),c.xp6(3),c.hij("",n.price,"\u20be")}}const qW=function(t,e){return{itemsPerPage:t,currentPage:e}};let GW=(()=>{var t;class e{constructor(r){this.data=r,this.p=1,this.productsPerPage=30,this.filteredproducts=[],this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price=""}ngOnInit(){this.getAllProducts()}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.filteredproducts=this.productList,this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a}),this.totalproducts=this.productList.length},r=>{alert("Error while fetching products data")})}number9(){this.productsPerPage=9}number15(){this.productsPerPage=15}number25(){this.productsPerPage=25}number30(){this.productsPerPage=30}sort(r){"asc"==r?(console.log("ff"),this.productList.sort((i,a)=>i.price>a.price?1:-1)):this.productList.sort((i,a)=>i.price>a.price?-1:1)}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Rp))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-style"]],decls:24,vars:7,consts:[[1,"product-area","shop-sidebar","shop","section"],[1,"container"],[1,"row"],[1,"col-lg-9","col-md-8","col-12"],[1,"col-12"],[1,"shop-top"],[1,"shop-shorter"],[1,"single-shorter"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-sort-numeric-down-alt"],["fill-rule","evenodd","d","M11.36 7.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.836 1.973-1.836 1.09 0 2.063.637 2.063 2.688 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"],["d","M12.438 8.668V14H11.39V9.684h-.051l-1.211.859v-.969l1.262-.906h1.046zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-sort-numeric-up-alt"],["d","M12.438 8.668V14H11.39V9.684h-.051l-1.211.859v-.969l1.262-.906h1.046zM4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"],["class","col-lg-4 col-md-6 col-12",4,"ngFor","ngForOf"],[1,"clearfix"],[3,"pageChange"],[1,"col-lg-4","col-md-6","col-12"],[1,"single-product"],[1,"product-img"],[3,"routerLink"],["alt","#",1,"default-img",3,"src"],[1,"product-content"],[1,"product-price"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div",6),c._UZ(8,"div",7),c.TgZ(9,"div",7)(10,"span",8),c.NdJ("click",function(){return i.sort("dsc")}),c.O4$(),c.TgZ(11,"svg",9),c._UZ(12,"path",10)(13,"path",11),c.qZA()(),c.kcU(),c.TgZ(14,"span",8),c.NdJ("click",function(){return i.sort("asc")}),c.O4$(),c.TgZ(15,"svg",12),c._UZ(16,"path",10)(17,"path",13),c.qZA()()()()()()(),c.kcU(),c.TgZ(18,"div",2),c.YNc(19,WW,12,5,"div",14),c.ALo(20,"paginate"),c.qZA(),c._UZ(21,"br"),c.TgZ(22,"div",15)(23,"pagination-controls",16),c.NdJ("pageChange",function(l){return i.p=l}),c.qZA()()()()()()),2&r&&(c.xp6(19),c.Q6J("ngForOf",c.xi3(20,1,i.productList,c.WLB(4,qW,i.productsPerPage,i.p))))},dependencies:[Un,Ri,ZW,jW],styles:['.ngx-pagination[_ngcontent-%COMP%]{margin-left:0!important;margin-bottom:1rem!important;line-height:20px!important;padding:7px 15px!important;font-size:12px!important}.ngx-pagination[_ngcontent-%COMP%]:before, .ngx-pagination[_ngcontent-%COMP%]:after{content:" "!important;display:table!important}.ngx-pagination[_ngcontent-%COMP%]:after{clear:both!important}.ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-moz-user-select:none!important;-webkit-user-select:none!important;-ms-user-select:none!important;margin-right:.2rem!important;border-radius:0!important}.ngx-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block!important}.ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#0a0a0a!important;display:block!important;background-color:#f8f8f8!important;color:#000!important;border:2px solid #8b8b8b!important;padding:.5rem 1rem!important;border-radius:9%!important}.ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#788b8d88!important}.ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{padding:.1875rem .625rem!important;background:#2199e8!important;color:#fefefe!important;cursor:default!important;border:2px solid #8b8b8b!important;padding:.5rem 1rem!important;border-radius:9%!important}.ngx-pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{padding:.1875rem .625rem!important;color:#cacaca00!important;cursor:default!important}.ngx-pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:hover{background:transparent!important}.ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer!important}.ngx-pagination[_ngcontent-%COMP%]   .pagination-previous[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before, .ngx-pagination[_ngcontent-%COMP%]   .pagination-previous.disabled[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\f053"!important;display:inline-block!important;margin-right:0rem!important}.ngx-pagination[_ngcontent-%COMP%]   .pagination-next[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .ngx-pagination[_ngcontent-%COMP%]   .pagination-next.disabled[_ngcontent-%COMP%]:after{font-family:FontAwesome!important;content:"\\f054"!important;display:inline-block!important;margin-left:0rem!important}.ngx-pagination[_ngcontent-%COMP%]   .show-for-sr[_ngcontent-%COMP%]{position:absolute!important;width:1px!important;height:1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important}.ngx-pagination[_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]{display:none!important}@media screen and (max-width: 601px){.ngx-pagination.responsive[_ngcontent-%COMP%]   .small-screen[_ngcontent-%COMP%]{display:inline-block!important;color:#000!important;background-color:#f8f8f8!important;border:2px solid #8b8b8b!important;padding:.5rem 1rem!important;border-radius:9%!important}.ngx-pagination.responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none!important}}']}),e})(),D$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-products"]],decls:18,vars:0,consts:[[1,"breadcrumbs"],[1,"container"],[1,"row"],[1,"col-12"],[1,"bread-inner"],[1,"bread-list"],["href","#"],[1,"ti-arrow-right"],["routerLink","/products",1,"active"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),c._uU(9,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c._UZ(10,"i",7),c.qZA()(),c.TgZ(11,"li")(12,"a",8),c._uU(13,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d4\u10d1\u10d8 "),c.qZA()()()()()()()(),c._UZ(14,"app-product-style")(15,"app-shop-nesletter")(16,"app-modal")(17,"app-footer"))},dependencies:[Ri,ho,kp,Yb,Da,GW]}),e})();class ex{}class tx{}class dl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),a=i.toLowerCase(),l=n.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof dl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new dl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof dl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(n);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(a=>a.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class KW{encodeKey(e){return I$(e)}encodeValue(e){return I$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QW=/%(\d[a-f0-9])/gi,XW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I$(t){return encodeURIComponent(t).replace(QW,(e,n)=>XW[n]??e)}function nx(t){return`${t}`}class Lp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YW(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],m=n.get(l)||[];m.push(f),n.set(l,m)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(nx):[nx(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{n.push({param:r,value:a,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Lp({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(nx(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(nx(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JW{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function T$(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function A$(t){return typeof Blob<"u"&&t instanceof Blob}function S$(t){return typeof FormData<"u"&&t instanceof FormData}class Qb{constructor(e,n,r,i){let a;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function eq(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new dl),this.context||(this.context=new JW),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=n;else{const f=n.indexOf("?");this.urlWithParams=n+(-1===f?"?":f<n.length-1?"&":"")+l}}else this.params=new Lp,this.urlWithParams=n}serializeBody(){return null===this.body?null:T$(this.body)||A$(this.body)||S$(this.body)||function tq(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||S$(this.body)?null:A$(this.body)?this.body.type||null:T$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((A,P)=>A.set(P,e.setHeaders[P]),m)),e.setParams&&(_=Object.keys(e.setParams).reduce((A,P)=>A.set(P,e.setParams[P]),_)),new Qb(n,r,a,{params:_,headers:m,context:b,reportProgress:f,responseType:i,withCredentials:l})}}var N0=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(N0||{});class WL{constructor(e,n=200,r="OK"){this.headers=e.headers||new dl,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qL extends WL{constructor(e={}){super(e),this.type=N0.ResponseHeader}clone(e={}){return new qL({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R0 extends WL{constructor(e={}){super(e),this.type=N0.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new R0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x$ extends WL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GL(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let M$=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,a={}){let l;if(r instanceof Qb)l=r;else{let _,b;_=a.headers instanceof dl?a.headers:new dl(a.headers),a.params&&(b=a.params instanceof Lp?a.params:new Lp({fromObject:a.params})),l=new Qb(r,i,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:b,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,bt.of)(l).pipe(Oi(_=>this.handler.handle(_)));if(r instanceof Qb||"events"===a.observe)return f;const m=f.pipe(us(_=>_ instanceof R0));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,Vt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe((0,Vt.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Lp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,a={}){return this.request("PATCH",r,GL(a,i))}post(r,i,a={}){return this.request("POST",r,GL(a,i))}put(r,i,a={}){return this.request("PUT",r,GL(a,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(ex))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();function N$(t,e){return e(t)}function rq(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const sq=new c.OlP(""),Xb=new c.OlP(""),R$=new c.OlP("");function oq(){let t=null;return(e,n)=>{null===t&&(t=((0,c.f3M)(sq,{optional:!0})??[]).reduceRight(rq,N$));const r=(0,c.f3M)(c.HDt),i=r.add();return t(e,n).pipe(oo(()=>r.remove(i)))}}let k$=(()=>{var t;class e extends ex{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(r){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(Xb),...this.injector.get(R$,[])]));this.chain=a.reduceRight((l,f)=>function iq(t,e,n){return(r,i)=>n.runInContext(()=>e(r,a=>t(a,i)))}(l,f,this.injector),N$)}const i=this.pendingTasks.add();return this.chain(r,a=>this.backend.handle(a)).pipe(oo(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(tx),c.LFG(c.lqb))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const cq=/^\)\]\}',?\n/;let F$=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new c.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,yn.D)(i.\u0275loadImpl()):(0,bt.of)(null)).pipe((0,jn.w)(()=>new _i.y(l=>{const f=i.build();if(f.open(r.method,r.urlWithParams),r.withCredentials&&(f.withCredentials=!0),r.headers.forEach((ne,Ae)=>f.setRequestHeader(ne,Ae.join(","))),r.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const ne=r.detectContentTypeHeader();null!==ne&&f.setRequestHeader("Content-Type",ne)}if(r.responseType){const ne=r.responseType.toLowerCase();f.responseType="json"!==ne?ne:"text"}const m=r.serializeBody();let _=null;const b=()=>{if(null!==_)return _;const ne=f.statusText||"OK",Ae=new dl(f.getAllResponseHeaders()),Ge=function dq(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(f)||r.url;return _=new qL({headers:Ae,status:f.status,statusText:ne,url:Ge}),_},A=()=>{let{headers:ne,status:Ae,statusText:Ge,url:He}=b(),Oe=null;204!==Ae&&(Oe=typeof f.response>"u"?f.responseText:f.response),0===Ae&&(Ae=Oe?200:0);let st=Ae>=200&&Ae<300;if("json"===r.responseType&&"string"==typeof Oe){const pt=Oe;Oe=Oe.replace(cq,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(qt){Oe=pt,st&&(st=!1,Oe={error:qt,text:Oe})}}st?(l.next(new R0({body:Oe,headers:ne,status:Ae,statusText:Ge,url:He||void 0})),l.complete()):l.error(new x$({error:Oe,headers:ne,status:Ae,statusText:Ge,url:He||void 0}))},P=ne=>{const{url:Ae}=b(),Ge=new x$({error:ne,status:f.status||0,statusText:f.statusText||"Unknown Error",url:Ae||void 0});l.error(Ge)};let F=!1;const z=ne=>{F||(l.next(b()),F=!0);let Ae={type:N0.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(Ae.total=ne.total),"text"===r.responseType&&f.responseText&&(Ae.partialText=f.responseText),l.next(Ae)},te=ne=>{let Ae={type:N0.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(Ae.total=ne.total),l.next(Ae)};return f.addEventListener("load",A),f.addEventListener("error",P),f.addEventListener("timeout",P),f.addEventListener("abort",P),r.reportProgress&&(f.addEventListener("progress",z),null!==m&&f.upload&&f.upload.addEventListener("progress",te)),f.send(m),l.next({type:N0.Sent}),()=>{f.removeEventListener("error",P),f.removeEventListener("abort",P),f.removeEventListener("load",A),f.removeEventListener("timeout",P),r.reportProgress&&(f.removeEventListener("progress",z),null!==m&&f.upload&&f.upload.removeEventListener("progress",te)),f.readyState!==f.DONE&&f.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Qa))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();const KL=new c.OlP("XSRF_ENABLED"),U$=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),V$=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class B${}let pq=(()=>{var t;class e{constructor(r,i,a){this.doc=r,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pu(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(pe),c.LFG(c.Lbi),c.LFG(U$))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),e})();function gq(t,e){const n=t.url.toLowerCase();if(!(0,c.f3M)(KL)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=(0,c.f3M)(B$).getToken(),i=(0,c.f3M)(V$);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Fp=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Fp||{});function g_(t,e){return{\u0275kind:t,\u0275providers:e}}function mq(...t){const e=[M$,F$,k$,{provide:ex,useExisting:k$},{provide:tx,useExisting:F$},{provide:Xb,useValue:gq,multi:!0},{provide:KL,useValue:!0},{provide:B$,useClass:pq}];for(const n of t)e.push(...n.\u0275providers);return(0,c.MR2)(e)}const $$=new c.OlP("LEGACY_INTERCEPTOR_FN");let vq=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[mq(g_(Fp.LegacyInterceptors,[{provide:$$,useFactory:oq},{provide:Xb,useExisting:$$,multi:!0}]))]}),e})(),YL=(()=>{var t;class e{constructor(r,i){this.http=r,this.router=i,this.formData={}}submitForm(){const r=new dl({"Content-Type":"application/json"});this.http.post("http://penoplasti.ge/process_contact_form.php",JSON.stringify(this.formData),{headers:r}).subscribe(i=>{console.log("Email sent successfully:",i),this.router.navigateByUrl("mail-succes")},i=>{console.error("Email sending failed:",i)})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(M$),c.Y36(Ci))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-contact-us"]],decls:101,vars:5,consts:[[1,"breadcrumbs"],[1,"container"],[1,"row"],[1,"col-12"],[1,"bread-inner"],[1,"bread-list"],["href","#"],[1,"ti-arrow-right"],[1,"active"],["routerLink","/about-us"],["id","contact-us",1,"contact-us","section"],[1,"contact-head"],[1,"col-lg-8","col-12"],[1,"form-main"],[1,"title"],[1,"form"],[1,"col-lg-6","col-12"],[1,"form-group"],["name","name","type","text","placeholder","",3,"ngModel","ngModelChange"],["name","subject","type","text","placeholder","",3,"ngModel","ngModelChange"],["name","email","type","email","placeholder","",3,"ngModel","ngModelChange"],["name","Phone","type","text","placeholder","",3,"ngModel","ngModelChange"],[1,"form-group","message"],["name","message","placeholder","",3,"ngModel","ngModelChange"],[1,"form-group","button"],["type","submit",1,"btn",3,"click"],[1,"col-lg-4","col-12"],[1,"single-head"],[1,"single-info"],[1,"fa","fa-phone"],[1,"fa","fa-envelope-open"],["href","mailto:info@yourwebsite.com"],[1,"fa","fa-location-arrow"],["id","map",1,"map"],["id","myMap"],["src","https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d638.5869680222404!2d44.879544988844856!3d41.67877854063754!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e1!3m2!1ska!2sge!4v1694463216109!5m2!1ska!2sge","width","100%","height","100%","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),c._uU(9,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c._UZ(10,"i",7),c.qZA()(),c.TgZ(11,"li",8)(12,"a",9),c._uU(13,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()()()()()()()(),c.TgZ(14,"section",10)(15,"div",1)(16,"div",11)(17,"div",2)(18,"div",12)(19,"div",13)(20,"div",14)(21,"h3"),c._uU(22,"\u10db\u10dd\u10d2\u10d5\u10ec\u10d4\u10e0\u10d4\u10d7 \u10d0\u10e5"),c.qZA()(),c.TgZ(23,"form",15)(24,"div",2)(25,"div",16)(26,"div",17)(27,"label"),c._uU(28,"\u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10e1\u10d0\u10ee\u10d4\u10da\u10d8"),c.TgZ(29,"span"),c._uU(30,"*"),c.qZA()(),c.TgZ(31,"input",18),c.NdJ("ngModelChange",function(l){return i.formData.name=l}),c.qZA()()(),c.TgZ(32,"div",16)(33,"div",17)(34,"label"),c._uU(35,"\u10d7\u10d4\u10db\u10d0"),c.TgZ(36,"span"),c._uU(37,"*"),c.qZA()(),c.TgZ(38,"input",19),c.NdJ("ngModelChange",function(l){return i.formData.subject=l}),c.qZA()()(),c.TgZ(39,"div",16)(40,"div",17)(41,"label"),c._uU(42,"\u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10db\u10d4\u10d8\u10da\u10d8"),c.TgZ(43,"span"),c._uU(44,"*"),c.qZA()(),c.TgZ(45,"input",20),c.NdJ("ngModelChange",function(l){return i.formData.email=l}),c.qZA()()(),c.TgZ(46,"div",16)(47,"div",17)(48,"label"),c._uU(49,"\u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10e2\u10d4\u10da\u10d4\u10e4\u10dd\u10dc\u10d8\u10e1 \u10dc\u10dd\u10db\u10d4\u10e0\u10d8"),c.TgZ(50,"span"),c._uU(51,"*"),c.qZA()(),c.TgZ(52,"input",21),c.NdJ("ngModelChange",function(l){return i.formData.phone=l}),c.qZA()()(),c.TgZ(53,"div",3)(54,"div",22)(55,"label"),c._uU(56,"\u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10db\u10d4\u10e1\u10d8\u10ef\u10d8"),c.TgZ(57,"span"),c._uU(58,"*"),c.qZA()(),c.TgZ(59,"textarea",23),c.NdJ("ngModelChange",function(l){return i.formData.message=l}),c.qZA()()(),c.TgZ(60,"div",3)(61,"div",24)(62,"button",25),c.NdJ("click",function(){return i.submitForm()}),c._uU(63,"\u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d4\u10d7 \u10db\u10d4\u10e1\u10d8\u10ef\u10d8"),c.qZA()()()()()()(),c.TgZ(64,"div",26)(65,"div",27)(66,"div",28),c._UZ(67,"i",29),c.TgZ(68,"h4",14),c._uU(69,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10e0\u10d4\u10d9\u10d4\u10d7:"),c.qZA(),c.TgZ(70,"ul")(71,"li"),c._uU(72,"+995 599 16 36 99"),c.qZA()(),c.TgZ(73,"h4",14),c._uU(74,"\u10e1\u10de\u10d4\u10ea \u10e8\u10d4\u10d9\u10d5\u10d4\u10d7\u10d4\u10d1\u10d8:"),c.qZA(),c.TgZ(75,"ul")(76,"li"),c._uU(77,"+995 599 53 00 67"),c.qZA()()(),c.TgZ(78,"div",28),c._UZ(79,"i",30),c.TgZ(80,"h4",14),c._uU(81,"\u10db\u10d4\u10d8\u10da\u10d4\u10d1\u10d8:"),c.qZA(),c.TgZ(82,"ul")(83,"li")(84,"a",31),c._uU(85,"info@penoplasti.ge"),c.qZA()(),c.TgZ(86,"li")(87,"a",31),c._uU(88,"support@penoplasti.ge"),c.qZA()()()(),c.TgZ(89,"div",28),c._UZ(90,"i",32),c.TgZ(91,"h4",14),c._uU(92,"\u10e9\u10d5\u10d4\u10dc\u10d8 \u10db\u10d8\u10e1\u10d0\u10db\u10d0\u10e0\u10d7\u10d8:"),c.qZA(),c.TgZ(93,"ul")(94,"li"),c._uU(95,"\u10d2\u10e0\u10d8\u10d2\u10dd\u10da \u10da\u10dd\u10e0\u10d7\u10e5\u10d8\u10e4\u10d0\u10dc\u10d8\u10eb\u10d8\u10e1 N8"),c.qZA()()()()()()()()(),c.TgZ(96,"div",33)(97,"div",34),c._UZ(98,"iframe",35),c.qZA()(),c._UZ(99,"app-shop-nesletter")(100,"app-footer")),2&r&&(c.xp6(31),c.Q6J("ngModel",i.formData.name),c.xp6(7),c.Q6J("ngModel",i.formData.subject),c.xp6(7),c.Q6J("ngModel",i.formData.email),c.xp6(7),c.Q6J("ngModel",i.formData.phone),c.xp6(7),c.Q6J("ngModel",i.formData.message))},dependencies:[Ri,dc,fo,jg,lc,Ef,cc,ho,kp,Da]}),e})(),Dq=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-start-team"]],decls:110,vars:0,consts:[["id","team",1,"team","section"],[1,"container"],[1,"row"],[1,"col-12"],[1,"section-title"],[1,"col-lg-3","col-md-6","col-12"],[1,"single-team"],[1,"image"],["src","https://via.placeholder.com/370x370","alt","#"],[1,"info-head"],[1,"info-box"],[1,"name"],["href","#"],[1,"designation"],[1,"social-links"],[1,"social"],[1,"fa","fa-facebook-f"],[1,"fa","fa-twitter"],[1,"fa","fa-behance"],[1,"fa","fa-instagram"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),c._uU(6,"Our Expert Team"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"Business consulting excepteur sint occaecat cupidatat consulting non proident, sunt in culpa qui officia deserunt laborum market. "),c.qZA()()()(),c.TgZ(9,"div",2)(10,"div",5)(11,"div",6)(12,"div",7),c._UZ(13,"img",8),c.qZA(),c.TgZ(14,"div",9)(15,"div",10)(16,"h4",11)(17,"a",12),c._uU(18,"Dahlia Moore"),c.qZA()(),c.TgZ(19,"span",13),c._uU(20,"Senior Manager"),c.qZA()(),c.TgZ(21,"div",14)(22,"ul",15)(23,"li")(24,"a",12),c._UZ(25,"i",16),c.qZA()(),c.TgZ(26,"li")(27,"a",12),c._UZ(28,"i",17),c.qZA()(),c.TgZ(29,"li")(30,"a",12),c._UZ(31,"i",18),c.qZA()(),c.TgZ(32,"li")(33,"a",12),c._UZ(34,"i",19),c.qZA()()()()()()(),c.TgZ(35,"div",5)(36,"div",6)(37,"div",7),c._UZ(38,"img",8),c.qZA(),c.TgZ(39,"div",9)(40,"div",10)(41,"h4",11)(42,"a",12),c._uU(43,"Jhone digo"),c.qZA()(),c.TgZ(44,"span",13),c._uU(45,"Markeitng"),c.qZA()(),c.TgZ(46,"div",14)(47,"ul",15)(48,"li")(49,"a",12),c._UZ(50,"i",16),c.qZA()(),c.TgZ(51,"li")(52,"a",12),c._UZ(53,"i",17),c.qZA()(),c.TgZ(54,"li")(55,"a",12),c._UZ(56,"i",18),c.qZA()(),c.TgZ(57,"li")(58,"a",12),c._UZ(59,"i",19),c.qZA()()()()()()(),c.TgZ(60,"div",5)(61,"div",6)(62,"div",7),c._UZ(63,"img",8),c.qZA(),c.TgZ(64,"div",9)(65,"div",10)(66,"h4",11)(67,"a",12),c._uU(68,"Zara tingo"),c.qZA()(),c.TgZ(69,"span",13),c._uU(70,"Web Developer"),c.qZA()(),c.TgZ(71,"div",14)(72,"ul",15)(73,"li")(74,"a",12),c._UZ(75,"i",16),c.qZA()(),c.TgZ(76,"li")(77,"a",12),c._UZ(78,"i",17),c.qZA()(),c.TgZ(79,"li")(80,"a",12),c._UZ(81,"i",18),c.qZA()(),c.TgZ(82,"li")(83,"a",12),c._UZ(84,"i",19),c.qZA()()()()()()(),c.TgZ(85,"div",5)(86,"div",6)(87,"div",7),c._UZ(88,"img",8),c.qZA(),c.TgZ(89,"div",9)(90,"div",10)(91,"h4",11)(92,"a",12),c._uU(93,"David Zone"),c.qZA()(),c.TgZ(94,"span",13),c._uU(95,"SEO Expert"),c.qZA()(),c.TgZ(96,"div",14)(97,"ul",15)(98,"li")(99,"a",12),c._UZ(100,"i",16),c.qZA()(),c.TgZ(101,"li")(102,"a",12),c._UZ(103,"i",17),c.qZA()(),c.TgZ(104,"li")(105,"a",12),c._UZ(106,"i",18),c.qZA()(),c.TgZ(107,"li")(108,"a",12),c._UZ(109,"i",19),c.qZA()()()()()()()()()())}}),e})(),j$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-about-us"]],decls:39,vars:0,consts:[[1,"breadcrumbs"],[1,"container"],[1,"row"],[1,"col-12"],[1,"bread-inner"],[1,"bread-list"],["href","#"],[1,"ti-arrow-right"],[1,"active"],["routerLink","/about-us"],[1,"about-us","section"],[1,"col-lg-6","col-12"],[1,"about-content"],[1,"button"],["routerLink","/contact-us",1,"btn","primary"],[1,"about-img","overlay"],["href","https://www.youtube.com/watch?v=nh2aYrGMrIE",1,"video","video-popup","mfp-iframe"],[1,"fa","fa-play"],["src","https://via.placeholder.com/775x550","alt","#"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),c._uU(9,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c._UZ(10,"i",7),c.qZA()(),c.TgZ(11,"li",8)(12,"a",9),c._uU(13,"\u10e9\u10d5\u10d4\u10dc\u10e1 \u10e8\u10d4\u10e1\u10d0\u10ee\u10d4\u10d1"),c.qZA()()()()()()()(),c.TgZ(14,"section",10)(15,"div",1)(16,"div",2)(17,"div",11)(18,"div",12)(19,"h3"),c._uU(20,"\u10d9\u10d4\u10d7\u10d8\u10da\u10d8 \u10d8\u10e7\u10dd\u10e1 \u10d7\u10e5\u10d4\u10dc\u10d8 \u10db\u10dd\u10d1\u10e0\u10eb\u10d0\u10dc\u10d4\u10d1\u10d0 "),c.TgZ(21,"span"),c._uU(22,"penoplasti.ge-\u10d6\u10d4"),c.qZA()(),c.TgZ(23,"p"),c._uU(24,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis unde sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis unde omnis iste natus error sit voluptatem Excepteu "),c.qZA(),c.TgZ(25,"p"),c._uU(26,"sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspi deserunt mollit anim id est laborum. sed ut perspi."),c.qZA(),c.TgZ(27,"div",13)(28,"a",14),c._uU(29,"\u10d3\u10d0\u10d2\u10d5\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()()()(),c.TgZ(30,"div",11)(31,"div",15)(32,"div",13)(33,"a",16),c._UZ(34,"i",17),c.qZA()(),c._UZ(35,"img",18),c.qZA()()()()(),c._UZ(36,"app-start-team")(37,"app-shop-nesletter")(38,"app-footer"))},dependencies:[Ri,ho,kp,Da,Dq]}),e})(),Jb=(()=>{var t;class e{constructor(r,i){this.fireauth=r,this.router=i}login(r,i){this.fireauth.signInWithEmailAndPassword(r,i).then(()=>{this.router.navigate(["/products-list"]),localStorage.setItem("token","true"),alert("\u10ec\u10d0\u10e0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7 \u10e8\u10d4\u10ee\u10d5\u10d4\u10d3\u10d8\u10e2 \u10e1\u10d8\u10e1\u10e2\u10d4\u10db\u10d0\u10e8\u10d8")},a=>{alert(a.message),this.router.navigate(["/admin-page"])})}logout(){window.confirm("\u10d3\u10d0\u10e0\u10ec\u10db\u10e3\u10dc\u10d4\u10d1\u10e3\u10da\u10d8 \u10ee\u10d0\u10e0\u10d7 \u10e0\u10dd\u10db \u10d2\u10d8\u10dc\u10d3\u10d0\u10d7 \u10d2\u10d0\u10e1\u10d5\u10da\u10d0?")&&this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),alert("\u10ec\u10d0\u10e0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7 \u10d2\u10d0\u10db\u10dd\u10ee\u10d5\u10d4\u10d3\u10d8\u10d7"),this.router.navigate(["/admin-page"])},r=>{alert(r.message)})}redirectToProductList(){this.router.navigate(["/products-list"])}redirectToAdminPage(){this.router.navigate(["/admin-page"])}redirectToAddProduct(){this.router.navigate(["/add-product"])}}return(t=e).\u0275fac=function(r){return new(r||t)(c.LFG(Lc),c.LFG(Ci))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),H$=(()=>{var t;class e{constructor(r,i){this.auth=r,this.afAuth=i,this.email="",this.password=""}ngOnInit(){console.log(this.afAuth.user)}login(){""!=this.email&&""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter email")}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Jb),c.Y36(Lc))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login-admin"]],decls:9,vars:2,consts:[["type","text","name","username","placeholder","username",1,"text-field",3,"ngModel","ngModelChange"],["id","password","type","password","placeholder","Password","name","password","required","",1,"text-field",3,"ngModel","ngModelChange"],[1,"input-group-text"],["id","togglePassword",1,"bi","bi-eye",2,"cursor","pointer"],["type","button","value","Log In",1,"button",3,"click"]],template:function(r,i){1&r&&(c.TgZ(0,"form"),c._UZ(1,"br"),c.TgZ(2,"h2"),c._uU(3,"Admin Login"),c.qZA(),c.TgZ(4,"input",0),c.NdJ("ngModelChange",function(l){return i.email=l}),c.qZA(),c.TgZ(5,"input",1),c.NdJ("ngModelChange",function(l){return i.password=l}),c.qZA(),c.TgZ(6,"span",2),c._UZ(7,"i",3),c.qZA(),c.TgZ(8,"input",4),c.NdJ("click",function(){return i.login()}),c.qZA()()),2&r&&(c.xp6(4),c.Q6J("ngModel",i.email),c.xp6(1),c.Q6J("ngModel",i.password))},dependencies:[dc,fo,jg,lc,Xg,Ef,cc],styles:["body[_ngcontent-%COMP%]{background:url(http://private.indocyber.pro/test/image/background.png) fixed 50% no-repeat white;font-family:Elephant}h2[_ngcontent-%COMP%]{color:#000}nav[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-weight:700;text-decoration:none;opacity:.3;-moz-transition:all .4s}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]   a.focus[_ngcontent-%COMP%]{opacity:1}form[_ngcontent-%COMP%]{width:280px;height:260px;margin:200px auto;background:white;border-radius:3px;box-shadow:0 0 10px #0006;text-align:center;padding-top:1px}form.register[_ngcontent-%COMP%]{height:420px}form[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]{border:1px solid #a6a6a6;width:230px;height:40px;border-radius:3px;margin-top:10px;padding-left:10px;color:#6c6c6c;background:#fcfcfc;outline:none}form[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]:focus{box-shadow:inset 0 0 2px #0000004d;color:#a6a6a6;background:white}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:3px;box-shadow:inset 0 1px #ababac;width:242px;height:40px;margin-top:20px;background-color:#181818;cursor:pointer;color:#fff;font-weight:700;font-size:13px}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active{background-color:#6c6c6c}"]}),e})();class Iq{constructor(e,n){this._delegate=e,this.firebase=n,(0,Mr._addComponent)(e,new sl.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Mr.deleteApp)(this._delegate)))}_getService(e,n=Mr._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Mr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){(0,Mr._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,Mr._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z$=new Q.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Sq=function z$(){const t=function Aq(t){const e={},n={__esModule:!0,initializeApp:function a(_,b={}){const A=Mr.initializeApp(_,b);if((0,Q.r3)(e,A.name))return e[A.name];const P=new t(A,n);return e[A.name]=P,P},app:i,registerVersion:Mr.registerVersion,setLogLevel:Mr.setLogLevel,onLog:Mr.onLog,apps:null,SDK_VERSION:Mr.SDK_VERSION,INTERNAL:{registerComponent:function f(_){const b=_.name,A=b.replace("-compat","");if(Mr._registerComponent(_)&&"PUBLIC"===_.type){const P=(F=i())=>{if("function"!=typeof F[A])throw Z$.create("invalid-app-argument",{appName:b});return F[A]()};void 0!==_.serviceProps&&(0,Q.ZB)(P,_.serviceProps),n[A]=P,t.prototype[A]=function(...F){return this._getService.bind(this,b).apply(this,_.multipleInstances?F:[])}}return"PUBLIC"===_.type?n[A]:null},removeApp:function r(_){delete e[_]},useAsService:function m(_,b){return"serverAuth"===b?null:b},modularAPIs:Mr}};function i(_){if(!(0,Q.r3)(e,_=_||Mr._DEFAULT_ENTRY_NAME))throw Z$.create("no-app",{appName:_});return e[_]}return n.default=n,Object.defineProperty(n,"apps",{get:function l(){return Object.keys(e).map(_=>e[_])}}),i.App=t,n}(Iq);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:z$,extendNamespace:function e(n){(0,Q.ZB)(t,n)},createSubscribe:Q.ne,ErrorFactory:Q.LL,deepExtend:Q.ZB}),t}(),W$=new Go.Yd("@firebase/app-compat");if((0,Q.jU)()&&void 0!==self.firebase){W$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&W$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const m_=Sq;!function Pq(t){(0,Mr.registerVersion)("@firebase/app-compat","0.2.19",t)}(),m_.registerVersion("firebase","10.4.0","app-compat");const q$="firebasestorage.googleapis.com",G$="storageBucket";class Br extends Q.ZR{constructor(e,n,r=0){super(QL(e),`Firebase Storage: ${n} (${QL(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pr||{});function QL(t){return"storage/"+t}function XL(){return new Br(Pr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function K$(){return new Br(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y$(){return new Br(Pr.CANCELED,"User canceled the upload/download.")}function Q$(){return new Br(Pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function k0(t){return new Br(Pr.INVALID_ARGUMENT,t)}function X$(){return new Br(Pr.APP_DELETED,"The Firebase app was deleted.")}function J$(t){return new Br(Pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eD(t,e){return new Br(Pr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function tD(t){throw new Br(Pr.INTERNAL_ERROR,"Internal error: "+t)}class Ws{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ws.makeFromUrl(e,n)}catch{return new Ws(e,"")}if(""===r.path)return r;throw function Hq(t){return new Br(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(Oe){Oe.path_=decodeURIComponent(Oe.path)}const A=n.replace(/[.]/g,"\\."),He=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Oe){"/"===Oe.path.charAt(Oe.path.length-1)&&(Oe.path_=Oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${n===q$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Oe=0;Oe<He.length;Oe++){const st=He[Oe],pt=st.regex.exec(e);if(pt){let Rn=pt[st.indices.path];Rn||(Rn=""),r=new Ws(pt[st.indices.bucket],Rn),st.postModify(r);break}}if(null==r)throw function jq(t){return new Br(Pr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Gq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ix(t){return"string"==typeof t||t instanceof String}function ej(t){return JL()&&t instanceof Blob}function JL(){return typeof Blob<"u"&&!(0,Q.UG)()}function eF(t,e,n,r){if(r<e)throw k0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k0(`Invalid value for '${t}'. Expected ${n} or less.`)}function _h(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tj(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var L0=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(L0||{});function nj(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),a=-1!==e.indexOf(t);return n||i||a}class eG{constructor(e,n,r,i,a,l,f,m,_,b,A,P=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=A,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,z)=>{this.resolve_=F,this.reject_=z,this.start_()})}start_(){const n=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function Qq(t){return void 0!==t}(m)?a():a(m)}catch(m){l(m)}else if(null!==f){const m=XL();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(i.canceled?this.appDelete_?X$():Y$():K$())};this.canceled_?n(0,new sx(!1,null,!0)):this.backoffId_=function Kq(t,e,n){let r=1,i=null,a=null,l=!1,f=0;function m(){return 2===f}let _=!1;function b(...ne){_||(_=!0,e.apply(null,ne))}function A(ne){i=setTimeout(()=>{i=null,t(F,m())},ne)}function P(){a&&clearTimeout(a)}function F(ne,...Ae){if(_)return void P();if(ne)return P(),void b.call(null,ne,...Ae);if(m()||l)return P(),void b.call(null,ne,...Ae);let He;r<64&&(r*=2),1===f?(f=2,He=0):He=1e3*(r+Math.random()),A(He)}let z=!1;function te(ne){z||(z=!0,P(),!_&&(null!==i?(ne||(f=2),clearTimeout(i),A(0)):ne||(f=1)))}return A(0),a=setTimeout(()=>{l=!0,te(!0)},n),te}((r,i)=>{if(i)return void r(!1,new sx(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===L0.NO_ERROR,m=a.getStatus();if(!f||nj(m,this.additionalRetryCodes_)&&this.retry){const b=a.getErrorCode()===L0.ABORT;return void r(!1,new sx(!1,null,b))}const _=-1!==this.successCodes_.indexOf(m);r(!0,new sx(_,a))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Yq(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function aG(...t){const e=function oG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(JL())return new Blob(t);throw new Br(Pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tF{constructor(e,n){this.data=e,this.contentType=n||null}}function nF(t,e){switch(t){case La.RAW:return new tF(rj(e));case La.BASE64:case La.BASE64URL:return new tF(ij(t,e));case La.DATA_URL:return new tF(function dG(t){const e=new sj(t);return e.base64?ij(La.BASE64,e.rest):function cG(t){let e;try{e=decodeURIComponent(t)}catch{throw eD(La.DATA_URL,"Malformed data URL.")}return rj(e)}(e.rest)}(e),function hG(t){return new sj(t).contentType}(e))}throw XL()}function rj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ij(t,e){switch(t){case La.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw eD(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw eD(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function lG(t){if(typeof atob>"u")throw function qq(t){return new Br(Pr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:eD(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw eD(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function fG(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Fc{constructor(e,n){let r=0,i="";ej(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ej(this.data_)){const i=function uG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Fc(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fc(r,!0)}}static getBlob(...e){if(JL()){const n=e.map(r=>r instanceof Fc?r.data_:r);return new Fc(aG.apply(null,n))}{const n=e.map(l=>ix(l)?nF(La.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new Fc(i,!0)}}uploadData(){return this.data_}}function rF(t){let e;try{e=JSON.parse(t)}catch{return null}return function Jq(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function oj(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mG(t,e){return e}class Do{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mG}}let ox=null;function nD(){if(ox)return ox;const t=[];t.push(new Do("bucket")),t.push(new Do("generation")),t.push(new Do("metageneration")),t.push(new Do("name","fullPath",!0));const n=new Do("name");n.xform=function e(a,l){return function _G(t){return!ix(t)||t.length<2?t:oj(t)}(l)},t.push(n);const i=new Do("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},t.push(i),t.push(new Do("timeCreated")),t.push(new Do("updated")),t.push(new Do("md5Hash",null,!0)),t.push(new Do("cacheControl",null,!0)),t.push(new Do("contentDisposition",null,!0)),t.push(new Do("contentEncoding",null,!0)),t.push(new Do("contentLanguage",null,!0)),t.push(new Do("contentType",null,!0)),t.push(new Do("metadata","customMetadata",!0)),ox=t,ox}function aj(t,e,n){const r=rF(e);return null===r?null:function yG(t,e,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return function vG(t,e){Object.defineProperty(t,"ref",{get:function n(){const a=new Ws(t.bucket,t.fullPath);return e._makeStorageReference(a)}})}(r,t),r}(t,r,n)}function iF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}const uj="prefixes",lj="items";class Uc{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vc(t){if(!t)throw XL()}function ax(t,e){return function n(r,i){const a=aj(t,i,e);return Vc(null!==a),a}}function F0(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Bq(){return new Br(Pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Vq(){return new Br(Pr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Uq(t){return new Br(Pr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function $q(t){return new Br(Pr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function rD(t){const e=F0(t);return function n(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function Fq(t){return new Br(Pr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),a.serverResponse=i.serverResponse,a}}function cj(t,e,n){const i=_h(e.fullServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,f=new Uc(i,"GET",ax(t,n),l);return f.errorHandler=rD(e),f}function IG(t,e,n,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=_h(e.bucketOnlyServerUrl(),t.host,t._protocol),_=t.maxOperationRetryTime,b=new Uc(f,"GET",function bG(t,e){return function n(r,i){const a=function wG(t,e,n){const r=rF(n);return null===r?null:function CG(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[uj])for(const i of n[uj]){const a=i.replace(/\/$/,""),l=t._makeStorageReference(new Ws(e,a));r.prefixes.push(l)}if(n[lj])for(const i of n[lj]){const a=t._makeStorageReference(new Ws(e,i.name));r.items.push(a)}return r}(t,e,r)}(t,e,i);return Vc(null!==a),a}}(t,e.bucket),_);return b.urlParams=a,b.errorHandler=F0(e),b}function hj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function xG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class ux{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function sF(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Vc(!1)}return Vc(!!n&&-1!==(e||["active"]).indexOf(n)),n}const NG={STATE_CHANGED:"state_changed"},Io={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oF(t){switch(t){case"running":case"pausing":case"canceling":return Io.RUNNING;case"paused":return Io.PAUSED;case"success":return Io.SUCCESS;case"canceled":return Io.CANCELED;default:return Io.ERROR}}class RG{constructor(e,n,r){if(function Xq(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function U0(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let gj=null;class kG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=L0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=L0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=L0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw tD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tD("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tD("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tD("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class LG extends kG{initXhr(){this.xhr_.responseType="text"}}function hl(){return gj?gj():new LG}class mj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=nD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(nj(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=K$()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function MG(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l=hj(e,r,i),f={name:l.fullPath},m=_h(a,t.host,t._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},A=iF(l,n),z=new Uc(m,"POST",function F(te){let ne;sF(te);try{ne=te.getResponseHeader("X-Goog-Upload-URL")}catch{Vc(!1)}return Vc(ix(ne)),ne},t.maxUploadRetryTime);return z.urlParams=f,z.headers=b,z.body=A,z.errorHandler=F0(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function PG(t,e,n,r){const m=new Uc(n,"POST",function a(_){const b=sF(_,["active","final"]);let A=null;try{A=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vc(!1)}A||Vc(!1);const P=Number(A);return Vc(!isNaN(P)),new ux(P,r.size(),"final"===b)},t.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=F0(e),m}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,hl,n,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new ux(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function OG(t,e,n,r,i,a,l,f){const m=new ux(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function zq(){return new Br(Pr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=m.total-m.current;let b=_;i>0&&(b=Math.min(b,i));const A=m.current;let F="";F=0===b?"finalize":_===b?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${m.current}`},te=r.slice(A,A+b);if(null===te)throw Q$();const He=new Uc(n,"POST",function ne(Oe,st){const pt=sF(Oe,["active","final"]),qt=m.current+b,Rn=r.size();let cr;return cr="final"===pt?ax(e,a)(Oe,st):null,new ux(qt,Rn,"final"===pt,cr)},e.maxUploadRetryTime);return He.headers=z,He.body=te.uploadData(),He.progressCallback=f||null,He.errorHandler=F0(t),He}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(l,hl,i,a,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=cj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,hl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function fj(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let He="";for(let Oe=0;Oe<2;Oe++)He+=Math.random().toString().slice(2);return He}();l["Content-Type"]="multipart/related; boundary="+m;const _=hj(e,r,i),b=iF(_,n),F=Fc.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+m+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===F)throw Q$();const z={name:_.fullPath},te=_h(a,t.host,t._protocol),Ae=t.maxUploadRetryTime,Ge=new Uc(te,"POST",ax(t,n),Ae);return Ge.urlParams=z,Ge.headers=l,Ge.body=F.uploadData(),Ge.errorHandler=F0(e),Ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Y$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=oF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new RG(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(oF(this._state)){case Io.SUCCESS:U0(this._resolve.bind(null,this.snapshot))();break;case Io.CANCELED:case Io.ERROR:U0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(oF(this._state)){case Io.RUNNING:case Io.PAUSED:e.next&&U0(e.next.bind(e,this.snapshot))();break;case Io.SUCCESS:e.complete&&U0(e.complete.bind(e))();break;default:e.error&&U0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class __{constructor(e,n){this._service=e,this._location=n instanceof Ws?n:Ws.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new __(e,n)}get root(){const e=new Ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oj(this._location.path)}get storage(){return this._service}get parent(){const e=function pG(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ws(this._location.bucket,e);return new __(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw J$(e)}}function vj(t,e,n){return aF.apply(this,arguments)}function aF(){return aF=(0,be.Z)(function*(t,e,n){const i=yield yj(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield vj(t,e,i.nextPageToken))}),aF.apply(this,arguments)}function yj(t,e){null!=e&&"number"==typeof e.maxResults&&eF("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=IG(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,hl)}function GG(t){t._throwIfRoot("getDownloadURL");const e=function TG(t,e,n){const i=_h(e.fullServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,f=new Uc(i,"GET",function DG(t,e){return function n(r,i){const a=aj(t,i,e);return Vc(null!==a),function EG(t,e,n,r){const i=rF(e);if(null===i||!ix(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(_=>{const A=t.fullPath;return _h("/b/"+l(t.bucket)+"/o/"+l(A),n,r)+tj({alt:"media",token:_})})[0]}(a,i,t.host,t._protocol)}}(t,n),l);return f.errorHandler=rD(e),f}(t.storage,t._location,nD());return t.storage.makeRequestWithTokens(e,hl).then(n=>{if(null===n)throw function Wq(){return new Br(Pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function Ej(t,e){const n=function gG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ws(t._location.bucket,n);return new __(t.storage,r)}function Cj(t,e){if(t instanceof uF){const n=t;if(null==n._bucket)throw function Zq(){return new Br(Pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G$+"' property when initializing the app?")}();const r=new __(n,n._bucket);return null!=e?Cj(r,e):r}return void 0!==e?Ej(t,e):t}function XG(t,e){if(e&&function YG(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof uF)return function QG(t,e){return new __(t,e)}(t,e);throw k0("To use ref(service, url), the first argument must be a Storage instance.")}return Cj(t,e)}function wj(t,e){const n=e?.[G$];return null==n?null:Ws.makeFromBucketSpec(n,t)}class uF{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=q$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ws.makeFromBucketSpec(i,this._host):wj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ws.makeFromBucketSpec(this._url,e):wj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new __(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Gq(X$());{const l=function sG(t,e,n,r,i,a,l=!0){const f=tj(t.urlParams),m=t.url+f,_=Object.assign({},t.headers);return function rG(t,e){e&&(t["X-Firebase-GMPID"]=e)}(_,e),function tG(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(_,n),function nG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,a),function iG(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(_,r),new eG(m,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,n){var r=this;return(0,be.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,a).getPromise()})()}}const bj="@firebase/storage",Ij="storage";function Tj(t,e){return XG(t=(0,Q.m9)(t),e)}function u7(t=(0,Mr.getApp)(),e){t=(0,Q.m9)(t);const r=(0,Mr._getProvider)(t,Ij).getImmediate({identifier:e}),i=(0,Q.P0)("storage");return i&&Aj(r,...i),r}function Aj(t,e,n,r={}){!function JG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,Q.Sg)(i,t.app.options.projectId))}(t,e,n,r)}function l7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uF(n,r,i,e,Mr.SDK_VERSION)}!function c7(){(0,Mr._registerComponent)(new sl.wA(Ij,l7,"PUBLIC").setMultipleInstances(!0)),(0,Mr.registerVersion)(bj,"0.11.2",""),(0,Mr.registerVersion)(bj,"0.11.2","esm2017")}();class lx{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Sj{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lx(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new lx(r,this,this._ref))},n)}on(e,n,r,i){let a;return n&&(a="function"==typeof n?l=>n(new lx(l,this,this._ref)):{next:n.next?l=>n.next(new lx(l,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class xj{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new vh(e,this._service))}get items(){return this._delegate.items.map(e=>new vh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class vh{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function a7(t,e){return Ej(t,e)}(this._delegate,e);return new vh(n,this.storage)}get root(){return new vh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new vh(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Sj(function e7(t,e,n){return function HG(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new mj(t,new Fc(e),n)}(t=(0,Q.m9)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=La.RAW,r){this._throwIfRoot("putString");const i=nF(n,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new Sj(new mj(this._delegate,new Fc(i.data,!0),a),this)}listAll(){return function i7(t){return function zG(t){const e={prefixes:[],items:[]};return vj(t,e).then(()=>e)}(t=(0,Q.m9)(t))}(this._delegate).then(e=>new xj(e,this.storage))}list(e){return function r7(t,e){return yj(t=(0,Q.m9)(t),e)}(this._delegate,e||void 0).then(n=>new xj(n,this.storage))}getMetadata(){return function t7(t){return function WG(t){t._throwIfRoot("getMetadata");const e=cj(t.storage,t._location,nD());return t.storage.makeRequestWithTokens(e,hl)}(t=(0,Q.m9)(t))}(this._delegate)}updateMetadata(e){return function n7(t,e){return function qG(t,e){t._throwIfRoot("updateMetadata");const n=function AG(t,e,n,r){const a=_h(e.fullServerUrl(),t.host,t._protocol),f=iF(n,r),_=t.maxOperationRetryTime,b=new Uc(a,"PATCH",ax(t,r),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=f,b.errorHandler=rD(e),b}(t.storage,t._location,e,nD());return t.storage.makeRequestWithTokens(n,hl)}(t=(0,Q.m9)(t),e)}(this._delegate,e)}getDownloadURL(){return function s7(t){return GG(t=(0,Q.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function o7(t){return function KG(t){t._throwIfRoot("deleteObject");const e=function SG(t,e){const r=_h(e.fullServerUrl(),t.host,t._protocol),f=new Uc(r,"DELETE",function l(m,_){},t.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=rD(e),f}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,hl)}(t=(0,Q.m9)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw J$(e)}}class Mj{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Pj(e))throw k0("ref() expected a child path but got a URL, use refFromURL instead.");return new vh(Tj(this._delegate,e),this)}refFromURL(e){if(!Pj(e))throw k0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ws.makeFromUrl(e,this._delegate.host)}catch{throw k0("refFromUrl() expected a valid full URL but got an invalid one.")}return new vh(Tj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Aj(this._delegate,e,n,r)}}function Pj(t){return/^[A-Za-z]+:\/\//.test(t)}function p7(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new Mj(n,r)}function m7(t,e){1&t&&(c.TgZ(0,"li",50),c._UZ(1,"i",51),c.TgZ(2,"span",6),c._uU(3,"\u10e8\u10d4\u10e1\u10d5\u10da\u10d0"),c.qZA()())}function _7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"li",52),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.LogOut())}),c._UZ(1,"i",53),c.TgZ(2,"span",6),c._uU(3,"\u10d2\u10d0\u10db\u10dd\u10e1\u10d5\u10da\u10d0"),c.qZA()()}}function v7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"div",54)(1,"a",55),c._uU(2,"\u10e3\u10d9\u10d0\u10dc \u10d3\u10d0\u10d1\u10e0\u10e3\u10dc\u10d4\u10d1\u10d0"),c.qZA(),c.TgZ(3,"a",56),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.editProductInForm())}),c._UZ(4,"i",57),c._uU(5," \u10e8\u10d4\u10d8\u10dc\u10d0\u10ee\u10d4\u10d7"),c.qZA()()}}!function g7(t){const e={TaskState:Io,TaskEvent:NG,StringFormat:La,Storage:Mj,Reference:vh};t.INTERNAL.registerComponent(new sl.wA("storage-compat",p7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(m_);let Oj=(()=>{var t;class e{constructor(r,i,a,l,f,m){this.auth=r,this.afAuth=i,this.data=a,this.formbuilder=l,this.act=f,this.router=m,this.selectedFile={},this.whantToChangePhoto=!1,this.uploadedImagePath=null,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price="",this.maragi=!1,this.trending2=!1,this.editForm=this.formbuilder.group({id:[""],name:[""],categorie:[""],code:[""],description:[""],color:[""],price:[""],img:[""],maragi:!1,trending:!1})}ngOnInit(){const r=this.act.snapshot.paramMap.get("id");this.data.getProductDoc(r).subscribe(i=>{this.productref=i,this.editForm=this.formbuilder.group({id:[this.productref.id],name:[this.productref.name],categorie:[this.productref.categorie],code:[this.productref.code],description:[this.productref.description],color:[this.productref.color],price:[this.productref.price],img:[this.productref.img],maragi:[this.productref.maragi],trending:[this.productref.trending]})})}LogOut(){this.auth.logout()}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a})},r=>{alert("\u10d1\u10d0\u10d6\u10d8\u10d3\u10d0\u10dc \u10d8\u10dc\u10e4\u10dd\u10e0\u10db\u10d0\u10ea\u10d8\u10d8\u10e1 \u10ec\u10d0\u10db\u10dd\u10e6\u10d4\u10d1\u10d8\u10e1\u10d0\u10e1 \u10db\u10dd\u10ee\u10d3\u10d0 \u10e8\u10d4\u10ea\u10d3\u10dd\u10db\u10d0")})}choosefile(r){this.selectedFile=r.target.files[0],this.whantToChangePhoto=!0}uploadImageAndDeletePrevious(r,i){var a=this;return(0,be.Z)(function*(){if(!r)return;const l=m_.storage().ref(),f=`images/${Date.now()}_${r.name}`,m=l.child(f);try{yield m.put(r);const _=yield m.getDownloadURL();a.editForm.value.img=_,a.whantToChangePhoto=!1,a.editProductInForm(),i&&(yield m_.storage().refFromURL(i).delete()),a.uploadedImagePath=_}catch(_){console.error("Error uploading image:",_)}})()}maragiCheckbox(r){this.editForm.value.maragi=r.target.checked}trendingCheckbox(r){this.trending2=r.target.checked,this.editForm.value.trending=this.trending2}editProductInForm(){if(this.whantToChangePhoto)this.uploadImageAndDeletePrevious(this.selectedFile,this.productref.img);else{const r=this.act.snapshot.paramMap.get("id");this.editForm.value.trending=this.trending2,this.data.updateProduct(this.editForm.value,r,this.editForm.value.img).then(()=>{alert("\u10ec\u10d0\u10e0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7 \u10d2\u10d0\u10dc\u10d0\u10ee\u10da\u10d3\u10d0 \u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d8"),this.router.navigate(["/products-list"])}).catch(i=>{alert(i.message)})}}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Jb),c.Y36(Lc),c.Y36(Rp),c.Y36(QI),c.Y36(Ku),c.Y36(Ci))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-edit-product"]],decls:82,vars:21,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9","crossorigin","anonymous"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],[1,"sidebar-navigation"],["routerLink","/products-list",1,"active"],[1,"bi","bi-basket"],[1,"tooltip"],["routerLink","/add-product"],[1,"bi","bi-file-earmark-diff"],["routerLink","/admin-page",4,"ngIf"],[3,"click",4,"ngIf"],["classs","container"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"d-flex"],[1,"align-self-center","flex-grow-1"],["class","align-self-center text-right",4,"ngIf"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"img-thumbnail","img-fluid",3,"src"],[1,"col-md-8"],[1,"form-group","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-5"],["type","text","formControlName","id","readonly","",1,"form-control-plaintext",3,"value"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-7"],["type","text","id","name","formControlName","name",1,"form-control",3,"value"],["for","category",1,"col-sm-3","col-form-label"],["type","text","id","manufacturer_id","formControlName","categorie",1,"form-control",3,"value"],["for","manufacturer_id",1,"col-sm-3","col-form-label"],["type","text","id","manufacturer_id","formControlName","code",1,"form-control",3,"value"],["type","checkbox","formControlName","maragi","id","btncheck1","name","maragi","autocomplete","off",1,"btn-check",3,"value","change"],["for","btncheck1",1,"btn","btn-outline-primary"],["type","checkbox","formControlName","trending","id","btncheck2","name","trending","autocomplete","off",1,"btn-check",3,"value","change"],["for","btncheck2",1,"btn","btn-outline-primary"],["for","description",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["id","description","formControlName","description","ngDefaultControl","",1,"form-control",3,"value"],["type","file","accept","image/png, image/gif, image/jpeg","name","",1,"form-control",3,"change"],[1,"col-md-12"],["for","attr_2",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","attr_2","formControlName","color",1,"form-control",3,"value"],["for","attr_3",1,"col-sm-2","col-form-label"],["type","text","id","attr_3","formControlName","price",1,"form-control",3,"value"],["routerLink","/admin-page"],[1,"bi","bi-box-arrow-in-right"],[3,"click"],[1,"bi","bi-box-arrow-left"],[1,"align-self-center","text-right"],["routerLink","/products-list",1,"btn","btn-danger"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-save"]],template:function(r,i){1&r&&(c._UZ(0,"link",0)(1,"link",1)(2,"link",2),c.TgZ(3,"nav",3)(4,"ul")(5,"li",4),c._UZ(6,"i",5),c.TgZ(7,"span",6),c._uU(8,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d0"),c.qZA()(),c.TgZ(9,"li",7),c._UZ(10,"i",8),c.TgZ(11,"span",6),c._uU(12,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d8\u10e1 \u10d3\u10d0\u10db\u10d0\u10e2\u10d4\u10d1\u10d0"),c.qZA()(),c.YNc(13,m7,4,0,"li",9),c.ALo(14,"async"),c.YNc(15,_7,4,0,"li",10),c.ALo(16,"async"),c.qZA()(),c.TgZ(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17),c._uU(24),c.qZA(),c.YNc(25,v7,6,0,"div",18),c.ALo(26,"async"),c.qZA()(),c.TgZ(27,"div",19)(28,"form",20)(29,"div",21)(30,"div",22),c._UZ(31,"img",23),c.qZA(),c.TgZ(32,"div",24)(33,"div",25)(34,"label",26),c._uU(35,"ID"),c.qZA(),c.TgZ(36,"div",27),c._UZ(37,"input",28),c.qZA()(),c.TgZ(38,"div",25)(39,"label",29),c._uU(40,"\u10e1\u10d0\u10ee\u10d4\u10da\u10d8"),c.qZA(),c.TgZ(41,"div",30),c._UZ(42,"input",31),c.qZA()(),c.TgZ(43,"div",25)(44,"label",32),c._uU(45,"\u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d4\u10d1\u10d8"),c.qZA(),c.TgZ(46,"div",27),c._UZ(47,"input",33),c.qZA()(),c.TgZ(48,"div",25)(49,"label",34),c._uU(50,"\u10ec\u10d0\u10e0\u10db\u10dd\u10d4\u10d1\u10d8\u10e1 \u10d9\u10dd\u10d3\u10d8"),c.qZA(),c.TgZ(51,"div",27),c._UZ(52,"input",35),c.qZA()(),c.TgZ(53,"div",27)(54,"input",36),c.NdJ("change",function(l){return i.maragiCheckbox(l)}),c.qZA(),c.TgZ(55,"label",37),c._uU(56,"\u10db\u10d0\u10e0\u10d0\u10d2\u10e8\u10d8\u10d0"),c.qZA()(),c.TgZ(57,"div",27)(58,"input",38),c.NdJ("change",function(l){return i.trendingCheckbox(l)}),c.qZA(),c.TgZ(59,"label",39),c._uU(60,"\u10e7\u10d5\u10d4\u10da\u10d0\u10d6\u10d4 \u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8"),c.qZA()(),c.TgZ(61,"div",25)(62,"label",40),c._uU(63,"\u10d0\u10e6\u10ec\u10d4\u10e0\u10d0"),c.qZA(),c.TgZ(64,"div",41),c._UZ(65,"textarea",42),c.qZA(),c.TgZ(66,"input",43),c.NdJ("change",function(l){return i.choosefile(l)}),c.qZA()()()(),c.TgZ(67,"h4"),c._uU(68,"Attributes"),c.qZA(),c._UZ(69,"hr"),c.TgZ(70,"div",21)(71,"div",44)(72,"div",25)(73,"label",45),c._uU(74,"\u10e4\u10d4\u10e0\u10d8"),c.qZA(),c.TgZ(75,"div",46),c._UZ(76,"input",47),c.qZA()(),c.TgZ(77,"div",25)(78,"label",48),c._uU(79,"\u10e6\u10d8\u10e0\u10d4\u10d1\u10e3\u10da\u10d4\u10d1\u10d0"),c.qZA(),c.TgZ(80,"div",46),c._UZ(81,"input",49),c.qZA()()()()()()()()()()),2&r&&(c.xp6(13),c.Q6J("ngIf",!c.lcZ(14,15,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(16,17,i.afAuth.user)),c.xp6(9),c.hij("\u10e8\u10d4\u10ea\u10d5\u10d0\u10da\u10d4\u10d7 \u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d8\u10e1 \u10d3\u10d4\u10e2\u10d0\u10da\u10d4\u10d1\u10d8 | ",i.productref.name,""),c.xp6(1),c.Q6J("ngIf",c.lcZ(26,19,i.afAuth.user)),c.xp6(3),c.Q6J("formGroup",i.editForm),c.xp6(3),c.s9C("src",i.productref.img,c.LSH),c.xp6(6),c.s9C("value",i.productref.id),c.xp6(5),c.s9C("value",i.productref.name),c.xp6(5),c.s9C("value",i.productref.categorie),c.xp6(5),c.s9C("value",i.productref.code),c.xp6(2),c.s9C("value",i.productref.maragi),c.xp6(4),c.s9C("value",i.productref.trending),c.xp6(7),c.s9C("value",i.productref.description),c.xp6(11),c.s9C("value",i.productref.color),c.xp6(5),c.s9C("value",i.productref.price))},dependencies:[Za,Ri,dc,fo,rf,jg,lc,Cf,Yg,xo],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;font-family:Lato,sans-serif;line-height:1}body[_ngcontent-%COMP%]{background-color:#f5f6f8;overflow:hidden}.sidebar-navigation[_ngcontent-%COMP%]{display:inline-block;min-height:100vh;width:80px;background-color:#313443;float:left}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center!important;padding-left:0!important;color:#fff}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:28px 0;cursor:pointer;transition:all ease-out .12s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:24px;transition:all ease .45s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:inline-block;position:absolute;background-color:#313443;padding:8px 15px;border-radius:3px;margin-top:-26px;left:90px;opacity:0;visibility:hidden;font-size:13px;letter-spacing:.5px}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-4px;top:10px;transform:rotate(45deg);width:10px;height:10px;background-color:inherit}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#98d7ec}']}),e})(),y7=(()=>{var t;class e{transform(r,i){return r?i?(i=i.toLowerCase(),r.filter(a=>JSON.stringify(a.code).toLocaleLowerCase().includes(i))):r:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=c.Yjl({name:"search",type:t,pure:!0}),e})();function E7(t,e){1&t&&(c.TgZ(0,"li",21),c._UZ(1,"i",22),c.TgZ(2,"span",6),c._uU(3,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d8\u10e1 \u10d3\u10d0\u10db\u10d0\u10e2\u10d4\u10d1\u10d0"),c.qZA()())}function C7(t,e){1&t&&(c.TgZ(0,"li"),c._UZ(1,"i",23),c.TgZ(2,"span",6),c._uU(3,"\u10e8\u10d4\u10e1\u10d5\u10da\u10d0"),c.qZA()())}function w7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"li",24),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.LogOut())}),c._UZ(1,"i",25),c.TgZ(2,"span",6),c._uU(3,"\u10d2\u10d0\u10db\u10dd\u10e1\u10d5\u10da\u10d0"),c.qZA()()}}function b7(t,e){1&t&&(c.TgZ(0,"span",31),c._uU(1,"\u10db\u10d0\u10e0\u10d0\u10d2\u10e8\u10d8\u10d0"),c.qZA())}function D7(t,e){1&t&&(c.TgZ(0,"span",31),c._uU(1,"\u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1 \u10db\u10d0\u10e0\u10d0\u10d2\u10e8\u10d8"),c.qZA())}function I7(t,e){1&t&&(c.TgZ(0,"span",31),c._uU(1,"\u10e7\u10d5\u10d4\u10da\u10d0\u10d6\u10d4 \u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8\u10d0"),c.qZA())}function T7(t,e){1&t&&(c.TgZ(0,"span",31),c._uU(1,"\u10d0\u10e0 \u10d0\u10e0\u10d8\u10e1 \u10e7\u10d5\u10d4\u10da\u10d0\u10d6\u10d4 \u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8"),c.qZA())}function A7(t,e){if(1&t&&(c.TgZ(0,"a",32)(1,"span",33),c._UZ(2,"i",34)(3,"i",35),c.qZA()()),2&t){const n=c.oxw().$implicit;c.MGl("routerLink","/edit-products/",n.id,"")}}function S7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"a",36),c.NdJ("click",function(){c.CHM(n);const i=c.oxw().$implicit,a=c.oxw();return c.KtG(a.deleteProducts(i))}),c.TgZ(1,"span",33),c._UZ(2,"i",34)(3,"i",37),c.qZA()()}}function x7(t,e){if(1&t&&(c.TgZ(0,"tr")(1,"td"),c._UZ(2,"img",26),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.TgZ(6,"td",19),c.YNc(7,b7,2,0,"span",27),c.YNc(8,D7,2,0,"span",27),c.qZA(),c.TgZ(9,"td",19),c.YNc(10,I7,2,0,"span",27),c.YNc(11,T7,2,0,"span",27),c.qZA(),c.TgZ(12,"td"),c._uU(13),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.qZA(),c.TgZ(16,"td",28),c.YNc(17,A7,4,1,"a",29),c.ALo(18,"async"),c.YNc(19,S7,4,0,"a",30),c.ALo(20,"async"),c.qZA()()),2&t){const n=e.$implicit,r=c.oxw();c.xp6(2),c.s9C("src",n.img,c.LSH),c.xp6(1),c.hij(" ",n.name," "),c.xp6(2),c.hij("#",n.code,""),c.xp6(2),c.Q6J("ngIf",1==n.maragi),c.xp6(1),c.Q6J("ngIf",0==n.maragi),c.xp6(2),c.Q6J("ngIf",1==n.trending),c.xp6(1),c.Q6J("ngIf",0==n.trending),c.xp6(2),c.hij("",n.categorie," "),c.xp6(2),c.hij("",n.price,"\u20be"),c.xp6(2),c.Q6J("ngIf",c.lcZ(18,11,r.afAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(20,13,r.afAuth.user))}}let Nj=(()=>{var t;class e{constructor(r,i,a){this.auth=r,this.data=i,this.afAuth=a,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price="",this.maragi=!1,this.trending=!1,this.searchtext=""}ngOnInit(){this.getAllProducts()}LogOut(){this.auth.logout()}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a})},r=>{alert("Error while fetching products data")})}deleteProducts(r){window.confirm("\u10d3\u10d0\u10e0\u10ec\u10db\u10e3\u10dc\u10d4\u10d1\u10e3\u10da\u10d8 \u10ee\u10d0\u10e0\u10d7 \u10e0\u10dd\u10db \u10d2\u10d8\u10dc\u10d3\u10d0\u10d7 \u10ec\u10d0\u10e8\u10d0\u10da\u10dd\u10d7 \u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d8 "+r.name+" ")&&this.data.deleteProduct(r),r.img&&m_.storage().refFromURL(r.img).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Jb),c.Y36(Rp),c.Y36(Lc))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-list"]],decls:51,vars:14,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9","crossorigin","anonymous"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],[1,"sidebar-navigation"],["routerLink","/products-list",1,"active"],[1,"bi","bi-basket"],[1,"tooltip"],["routerLink","/add-product",4,"ngIf"],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"container"],[1,"row"],["for","search"],["id","search","name","search","type","search","pattern",".*\\S.*","required","","placeholder","\u10db\u10dd\u10eb\u10d4\u10d1\u10dc\u10d4\u10d7 \u10d2\u10d0\u10db\u10dd\u10e8\u10d5\u10d4\u10d1\u10d8\u10e1 \u10d9\u10dd\u10d3\u10d8\u10d7 ",3,"ngModel","ngModelChange"],[1,"caret"],[1,"col-lg-12"],[1,"main-box","clearfix"],[1,"table-responsive"],[1,"table","user-list"],[1,"text-center"],[4,"ngFor","ngForOf"],["routerLink","/add-product"],[1,"bi","bi-file-earmark-diff"],["routerLink","/admin-page",1,"bi","bi-box-arrow-in-right"],[3,"click"],[1,"bi","bi-box-arrow-left"],["alt","",3,"src"],["class","label label-default",4,"ngIf"],[2,"width","20%"],["class","table-link",3,"routerLink",4,"ngIf"],["class","table-link danger",3,"click",4,"ngIf"],[1,"label","label-default"],[1,"table-link",3,"routerLink"],[1,"fa-stack"],[1,"fa","fa-square","fa-stack-2x"],[1,"fa","fa-pencil","fa-stack-1x","fa-inverse"],[1,"table-link","danger",3,"click"],[1,"fa","fa-trash-o","fa-stack-1x","fa-inverse"]],template:function(r,i){1&r&&(c._UZ(0,"link",0)(1,"link",1)(2,"link",2),c.TgZ(3,"nav",3)(4,"ul")(5,"li",4),c._UZ(6,"i",5),c.TgZ(7,"span",6),c._uU(8,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d0"),c.qZA()(),c.YNc(9,E7,4,0,"li",7),c.ALo(10,"async"),c.YNc(11,C7,4,0,"li",8),c.ALo(12,"async"),c.YNc(13,w7,4,0,"li",9),c.ALo(14,"async"),c.qZA()(),c.TgZ(15,"div",10)(16,"div",11)(17,"form")(18,"label",12),c._uU(19,"Search"),c.qZA(),c.TgZ(20,"input",13),c.NdJ("ngModelChange",function(l){return i.searchtext=l}),c.qZA(),c._UZ(21,"span",14),c.qZA(),c.TgZ(22,"div",15)(23,"div",16)(24,"div",17)(25,"table",18)(26,"thead")(27,"tr")(28,"th")(29,"span"),c._uU(30,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d0"),c.qZA()(),c.TgZ(31,"th")(32,"span"),c._uU(33,"\u10d9\u10dd\u10d3\u10d8"),c.qZA()(),c.TgZ(34,"th",19)(35,"span"),c._uU(36,"\u10db\u10d0\u10e0\u10d0\u10d2\u10e8\u10d8 \u10d0\u10e0\u10d8\u10e1"),c.qZA()(),c.TgZ(37,"th",19)(38,"span"),c._uU(39,"\u10e7\u10d5\u10d4\u10da\u10d0\u10d6\u10d4 \u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8\u10d0"),c.qZA()(),c.TgZ(40,"th")(41,"span"),c._uU(42,"\u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d0"),c.qZA()(),c.TgZ(43,"th")(44,"span"),c._uU(45,"\u10e4\u10d0\u10e1\u10d8"),c.qZA()(),c.TgZ(46,"th"),c._uU(47,"\xa0"),c.qZA()()(),c.TgZ(48,"tbody"),c.YNc(49,x7,21,15,"tr",20),c.ALo(50,"search"),c.qZA()()()()()()()),2&r&&(c.xp6(9),c.Q6J("ngIf",c.lcZ(10,5,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(12,7,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(14,9,i.afAuth.user)),c.xp6(7),c.Q6J("ngModel",i.searchtext),c.xp6(29),c.Q6J("ngForOf",c.xi3(50,11,i.productList,i.searchtext)))},dependencies:[Un,Za,Ri,dc,fo,jg,lc,Xg,Jg,Ef,cc,xo,y7],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;font-family:Lato,sans-serif;line-height:1}body[_ngcontent-%COMP%]{background-color:#f5f6f8;overflow:hidden}.sidebar-navigation[_ngcontent-%COMP%]{display:inline-block;height:100%!important;width:80px;background-color:#313443;float:left}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center!important;padding-left:0!important;color:#fff}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:28px 0;cursor:pointer;transition:all ease-out .12s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:24px;transition:all ease .45s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:inline-block;position:absolute;background-color:#313443;padding:8px 15px;border-radius:3px;margin-top:-26px;left:90px;opacity:0;visibility:hidden;font-size:13px;letter-spacing:.5px}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-4px;top:10px;transform:rotate(45deg);width:10px;height:10px;background-color:inherit}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#98d7ec}form[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .caret[_ngcontent-%COMP%]{margin:auto}form[_ngcontent-%COMP%]{position:relative;width:100%;max-width:17em}input[_ngcontent-%COMP%], .caret[_ngcontent-%COMP%]{display:block;transition:all calc(var(--dur) * .5) linear}input[_ngcontent-%COMP%]{background:transparent;border-radius:50%;box-shadow:0 0 0 .25em inset;caret-color:var(--primary);width:2em;height:2em;-webkit-appearance:none;appearance:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:valid{background:var(--input);border-radius:.25em;box-shadow:none;padding:.75em 1em;transition-duration:calc(var(--dur) * .25);transition-delay:calc(var(--dur) * .25);width:100%;height:3em}input[_ngcontent-%COMP%]:focus{animation:_ngcontent-%COMP%_showCaret var(--dur) steps(1);outline:transparent}input[_ngcontent-%COMP%]:focus + .caret[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:valid + .caret[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_handleToCaret var(--dur) linear;background:transparent;width:1px;height:1.5em;transform:translateY(-1em) rotate(-180deg) translate(7.5em,-.25em)}input[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}label[_ngcontent-%COMP%]{color:#e3e4e8;overflow:hidden;position:absolute;width:0;height:0}.caret[_ngcontent-%COMP%]{background:currentColor;border-radius:0 0 .125em .125em;margin-bottom:-.6em;width:.25em;height:1em;transform:translateY(-1em) rotate(-45deg) translateY(.875em);transform-origin:50% 0}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--bg: #17181c;--fg: #e3e4e8;--input: #2e3138;--primary: #5583f6}}@keyframes _ngcontent-%COMP%_showCaret{0%{caret-color:transparent}to{caret-color:var(--primary)}}@keyframes _ngcontent-%COMP%_handleToCaret{0%{background:currentColor;width:.25em;height:1em;transform:translateY(-1em) rotate(-45deg) translateY(.875em)}25%{background:currentColor;width:.25em;height:1em;transform:translateY(-1em) rotate(-180deg) translateY(.875em)}50%,62.5%{background:var(--primary);width:1px;height:1.5em;transform:translateY(-1em) rotate(-180deg) translate(7.5em,2.5em)}75%,99%{background:var(--primary);width:1px;height:1.5em;transform:translateY(-1em) rotate(-180deg) translate(7.5em,-.25em)}87.5%{background:var(--primary);width:1px;height:1.5em;transform:translateY(-1em) rotate(-180deg) translate(7.5em,.125em)}to{background:transparent;width:1px;height:1.5em;transform:translateY(-1em) rotate(-180deg) translate(7.5em,-.25em)}}','\n\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]    > img[_ngcontent-%COMP%] {\n  position: relative;\n  max-width: 50px;\n  float: left;\n  margin-right: 15px;\n}\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 1.25em;\n  padding-top: 3px;\n  margin-left: 60px;\n}\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .user-subhead[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  font-style: italic;\n}\n\n\n\n.table[_ngcontent-%COMP%] {\n  border-collapse: separate;\n}\n.table-hover[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > th[_ngcontent-%COMP%] {\n  background-color: #eee;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #C2C2C2;\n  padding-bottom: 0;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  background: #f5f5f5;\n  border-top: 10px solid #fff;\n  vertical-align: middle;\n  padding: 12px 8px;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]:first-child {\n  padding-left: 20px;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  border-bottom: 2px solid #C2C2C2;\n  display: inline-block;\n  padding: 0 5px;\n  padding-bottom: 5px;\n  font-weight: normal;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  color: #344644;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0dc";\n  font-family: FontAwesome;\n  font-style: normal;\n  font-weight: normal;\n  text-decoration: inherit;\n  margin-left: 5px;\n  font-size: 0.75em;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a.asc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0dd";\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a.desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0de";\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%] {\n  text-decoration: none;\n  color: #2bb6a3;\n  border-color: #2bb6a3;\n}\n.table.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  -webkit-transition: background-color 0.15s ease-in-out 0s;\n  transition: background-color 0.15s ease-in-out 0s;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .call-type[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 0.75em;\n  text-align: center;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%] {\n  line-height: 1.5;\n  font-weight: 400;\n  font-size: 1.125em;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  color: #969696;\n  font-weight: 300;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  line-height: 1.2;\n}\n.table[_ngcontent-%COMP%]   a.table-link[_ngcontent-%COMP%] {\n  margin: 0 5px;\n  font-size: 1.125em;\n}\n.table[_ngcontent-%COMP%]   a.table-link[_ngcontent-%COMP%]:hover {\n  text-decoration: none;\n  color: #2aa493;\n}\n.table[_ngcontent-%COMP%]   a.table-link.danger[_ngcontent-%COMP%] {\n  color: #fe635f;\n}\n.table[_ngcontent-%COMP%]   a.table-link.danger[_ngcontent-%COMP%]:hover {\n  color: #dd504c;\n}\n\n.table-products[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background: none;\n  border: none;\n  border-bottom: 1px solid #ebebeb;\n  -webkit-transition: background-color 0.15s ease-in-out 0s;\n  transition: background-color 0.15s ease-in-out 0s;\n  position: relative;\n}\n.table-products[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > td[_ngcontent-%COMP%] {\n  text-decoration: none;\n  background-color: #f6f6f6;\n}\n.table-products[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n  display: block;\n  font-weight: 600;\n  padding-bottom: 7px;\n}\n.table-products[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\n  display: block;\n  text-decoration: none;\n  width: 50%;\n  float: left;\n  font-size: 0.875em;\n}\n.table-products[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]    > i[_ngcontent-%COMP%] {\n  color: #8dc859;\n}\n.table-products[_ngcontent-%COMP%]   .warranty[_ngcontent-%COMP%] {\n  display: block;\n  text-decoration: none;\n  width: 50%;\n  float: left;\n  font-size: 0.875em;\n}\n.table-products[_ngcontent-%COMP%]   .warranty[_ngcontent-%COMP%]    > i[_ngcontent-%COMP%] {\n  color: #f1c40f;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-fb[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #9daccb;\n  color: #262525;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-twitter[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #9fccff;\n  color: #262525;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-plus[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #eea59c;\n  color: #262525;\n}\n.table-stats[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  font-size: 1.9em;\n  vertical-align: bottom;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-fb[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #556484;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-twitter[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #5885b8;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-plus[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #a75d54;\n}']}),e})();const lF={firebase:{projectId:"penoplasti2",appId:"1:596606620260:web:e48cd6da07a018e5c40571",storageBucket:"penoplasti2.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAT0ZHOwfflIztvesr_SZX0hmm9GYqSBG4",authDomain:"penoplasti2.firebaseapp.com",messagingSenderId:"596606620260",measurementId:"G-LG8WT4ZW74"}};function M7(t,e){1&t&&(c.TgZ(0,"li",48),c._UZ(1,"i",49),c.TgZ(2,"span",6),c._uU(3,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d8\u10e1 \u10d3\u10d0\u10db\u10d0\u10e2\u10d4\u10d1\u10d0 "),c.qZA()())}function P7(t,e){1&t&&(c.TgZ(0,"li",50),c._UZ(1,"i",51),c.TgZ(2,"span",6),c._uU(3,"\u10e8\u10d4\u10e1\u10d5\u10da\u10d0"),c.qZA()())}function O7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"li",52),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.LogOut())}),c._UZ(1,"i",53),c.TgZ(2,"span",6),c._uU(3,"\u10d2\u10d0\u10db\u10dd\u10e1\u10d5\u10da\u10d0"),c.qZA()()}}function N7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"div",54)(1,"a",55),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.addData())}),c._UZ(2,"i",56),c._uU(3," \u10e8\u10d4\u10d8\u10dc\u10d0\u10ee\u10d4\u10d7"),c.qZA()()}}m_.initializeApp(lF.firebase);let Rj=(()=>{var t;class e{constructor(r,i,a,l){this.auth=r,this.afAuth=i,this.data=a,this.formbuilder=l,this.selectedFile={},this.uploadedImagePath=null,this.productList=[],this.productobj={id:"",categorie:"",code:"",color:"",description:"",img:"",name:"",price:"",maragi:!1,trending:!1},this.url="",this.img="",this.editForm=this.formbuilder.group({id:[""],name:[""],categorie:[""],code:[""],description:[""],color:[""],price:[""],img:[""],maragi:!1,trending:!1})}ngOnInit(){""==this.url&&(this.url="https://via.placeholder.com/250")}LogOut(){this.auth.logout()}resetform(){this.editForm.value.id="",this.editForm.value.categorie="",this.editForm.value.code="",this.editForm.value.color="",this.editForm.value.description="",this.editForm.value.img="",this.editForm.value.name="",this.editForm.value.price="",this.editForm.value.maragi=!1,this.editForm.value.trending=!1}addProduct(r){""==this.editForm.value.categorie||""==this.editForm.value.code||""==this.editForm.value.color||""==this.editForm.value.description||""==this.editForm.value.name||""==this.editForm.value.price||""==this.selectedFile?alert("\u10d2\u10d7\u10ee\u10dd\u10d5\u10d7 \u10e8\u10d4\u10d0\u10d5\u10e1\u10dd\u10d7 \u10e7\u10d5\u10d4\u10da\u10d0 \u10d5\u10d4\u10da\u10d8"):(this.productobj.id="",this.productobj.categorie=this.editForm.value.categorie,this.productobj.code=this.editForm.value.code,this.productobj.color=this.editForm.value.color,this.productobj.description=this.editForm.value.description,this.productobj.maragi=this.editForm.value.maragi,this.productobj.name=this.editForm.value.name,this.productobj.price=this.editForm.value.price,this.productobj.img=r,this.productobj.trending=this.editForm.value.trending,this.data.addProduct(this.productobj).then(()=>{alert("\u10ec\u10d0\u10e0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7 \u10d0\u10d8\u10e2\u10d5\u10d8\u10e0\u10d7\u10d0")},i=>{alert(i.message)}))}choosefile(r){""==this.url&&(this.url="https://via.placeholder.com/250");let i=new FileReader;r.target.files&&r.target.files.length>0&&(this.selectedFile=r.target.files[0],i.readAsDataURL(this.selectedFile),i.onload=()=>{this.url=i.result})}maragiCheckbox(r){this.editForm.value.maragi=r.target.checked}trendingCheckbox(r){this.editForm.value.trending=r.target.checked}addData(){var r=this;return(0,be.Z)(function*(){if(!r.selectedFile)return;const i=m_.storage().ref(),a=`images/${Date.now()}_${r.selectedFile.name}`,l=i.child(a);try{yield l.put(r.selectedFile),r.uploadedImagePath=yield l.getDownloadURL(),r.addProduct(r.uploadedImagePath)}catch(f){console.error("Error uploading image:",f)}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Jb),c.Y36(Lc),c.Y36(Rp),c.Y36(QI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-add-product"]],decls:76,vars:14,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9","crossorigin","anonymous"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],[1,"sidebar-navigation"],["routerLink","/products-list"],[1,"bi","bi-basket"],[1,"tooltip"],["routerLink","/add-product","class","active",4,"ngIf"],["routerLink","/admin-page",4,"ngIf"],[3,"click",4,"ngIf"],["classs","container"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"d-flex"],[1,"align-self-center","flex-grow-1"],["class","align-self-center text-right",4,"ngIf"],[1,"card-body"],["method","POST",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"img-thumbnail","img-fluid",3,"src"],[1,"col-md-8"],[1,"form-group","row"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-7"],["type","text","id","name","name","name","formControlName","name",1,"form-control"],["for","category",1,"col-sm-3","col-form-label"],[1,"col-sm-5"],["type","text","name","categorie","id","manufacturer_id","formControlName","categorie",1,"form-control"],["for","manufacturer_id",1,"col-sm-3","col-form-label"],["type","text","name","code","id","manufacturer_id","formControlName","code",1,"form-control"],["type","checkbox","formControlName","maragi","id","btncheck1","name","maragi","autocomplete","off","formControlName","maragi",1,"btn-check",3,"change"],["for","btncheck1",1,"btn","btn-outline-primary"],["type","checkbox","formControlName","trending","id","btncheck2","name","trending","autocomplete","off","formControlName","trending",1,"btn-check",3,"change"],["for","btncheck2",1,"btn","btn-outline-primary"],["for","description",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["name","description","ngDefaultControl","","id","description","formControlName","description",1,"form-control"],["type","file","accept","image/png, image/gif, image/jpeg","name","img",1,"form-control",3,"change"],["fileUpload",""],[1,"col-md-12"],["for","attr_2",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","attr_2","value","","name","color","formControlName","color",1,"form-control"],["for","attr_3",1,"col-sm-2","col-form-label"],["type","number","min","0.00","max","10000.00","step","0.01","name","price","id","attr_3","value","","formControlName","price",1,"form-control"],["routerLink","/add-product",1,"active"],[1,"bi","bi-file-earmark-diff"],["routerLink","/admin-page"],[1,"bi","bi-box-arrow-in-right"],[3,"click"],[1,"bi","bi-box-arrow-left"],[1,"align-self-center","text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-save"]],template:function(r,i){1&r&&(c._UZ(0,"link",0)(1,"link",1)(2,"link",2),c.TgZ(3,"nav",3)(4,"ul")(5,"li",4),c._UZ(6,"i",5),c.TgZ(7,"span",6),c._uU(8,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d0"),c.qZA()(),c.YNc(9,M7,4,0,"li",7),c.ALo(10,"async"),c.YNc(11,P7,4,0,"li",8),c.ALo(12,"async"),c.YNc(13,O7,4,0,"li",9),c.ALo(14,"async"),c.qZA()(),c.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16),c._uU(22,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10e2\u10d8\u10e1 \u10d0\u10e2\u10d5\u10d8\u10e0\u10d7\u10d5\u10d0 "),c.qZA(),c.YNc(23,N7,4,0,"div",17),c.ALo(24,"async"),c.qZA()(),c.TgZ(25,"div",18)(26,"form",19)(27,"div",20)(28,"div",21),c._UZ(29,"img",22),c.qZA(),c.TgZ(30,"div",23)(31,"div",24)(32,"label",25),c._uU(33,"\u10e1\u10d0\u10ee\u10d4\u10da\u10d8"),c.qZA(),c.TgZ(34,"div",26),c._UZ(35,"input",27),c.qZA()(),c.TgZ(36,"div",24)(37,"label",28),c._uU(38,"\u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d4\u10d1\u10d8"),c.qZA(),c.TgZ(39,"div",29),c._UZ(40,"input",30),c.qZA()(),c.TgZ(41,"div",24)(42,"label",31),c._uU(43,"\u10ec\u10d0\u10e0\u10db\u10dd\u10d4\u10d1\u10d8\u10e1 \u10d9\u10dd\u10d3\u10d8"),c.qZA(),c.TgZ(44,"div",29),c._UZ(45,"input",32),c.qZA(),c.TgZ(46,"div",29)(47,"input",33),c.NdJ("change",function(l){return i.maragiCheckbox(l)}),c.qZA(),c.TgZ(48,"label",34),c._uU(49,"\u10db\u10d0\u10e0\u10d0\u10d2\u10e8\u10d8\u10d0"),c.qZA()()(),c.TgZ(50,"div",29)(51,"input",35),c.NdJ("change",function(l){return i.trendingCheckbox(l)}),c.qZA(),c.TgZ(52,"label",36),c._uU(53,"\u10e7\u10d5\u10d4\u10da\u10d0\u10d6\u10d4 \u10d2\u10d0\u10e7\u10d8\u10d3\u10d5\u10d0\u10d3\u10d8"),c.qZA()(),c.TgZ(54,"div",24)(55,"label",37),c._uU(56,"\u10d0\u10e6\u10ec\u10d4\u10e0\u10d0"),c.qZA(),c.TgZ(57,"div",38),c._UZ(58,"textarea",39),c.qZA(),c.TgZ(59,"input",40,41),c.NdJ("change",function(l){return i.choosefile(l)}),c.qZA()()()(),c.TgZ(61,"h4"),c._uU(62,"Attributes"),c.qZA(),c._UZ(63,"hr"),c.TgZ(64,"div",20)(65,"div",42)(66,"div",24)(67,"label",43),c._uU(68,"\u10e4\u10d4\u10e0\u10d8"),c.qZA(),c.TgZ(69,"div",44),c._UZ(70,"input",45),c.qZA()(),c.TgZ(71,"div",24)(72,"label",46),c._uU(73,"\u10e6\u10d8\u10e0\u10d4\u10d1\u10e3\u10da\u10d4\u10d1\u10d0"),c.qZA(),c.TgZ(74,"div",44),c._UZ(75,"input",47),c.qZA()()()()()()()()()()),2&r&&(c.xp6(9),c.Q6J("ngIf",c.lcZ(10,6,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(12,8,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(14,10,i.afAuth.user)),c.xp6(10),c.Q6J("ngIf",c.lcZ(24,12,i.afAuth.user)),c.xp6(3),c.Q6J("formGroup",i.editForm),c.xp6(3),c.s9C("src",i.url,c.LSH))},dependencies:[Za,Ri,dc,fo,$E,rf,jg,lc,GE,qE,Cf,Yg,xo],styles:["*[_ngcontent-%COMP%] {\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n\tfont-family: 'Lato', sans-serif;\n\tline-height: 1;\n}\nbody[_ngcontent-%COMP%] {\n\tbackground-color: #F5F6F8;\n\toverflow: hidden;\n}\n.sidebar-navigation[_ngcontent-%COMP%] {\n\tdisplay: inline-block;\n\tmin-height: 100vh;\n\twidth: 80px;\n\tbackground-color: #313443;\n\tfloat: left;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n\ttext-align: center !important;\n\tpadding-left: 0 !important;\n\tcolor: white;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n\tpadding: 28px 0;\n\tcursor: pointer;\n\ttransition: all ease-out 120ms;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n\tdisplay: block;\n\tfont-size: 24px;\n\ttransition: all ease 450ms;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%] {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tbackground-color: #313443;\n\tpadding: 8px 15px;\n\tborder-radius: 3px;\n\tmargin-top: -26px;\n\tleft: 90px;\n\topacity: 0;\n\tvisibility: hidden;\n\tfont-size: 13px;\n\tletter-spacing: .5px;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:before {\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n\tleft: -4px;\n\ttop: 10px;\n\ttransform: rotate(45deg);\n\twidth: 10px;\n\theight: 10px;\n\tbackground-color: inherit;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\n\tbackground-color: #22252E;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%] {\n\tvisibility: visible;\n\topacity: 1;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] {\n\tbackground-color: #22252E;\n}\n.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n\tcolor: #98D7EC;\n}"]}),e})(),kj=(()=>{var t;class e{constructor(r,i,a){this.data=r,this.afAuth=i,this.act=a,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price="",this.maragi=!1}ngOnInit(){const r=this.act.snapshot.paramMap.get("id");this.data.getProductDoc(r).subscribe(i=>{this.productref=i})}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a})},r=>{alert("\u10d1\u10d0\u10d6\u10d8\u10d3\u10d0\u10dc \u10d8\u10dc\u10e4\u10dd\u10e0\u10db\u10d0\u10ea\u10d8\u10d8\u10e1 \u10ec\u10d0\u10db\u10dd\u10e6\u10d4\u10d1\u10d8\u10e1\u10d0\u10e1 \u10db\u10dd\u10ee\u10d3\u10d0 \u10e8\u10d4\u10ea\u10d3\u10dd\u10db\u10d0")})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Rp),c.Y36(Lc),c.Y36(Ku))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-productsinglepage"]],decls:54,vars:5,consts:[[1,"breadcrumbs"],[1,"container"],[1,"row"],[1,"col-12"],[1,"bread-inner"],[1,"bread-list"],["href","#"],[1,"ti-arrow-right"],[1,"active"],[1,"shop","single","section"],[1,"col-lg-6","col-12"],[1,"product-gallery"],[1,"flexslider-thumbnails"],[1,"slides"],["data-thumb","https://via.placeholder.com/570x520","rel","adjustX:10, adjustY:"],["alt","#",3,"src"],[1,"product-des"],[1,"short"],[1,"rating-main"],[1,"rating"],[1,"fa","fa-star"],[1,"price"],[1,"discount"],[1,"description"],[1,"product-info"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),c._uU(9,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c._UZ(10,"i",7),c.qZA()(),c.TgZ(11,"li")(12,"a",8),c._uU(13),c.qZA()()()()()()()(),c.TgZ(14,"section",9)(15,"div",1)(16,"div",2)(17,"div",3)(18,"div",2)(19,"div",10)(20,"div",11)(21,"div",12)(22,"ul",13)(23,"li",14),c._UZ(24,"img",15),c.qZA()()()()(),c.TgZ(25,"div",10)(26,"div",16)(27,"div",17)(28,"h4"),c._uU(29),c.qZA(),c.TgZ(30,"div",18)(31,"ul",19)(32,"li"),c._UZ(33,"i",20),c.qZA(),c.TgZ(34,"li"),c._UZ(35,"i",20),c.qZA(),c.TgZ(36,"li"),c._UZ(37,"i",20),c.qZA(),c.TgZ(38,"li"),c._UZ(39,"i",20),c.qZA(),c.TgZ(40,"li"),c._UZ(41,"i",20),c.qZA()()(),c.TgZ(42,"p",21)(43,"span",22),c._uU(44),c.qZA()(),c.TgZ(45,"p",23),c._uU(46),c.qZA()()()()(),c.TgZ(47,"div",2)(48,"div",3),c._UZ(49,"div",24),c.qZA()()()()()(),c._UZ(50,"app-most-popular")(51,"app-shop-nesletter")(52,"app-modal")(53,"app-footer")),2&r&&(c.xp6(13),c.hij(" ",i.productref.name," "),c.xp6(11),c.s9C("src",i.productref.img,c.LSH),c.xp6(5),c.Oqu(i.productref.name),c.xp6(15),c.hij("",i.productref.price,"\u20be"),c.xp6(2),c.Oqu(i.productref.description))},dependencies:[ho,JS,kp,Yb,Da]}),e})(),Lj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-email-sent-succes"]],decls:16,vars:0,consts:[[1,"mail-success","section","page"],[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-12"],[1,"mail-inner"],[1,"button"],["routerLink","/",1,"btn","primary"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2")(7,"span"),c._uU(8,"\u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10ec\u10d4\u10e0\u10d8\u10da\u10d8 \u10ec\u10d0\u10e0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7"),c.qZA(),c._uU(9," \u10d2\u10d0\u10d8\u10d2\u10d6\u10d0\u10d5\u10dc\u10d0"),c.qZA(),c.TgZ(10,"p"),c._uU(11,"\u10db\u10d0\u10d3\u10da\u10dd\u10d1\u10d0 \u10d7\u10e5\u10d5\u10d4\u10dc\u10d8 \u10ec\u10d4\u10e0\u10d8\u10da\u10d8\u10e1\u10d0\u10d7\u10d5\u10d8\u10e1, \u10e8\u10d4\u10d5\u10d4\u10ea\u10d3\u10d4\u10d1\u10d8\u10d7 \u10db\u10d0\u10da\u10d4 \u10d2\u10d8\u10de\u10d0\u10e1\u10e3\u10ee\u10dd\u10d7"),c.qZA(),c.TgZ(12,"div",5)(13,"a",6),c._uU(14,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d6\u10d4 \u10d3\u10d0\u10d1\u10e0\u10e3\u10dc\u10d4\u10d1\u10d0"),c.qZA()()()()()()(),c._UZ(15,"app-footer"))},dependencies:[Ri,ho,Da]}),e})(),Fj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-special"]],decls:46,vars:0,consts:[[1,"breadcrumbs"],[1,"container"],[1,"row"],[1,"col-12"],[1,"bread-inner"],[1,"bread-list"],["href","#"],[1,"ti-arrow-right"],[1,"active"],["routerLink","/about-us"],[1,"about-us","section"],[1,"col-lg-6","col-12"],[1,"about-content"],[1,"button"],["routerLink","/contact-us",1,"btn","primary"],[1,"about-img"],[1,"image-grid"],[1,"image01"],[1,"image02"],[1,"image03"],[1,"image04"],[1,"image05"],[1,"image06"],[1,"image07"],[1,"image08"],[1,"image09"],[1,"image10"],[1,"image11"],[1,"image12"]],template:function(r,i){1&r&&(c._UZ(0,"app-header-without-categories"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),c._uU(9,"\u10db\u10d7\u10d0\u10d5\u10d0\u10e0\u10d8 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d8"),c._UZ(10,"i",7),c.qZA()(),c.TgZ(11,"li",8)(12,"a",9),c._uU(13,"\u10e1\u10de\u10d4\u10ea \u10e8\u10d4\u10d9\u10d5\u10d4\u10d7\u10d4\u10d1\u10d8"),c.qZA()()()()()()()(),c.TgZ(14,"section",10)(15,"div",1)(16,"div",2)(17,"div",11)(18,"div",12)(19,"h3")(20,"span"),c._uU(21,"\u10e1\u10de\u10d4\u10ea \u10e8\u10d4\u10d9\u10d5\u10d4\u10d7\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(22,"p"),c._uU(23,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis unde sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis unde omnis iste natus error sit voluptatem Excepteu "),c.qZA(),c.TgZ(24,"p"),c._uU(25,"sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspiciatis Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. sed ut perspi deserunt mollit anim id est laborum. sed ut perspi."),c.qZA(),c.TgZ(26,"div",13)(27,"a",14),c._uU(28,"\u10d3\u10d0\u10d5\u10d2\u10d8\u10d9\u10d0\u10d5\u10e8\u10d8\u10e0\u10d3\u10d8\u10d7"),c.qZA()()()(),c.TgZ(29,"div",11)(30,"div",15)(31,"div",16),c._UZ(32,"div",17)(33,"div",18)(34,"div",19)(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"div",27)(43,"div",28),c.qZA()()()()()(),c._UZ(44,"app-shop-nesletter")(45,"app-footer"))},dependencies:[Ri,ho,kp,Da],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%] { padding: 0; margin: 0; }\n.image-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  width: 33.33525%;\n  height: 260px;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center center;\n}\n\n.image-grid[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.image01[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_8.jpg); }\n.image02[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_10.jpg); }\n.image03[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_11.jpg); }\n.image04[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_12.jpg); }\n.image05[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_5.jpg); }\n.image06[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_6.jpg); }\n.image07[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_7.jpg); }\n.image08[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_1.jpg); }\n.image09[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_9.jpg); }\n.image10[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_2.jpg); }\n.image11[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_3.jpg); }\n.image12[_ngcontent-%COMP%] { background-image: url(../../../../assets/images/photo_4.jpg); }\n\n@media screen and (max-width: 400px) {\n  .image-grid[_ngcontent-%COMP%] {\n    flex-direction: column;\n    flex-wrap: no-wrap;\n  }\n  .image-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] { width: 100%; }\n}"]}),e})(),Uj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-errorpage"]],decls:16,vars:0,consts:[[1,"error-page"],[1,"table"],[1,"table-cell"],[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3","col-12"],[1,"error-inner"],[1,"button"],["routerLink","/",1,"btn"]],template:function(r,i){1&r&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),c._uU(8,"404"),c.qZA(),c.TgZ(9,"h5"),c._uU(10,"\u10d2\u10d5\u10d4\u10d3\u10d8 \u10d5\u10d4\u10e0\u10d5\u10d8\u10de\u10dd\u10d5\u10d4\u10d7"),c.qZA(),c.TgZ(11,"p"),c._uU(12,"\u10d2\u10d7\u10ee\u10dd\u10d5\u10d7 \u10e8\u10d4\u10d0\u10db\u10dd\u10ec\u10db\u10dd\u10d7 \u10da\u10d8\u10dc\u10d9\u10d8 "),c.qZA(),c.TgZ(13,"div",7)(14,"a",8),c._uU(15,"\u10d3\u10d0\u10d1\u10e0\u10e3\u10dc\u10d4\u10d1\u10d0 \u10db\u10d7\u10d0\u10d5\u10d0\u10e0 \u10d2\u10d5\u10d4\u10e0\u10d3\u10d6\u10d4"),c.qZA()()()()()()()()())},dependencies:[Ri]}),e})();const R7=[{path:"header",component:Ug},{path:"footer",component:ho},{path:"header-without",component:Da},{path:"hero-slider",component:cw},{path:"",component:w$},{path:"modal",component:Yb},{path:"most-popular",component:JS},{path:"product-area",component:HL},{path:"shop-newsletter",component:kp},{path:"shop-service",component:b$},{path:"products",component:D$},{path:"contact-us",component:YL},{path:"contact-us/:id",component:YL},{path:"about-us",component:j$},{path:"admin-page",component:H$},{path:"single-product/:id",component:kj},{path:"products-list",component:Nj},{path:"mail-succes",component:Lj},{path:"spec",component:Fj},{path:"add-product",component:Rj},{path:"edit-products/:id",component:Oj},{path:"**",component:Uj}];let k7=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[Fg.forRoot(R7),Fg]}),e})(),L7=(()=>{var t;class e{constructor(){this.title="Penoplasti.ge"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&c._UZ(0,"router-outlet")},dependencies:[uE]}),e})(),F7=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-services"]],decls:2,vars:0,template:function(r,i){1&r&&c._UZ(0,"app-header-without-categories")(1,"app-footer")},dependencies:[ho,Da]}),e})();function U7(t,e){1&t&&(c.TgZ(0,"li",30),c._UZ(1,"i",31),c.TgZ(2,"span",6),c._uU(3,"\u10e8\u10d4\u10e1\u10d5\u10da\u10d0"),c.qZA()())}function V7(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"li",32),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.LogOut())}),c._UZ(1,"i",33),c.TgZ(2,"span",6),c._uU(3,"\u10d2\u10d0\u10db\u10dd\u10e1\u10d5\u10da\u10d0"),c.qZA()()}}let B7=(()=>{var t;class e{constructor(r,i,a){this.auth=r,this.afAuth=i,this.data=a,this.productList=[],this.id="",this.categorie="",this.code="",this.color="",this.description="",this.img="",this.name="",this.price=""}ngOnInit(){this.getAllProducts(),console.log(null!=this.afAuth.user)}LogOut(){this.auth.logout()}getAllProducts(){this.data.getAllProducts().subscribe(r=>{this.productList=r.map(i=>{const a=i.payload.doc.data();return a.id=i.payload.doc.id,a})},r=>{alert("Error while fetching products data")})}}return(t=e).\u0275fac=function(r){return new(r||t)(c.Y36(Jb),c.Y36(Lc),c.Y36(Rp))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-collection-list"]],decls:59,vars:6,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9","crossorigin","anonymous"],["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css","rel","stylesheet"],[1,"sidebar-navigation"],["routerLink","/products-list"],[1,"bi","bi-basket"],[1,"tooltip"],["routerLink","/collection-list",1,"active"],[1,"bi","bi-columns-gap"],["routerLink","/add-product"],[1,"bi","bi-file-earmark-diff"],["routerLink","/admin-page",4,"ngIf"],[3,"click",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"main-box","clearfix"],[1,"table-responsive"],[1,"table","user-list"],[1,"text-center"],["src","https://bootdey.com/img/Content/avatar/avatar1.png","alt",""],["href","#",1,"user-link"],[1,"user-subhead"],[1,"label","label-default"],["href","#"],[2,"width","20%"],["href","#",1,"table-link","danger"],[1,"fa-stack"],[1,"fa","fa-square","fa-stack-2x"],[1,"fa","fa-trash-o","fa-stack-1x","fa-inverse"],["routerLink","/admin-page"],[1,"bi","bi-box-arrow-in-right"],[3,"click"],[1,"bi","bi-box-arrow-left"]],template:function(r,i){1&r&&(c._UZ(0,"link",0)(1,"link",1)(2,"link",2),c.TgZ(3,"nav",3)(4,"ul")(5,"li",4),c._UZ(6,"i",5),c.TgZ(7,"span",6),c._uU(8,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d0"),c.qZA()(),c.TgZ(9,"li",7),c._UZ(10,"i",8),c.TgZ(11,"span",6),c._uU(12,"\u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(13,"li",9),c._UZ(14,"i",10),c.TgZ(15,"span",6),c._uU(16,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d8\u10e1 \u10d3\u10d0\u10db\u10d0\u10e2\u10d4\u10d1\u10d0"),c.qZA()(),c.YNc(17,U7,4,0,"li",11),c.ALo(18,"async"),c.YNc(19,V7,4,0,"li",12),c.ALo(20,"async"),c.qZA()(),c.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"div",17)(26,"table",18)(27,"thead")(28,"tr")(29,"th")(30,"span"),c._uU(31,"\u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d4\u10d1\u10d8"),c.qZA()(),c.TgZ(32,"th",19)(33,"span"),c._uU(34,"\u10de\u10e0\u10dd\u10d3\u10e3\u10e5\u10ea\u10d8\u10d8\u10e1 \u10e2\u10d8\u10de\u10d4\u10d1\u10d8\u10e1 \u10e0\u10d0\u10dd\u10d3\u10d4\u10dc\u10dd\u10d1\u10d0"),c.qZA()(),c.TgZ(35,"th")(36,"span"),c._uU(37,"\u10e4\u10d0\u10e1\u10d8"),c.qZA()(),c.TgZ(38,"th"),c._uU(39,"\xa0"),c.qZA()()(),c.TgZ(40,"tbody")(41,"tr")(42,"td"),c._UZ(43,"img",20),c.TgZ(44,"a",21),c._uU(45,"\u10de\u10d4\u10dc\u10dd\u10de\u10da\u10d0\u10e1\u10e2\u10d8"),c.qZA(),c.TgZ(46,"span",22),c._uU(47,"\u10de\u10d4\u10dc\u10dd\u10de\u10da\u10d0\u10e1\u10e2\u10d8\u10e1 \u10d9\u10d0\u10e2\u10d4\u10d2\u10dd\u10e0\u10d8\u10d0"),c.qZA()(),c.TgZ(48,"td",19)(49,"span",23),c._uU(50,"0"),c.qZA()(),c.TgZ(51,"td")(52,"a",24),c._uU(53,"mila@kunis.com"),c.qZA()(),c.TgZ(54,"td",25)(55,"a",26)(56,"span",27),c._UZ(57,"i",28)(58,"i",29),c.qZA()()()()()()()()()()()),2&r&&(c.xp6(17),c.Q6J("ngIf",!c.lcZ(18,2,i.afAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(20,4,i.afAuth.user)))},dependencies:[Za,Ri,xo],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;font-family:Lato,sans-serif;line-height:1}body[_ngcontent-%COMP%]{background-color:#f5f6f8;overflow:hidden}.sidebar-navigation[_ngcontent-%COMP%]{display:inline-block;min-height:100vh;width:80px;background-color:#313443;float:left}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center!important;padding-left:0!important;color:#fff}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:28px 0;cursor:pointer;transition:all ease-out .12s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:24px;transition:all ease .45s}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:inline-block;position:absolute;background-color:#313443;padding:8px 15px;border-radius:3px;margin-top:-26px;left:90px;opacity:0;visibility:hidden;font-size:13px;letter-spacing:.5px}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-4px;top:10px;transform:rotate(45deg);width:10px;height:10px;background-color:inherit}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#22252e}.sidebar-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#98d7ec}','\n\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]    > img[_ngcontent-%COMP%] {\n  position: relative;\n  max-width: 50px;\n  float: left;\n  margin-right: 15px;\n}\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 1.25em;\n  padding-top: 3px;\n  margin-left: 60px;\n}\n.user-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .user-subhead[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  font-style: italic;\n}\n\n\n\n.table[_ngcontent-%COMP%] {\n  border-collapse: separate;\n}\n.table-hover[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > td[_ngcontent-%COMP%], .table-hover[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > th[_ngcontent-%COMP%] {\n  background-color: #eee;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #C2C2C2;\n  padding-bottom: 0;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  background: #f5f5f5;\n  border-top: 10px solid #fff;\n  vertical-align: middle;\n  padding: 12px 8px;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:first-child, .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]:first-child {\n  padding-left: 20px;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  border-bottom: 2px solid #C2C2C2;\n  display: inline-block;\n  padding: 0 5px;\n  padding-bottom: 5px;\n  font-weight: normal;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  color: #344644;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0dc";\n  font-family: FontAwesome;\n  font-style: normal;\n  font-weight: normal;\n  text-decoration: inherit;\n  margin-left: 5px;\n  font-size: 0.75em;\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a.asc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0dd";\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a.desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after {\n  content: "\\f0de";\n}\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%] {\n  text-decoration: none;\n  color: #2bb6a3;\n  border-color: #2bb6a3;\n}\n.table.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  -webkit-transition: background-color 0.15s ease-in-out 0s;\n  transition: background-color 0.15s ease-in-out 0s;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .call-type[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 0.75em;\n  text-align: center;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%] {\n  line-height: 1.5;\n  font-weight: 400;\n  font-size: 1.125em;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  color: #969696;\n  font-weight: 300;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%] {\n  font-size: 0.875em;\n  line-height: 1.2;\n}\n.table[_ngcontent-%COMP%]   a.table-link[_ngcontent-%COMP%] {\n  margin: 0 5px;\n  font-size: 1.125em;\n}\n.table[_ngcontent-%COMP%]   a.table-link[_ngcontent-%COMP%]:hover {\n  text-decoration: none;\n  color: #2aa493;\n}\n.table[_ngcontent-%COMP%]   a.table-link.danger[_ngcontent-%COMP%] {\n  color: #fe635f;\n}\n.table[_ngcontent-%COMP%]   a.table-link.danger[_ngcontent-%COMP%]:hover {\n  color: #dd504c;\n}\n\n.table-products[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background: none;\n  border: none;\n  border-bottom: 1px solid #ebebeb;\n  -webkit-transition: background-color 0.15s ease-in-out 0s;\n  transition: background-color 0.15s ease-in-out 0s;\n  position: relative;\n}\n.table-products[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover    > td[_ngcontent-%COMP%] {\n  text-decoration: none;\n  background-color: #f6f6f6;\n}\n.table-products[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n  display: block;\n  font-weight: 600;\n  padding-bottom: 7px;\n}\n.table-products[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\n  display: block;\n  text-decoration: none;\n  width: 50%;\n  float: left;\n  font-size: 0.875em;\n}\n.table-products[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]    > i[_ngcontent-%COMP%] {\n  color: #8dc859;\n}\n.table-products[_ngcontent-%COMP%]   .warranty[_ngcontent-%COMP%] {\n  display: block;\n  text-decoration: none;\n  width: 50%;\n  float: left;\n  font-size: 0.875em;\n}\n.table-products[_ngcontent-%COMP%]   .warranty[_ngcontent-%COMP%]    > i[_ngcontent-%COMP%] {\n  color: #f1c40f;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-fb[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #9daccb;\n  color: #262525;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-twitter[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #9fccff;\n  color: #262525;\n}\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]    > tr.table-line-plus[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n  background-color: #eea59c;\n  color: #262525;\n}\n.table-stats[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  font-size: 1.9em;\n  vertical-align: bottom;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-fb[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #556484;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-twitter[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #5885b8;\n}\n.table-stats[_ngcontent-%COMP%]   .table-line-plus[_ngcontent-%COMP%]   .status-social-icon[_ngcontent-%COMP%] {\n  color: #a75d54;\n}']}),e})();var $7=U(6710);class cF{constructor(e){return e}}class cx{constructor(){return(0,Zt.vb)("auth")}}const dF=new c.OlP("angularfire2.auth-instances");function H7(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new cF(r)}}const Z7={provide:cx,deps:[[new c.FiY,dF]]},z7={provide:cF,useFactory:function j7(t,e){const n=(0,Zt.JM)("auth",t,e);return n&&new cF(n)},deps:[[new c.FiY,dF],Op]};let W7=(()=>{class t{constructor(){(0,kc.KN)("angularfire",Zt.q4.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[z7,Z7]}),t})();function q7(t,...e){return{ngModule:W7,providers:[{provide:dF,useFactory:H7(t),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,qb,[new c.FiY,Np],...e]}]}}const G7=(0,Zt.u3)($7.o,!0),Bj="@firebase/database";let hF="";class Y7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Q.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,Q.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Q7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,Q.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jj=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y7(e)}}catch{}return new Q7},v_=jj("localStorage"),fF=jj("sessionStorage"),V0=new Go.Yd("@firebase/database"),Hj=function(){let t=1;return function(){return t++}}(),Zj=function(t){const e=(0,Q.dS)(t),n=new Q.gQ;n.update(e);const r=n.digest();return Q.US.encodeByteArray(r)},iD=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=iD.apply(null,r):e+="object"==typeof r?(0,Q.Wl)(r):r,e+=" "}return e};let y_=null,zj=!0;const Qi=function(...t){if(!0===zj&&(zj=!1,null===y_&&!0===fF.get("logging_enabled")&&function(t,e){(0,Q.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(V0.logLevel=Go.in.VERBOSE,y_=V0.log.bind(V0),e&&fF.set("logging_enabled",!0)):"function"==typeof t?y_=t:(y_=null,fF.remove("logging_enabled"))}(!0)),y_){const e=iD.apply(null,t);y_(e)}},sD=function(t){return function(...e){Qi(t,...e)}},pF=function(...t){const e="FIREBASE INTERNAL ERROR: "+iD(...t);V0.error(e)},Bc=function(...t){const e=`FIREBASE FATAL ERROR: ${iD(...t)}`;throw V0.error(e),new Error(e)},qs=function(...t){const e="FIREBASE WARNING: "+iD(...t);V0.warn(e)},dx=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Up="[MIN_NAME]",yh="[MAX_NAME]",E_=function(t,e){if(t===e)return 0;if(t===Up||e===yh)return-1;if(e===Up||t===yh)return 1;{const n=Kj(t),r=Kj(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},eK=function(t,e){return t===e?0:t<e?-1:1},oD=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,Q.Wl)(e))},gF=function(t){if("object"!=typeof t||null===t)return(0,Q.Wl)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,Q.Wl)(e[r]),n+=":",n+=gF(t[e[r]]);return n+="}",n},qj=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Xi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Gj=function(t){(0,Q.hu)(!dx(t),"Invalid JSON number");const r=1023;let i,a,l,f,m;0===t?(a=0,l=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=f+r,l=Math.round(t*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,l=Math.round(t/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)_.push(a%2?1:0),a=Math.floor(a/2);_.push(i?1:0),_.reverse();const b=_.join("");let A="";for(m=0;m<64;m+=8){let P=parseInt(b.substr(m,8),2).toString(16);1===P.length&&(P="0"+P),A+=P}return A.toLowerCase()},iK=new RegExp("^-?(0*)\\d{1,10}$"),Kj=function(t){if(iK.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B0=function(t){try{t()}catch(e){setTimeout(()=>{throw qs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},aD=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class uK{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class lK{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Qi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qs(e)}}let uD=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const eH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rH="websocket",iH="long_polling";class _F{constructor(e,n,r,i,a=!1,l="",f=!1,m=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&v_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function sH(t,e,n){let r;if((0,Q.hu)("string"==typeof e,"typeof type must == string"),(0,Q.hu)("object"==typeof n,"typeof params must == object"),e===rH)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==iH)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function cK(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Xi(n,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class dK{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,Q.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,Q.p$)(this.counters_)}}const vF={},yF={};function EF(t){const e=t.toString();return vF[e]||(vF[e]=new dK),vF[e]}class fK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&B0(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vp{constructor(e,n,r,i,a,l,f){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sD(e),this.stats_=EF(n),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),sH(n,iH,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,Q.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new CF((...a)=>{const[l,f,m,_,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&eH.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vp.forceAllow_=!0}static forceDisallow(){Vp.forceDisallow_=!0}static isAvailable(){return!((0,Q.Yr)()||!Vp.forceAllow_&&(Vp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,Q.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,Q.h$)(n),i=qj(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,Q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,Q.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class CF{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Hj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=CF.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){Qi("frame writing exception"),f.stack&&Qi(f.stack),Qi(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,Q.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let fx=null;typeof MozWebSocket<"u"?fx=MozWebSocket:typeof WebSocket<"u"&&(fx=WebSocket);let $0=(()=>{class t{constructor(n,r,i,a,l,f,m){this.connId=n,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sD(this.connId),this.stats_=EF(r),this.connURL=t.connectionURL_(r,f,m,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,a,l){const f={v:"5"};return!(0,Q.Yr)()&&typeof location<"u"&&location.hostname&&eH.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),a&&(f.ac=a),l&&(f.p=l),sH(n,rH,f)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v_.set("previous_websocket_failure",!0);try{let i;if((0,Q.Yr)()){i={headers:{"User-Agent":`Firebase/5/${hF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(i.proxy={origin:f})}this.mySock=new fx(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==fx&&!t.forceDisallow_}static previouslyFailed(){return v_.isInMemoryStorage||!0===v_.get("previous_websocket_failure")}markConnectionHealthy(){v_.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,Q.cI)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,Q.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,Q.Wl)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=qj(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),hH=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Vp,$0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=$0&&$0.isAvailable();let i=r&&!$0.previouslyFailed();if(n.webSocketOnly&&(r||qs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[$0];else{const a=this.transports_=[];for(const l of t.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class yH{constructor(e,n,r,i,a,l,f,m,_,b){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sD("c:"+this.id+":"),this.transportManager_=new hH(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=aD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=oD("t",e),r=oD("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=oD("t",e),r=oD("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=oD("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?pF("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pF("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&qs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),aD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):aD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EH{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class CH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Q.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,Q.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class px extends CH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new px}getInitialEvent(e){return(0,Q.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Zn{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nn(){return new Zn("")}function dn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bp(t){return t.pieces_.length-t.pieceNum_}function nr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zn(t.pieces_,e)}function bF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DH(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zn(e,0)}function Or(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Zn(n,0)}function hn(t){return t.pieceNum_>=t.pieces_.length}function To(t,e){const n=dn(t),r=dn(e);if(null===n)return e;if(n===r)return To(nr(t),nr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function DF(t,e){if(Bp(t)!==Bp(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Su(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bp(t)>Bp(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LK{constructor(e,n){this.errorPrefix_=n,this.parts_=lD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Q.ug)(this.parts_[r]);IH(this)}}function IH(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+C_(t))}function C_(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class IF extends CH{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new IF}getInitialEvent(e){return(0,Q.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cD=1e3;let mx,w_=(()=>{class t extends EH{constructor(n,r,i,a,l,f,m,_){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=t.nextPersistentConnectionId_++,this.log_=sD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,Q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");IF.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&px.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const a=++this.requestNumber_,l={r:a,a:n,b:r};this.log_((0,Q.Wl)(l)),(0,Q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(n){this.initConnection_();const r=new Q.BH,a={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const m=f.d;"ok"===f.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,a){this.initConnection_();const l=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,Q.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:r,query:n,tag:i};this.listens.get(f).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};n.tag&&(l.q=r._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest("q",l,m=>{const _=m.d,b=m.s;t.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(a))===n&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(i,a),n.onComplete&&n.onComplete(b,_))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,Q.r3)(n,"w")){const i=(0,Q.DV)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();qs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,Q.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,Q.w9)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,f=a.d||"error";this.authToken_===n&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),a=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,Q.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,n._queryObject,r)}sendUnlisten_(n,r,i,a){this.log_("Unlisten on "+n+" for "+r);const l={p:n};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+n,l),this.sendRequest(n,l,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(n,r,i,a){this.putInternal("p",n,r,i,a)}merge(n,r,i,a){this.putInternal("m",n,r,i,a)}putInternal(n,r,i,a,l){this.initConnection_();const f={p:r,d:i};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:n,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,Q.Wl)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):pF("Unrecognized action received from server: "+(0,Q.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,Q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cD,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,be.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),a=n.onRealtimeDisconnect_.bind(n),l=n.id+":"+t.nextConnectionId_++,f=n.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,a())};n.realtime_={close:b,sendRequest:function(F){(0,Q.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const P=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[F,z]=yield Promise.all([n.authTokenProvider_.getToken(P),n.appCheckTokenProvider_.getToken(P)]);m?Qi("getToken() completed but was canceled"):(Qi("getToken() completed. Creating connection."),n.authToken_=F&&F.accessToken,n.appCheckToken_=z&&z.token,_=new yH(l,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,a,te=>{qs(te+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},f))}catch(F){n.log_("Failed to get token: "+F),m||(n.repoInfo_.nodeAdmin&&qs(F),b())}}})()}interrupt(n){Qi("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qi("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,Q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=cD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(l=>gF(l)).join("$"):"default";const a=this.removeListen_(n,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(n,r){const i=new Zn(n).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(n,r){Qi("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qi("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,Q.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+hF.replace(/\./g,"-")]=1,(0,Q.uI)()?n["framework.cordova"]=1:(0,Q.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=px.getInstance().currentlyOnline();return(0,Q.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class gn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new gn(e,n)}}class gx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new gn(Up,e),i=new gn(Up,n);return 0!==this.compare(r,i)}minPost(){return gn.MIN}}class SH extends gx{static get __EMPTY_NODE(){return mx}static set __EMPTY_NODE(e){mx=e}compare(e,n){return E_(e.name,n.name)}isDefinedOn(e){throw(0,Q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return gn.MIN}maxPost(){return new gn(yh,mx)}makePost(e,n){return(0,Q.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new gn(e,mx)}toString(){return".key"}}const $c=new SH;class _x{constructor(e,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let AF,fl=(()=>{class t{constructor(n,r,i,a,l){this.key=n,this.value=r,this.color=i??t.RED,this.left=a??Xo.EMPTY_NODE,this.right=l??Xo.EMPTY_NODE}copy(n,r,i,a,l){return new t(n??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let a=this;const l=i(n,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(n,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(n,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xo.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,a;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Xo.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Xo{constructor(e,n=Xo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fl.BLACK,null,null))}remove(e){return new Xo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fl.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _x(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _x(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _x(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _x(this.root_,null,this.comparator_,!0,e)}}function ZK(t,e){return E_(t.name,e.name)}function TF(t,e){return E_(t,e)}Xo.EMPTY_NODE=new class HK{copy(e,n,r,i,a){return this}insert(e,n,r){return new fl(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xH=function(t){return"number"==typeof t?"number:"+Gj(t):"string:"+t},MH=function(t){if(t.isLeafNode()){const e=t.val();(0,Q.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,Q.r3)(e,".sv"),"Priority must be a string or number.")}else(0,Q.hu)(t===AF||t.isEmpty(),"priority of unexpected type.");(0,Q.hu)(t===AF||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PH,OH,NH,j0=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,Q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),MH(this.priorityNode_)}static set __childrenNodeConstructor(n){PH=n}static get __childrenNodeConstructor(){return PH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return hn(n)?this:".priority"===dn(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=dn(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,Q.hu)(".priority"!==i||1===Bp(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(nr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+xH(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?Gj(this.value_):this.value_,this.lazyHash_=Zj(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,Q.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,a=t.VALUE_TYPE_ORDER.indexOf(r),l=t.VALUE_TYPE_ORDER.indexOf(i);return(0,Q.hu)(a>=0,"Unknown leaf type: "+r),(0,Q.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ur=new class GK extends gx{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return 0===a?E_(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return gn.MIN}maxPost(){return new gn(yh,new j0("[PRIORITY-POST]",NH))}makePost(e,n){const r=OH(e);return new gn(n,new j0("[PRIORITY-POST]",r))}toString(){return".priority"}},KK=Math.log(2);class YK{constructor(e){this.count=parseInt(Math.log(e+1)/KK,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vx=function(t,e,n,r){t.sort(e);const i=function(m,_){const b=_-m;let A,P;if(0===b)return null;if(1===b)return A=t[m],P=n?n(A):A,new fl(P,A.node,fl.BLACK,null,null);{const F=parseInt(b/2,10)+m,z=i(m,F),te=i(F+1,_);return A=t[F],P=n?n(A):A,new fl(P,A.node,fl.BLACK,z,te)}},f=function(m){let _=null,b=null,A=t.length;const P=function(z,te){const ne=A-z,Ae=A;A-=z;const Ge=i(ne+1,Ae),He=t[ne],Oe=n?n(He):He;F(new fl(Oe,He.node,te,null,Ge))},F=function(z){_?(_.left=z,_=z):(b=z,_=z)};for(let z=0;z<m.count;++z){const te=m.nextBitIsOne(),ne=Math.pow(2,m.count-(z+1));te?P(ne,fl.BLACK):(P(ne,fl.BLACK),P(ne,fl.RED))}return b}(new YK(t.length));return new Xo(r||e,f)};let SF;const H0={};class Eh{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,Q.hu)(H0&&ur,"ChildrenNode.ts has not been loaded"),SF=SF||new Eh({".priority":H0},{".priority":ur}),SF}get(e){const n=(0,Q.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xo?n:null}hasIndex(e){return(0,Q.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,Q.hu)(e!==$c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(gn.Wrap);let f,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();f=i?vx(r,e.getCompare()):H0;const m=e.toString(),_=Object.assign({},this.indexSet_);_[m]=e;const b=Object.assign({},this.indexes_);return b[m]=f,new Eh(b,_)}addToIndexes(e,n){const r=(0,Q.UI)(this.indexes_,(i,a)=>{const l=(0,Q.DV)(this.indexSet_,a);if((0,Q.hu)(l,"Missing index implementation for "+a),i===H0){if(l.isDefinedOn(e.node)){const f=[],m=n.getIterator(gn.Wrap);let _=m.getNext();for(;_;)_.name!==e.name&&f.push(_),_=m.getNext();return f.push(e),vx(f,l.getCompare())}return H0}{const f=n.get(e.name);let m=i;return f&&(m=m.remove(new gn(e.name,f))),m.insert(e,e.node)}});return new Eh(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,Q.UI)(this.indexes_,i=>{if(i===H0)return i;{const a=n.get(e.name);return a?i.remove(new gn(e.name,a)):i}});return new Eh(r,this.indexSet_)}}let dD,Qt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&MH(this.priorityNode_),this.children_.isEmpty()&&(0,Q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dD||(dD=new t(new Xo(TF),null,Eh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dD}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?dD:r}}getChild(n){const r=dn(n);return null===r?this:this.getImmediateChild(r).getChild(nr(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,Q.hu)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new gn(n,r);let a,l;r.isEmpty()?(a=this.children_.remove(n),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(n,r),l=this.indexMap_.addToIndexes(i,this.children_));const f=a.isEmpty()?dD:this.priorityNode_;return new t(a,f,l)}}updateChild(n,r){const i=dn(n);if(null===i)return r;{(0,Q.hu)(".priority"!==dn(n)||1===Bp(n),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(nr(n),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(ur,(f,m)=>{r[f]=m.val(n),i++,l&&t.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):l=!1}),!n&&l&&a<2*i){const f=[];for(const m in r)f[m]=r[m];return f}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+xH(this.getPriority().val())+":"),this.forEachChild(ur,(r,i)=>{const a=i.hash();""!==a&&(n+=":"+r+":"+a)}),this.lazyHash_=""===n?"":Zj(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new gn(n,r));return l?l.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new gn(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new gn(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,a=>a);{const a=this.children_.getIteratorFrom(n.name,gn.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,n)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,a=>a);{const a=this.children_.getReverseIteratorFrom(n.name,gn.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,n)>0;)a.getNext(),l=a.peek();return a}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===hD?-1:0}withIndex(n){if(n===$c||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===$c||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ur),a=r.getIterator(ur);let l=i.getNext(),f=a.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=i.getNext(),f=a.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(n){return n===$c?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const hD=new class QK extends Qt{constructor(){super(new Xo(TF),Qt.EMPTY_NODE,Eh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gn,{MIN:{value:new gn(Up,Qt.EMPTY_NODE)},MAX:{value:new gn(yh,hD)}}),SH.__EMPTY_NODE=Qt.EMPTY_NODE,j0.__childrenNodeConstructor=Qt,function zK(t){AF=t}(hD),function qK(t){NH=t}(hD);const XK=!0;function $r(t,e=null){if(null===t)return Qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,Q.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new j0(t,$r(e));if(t instanceof Array||!XK){let n=Qt.EMPTY_NODE;return Xi(t,(r,i)=>{if((0,Q.r3)(t,r)&&"."!==r.substring(0,1)){const a=$r(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority($r(e))}{const n=[];let r=!1;if(Xi(t,(l,f)=>{if("."!==l.substring(0,1)){const m=$r(f);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),n.push(new gn(l,m)))}}),0===n.length)return Qt.EMPTY_NODE;const a=vx(n,ZK,l=>l.name,TF);if(r){const l=vx(n,ur.getCompare());return new Qt(a,$r(e),new Eh({".priority":l},{".priority":ur}))}return new Qt(a,$r(e),Eh.Default)}}!function WK(t){OH=t}($r);class xF extends gx{constructor(e){super(),this.indexPath_=e,(0,Q.hu)(!hn(e)&&".priority"!==dn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),a=r.compareTo(i);return 0===a?E_(e.name,n.name):a}makePost(e,n){const r=$r(e),i=Qt.EMPTY_NODE.updateChild(this.indexPath_,r);return new gn(n,i)}maxPost(){const e=Qt.EMPTY_NODE.updateChild(this.indexPath_,hD);return new gn(yh,e)}toString(){return lD(this.indexPath_,0).join("/")}}const MF=new class JK extends gx{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?E_(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return gn.MIN}maxPost(){return gn.MAX}makePost(e,n){const r=$r(e);return new gn(n,r)}toString(){return".value"}};function pD(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class OF{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ur}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Up}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ur}copy(){const e=new OF;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kH(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ur?n="$priority":t.index_===MF?n="$value":t.index_===$c?n="$key":((0,Q.hu)(t.index_ instanceof xF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,Q.Wl)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,Q.Wl)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,Q.Wl)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,Q.Wl)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,Q.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LH(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ur&&(e.i=t.index_.toString()),e}class Ex extends EH{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sD("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,Q.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Ex.getListenId_(e,r),f={};this.listens_[l]=f;const m=kH(e._queryParams);this.restRequest_(a+".json",m,(_,b)=>{let A=b;if(404===_&&(A=null,_=null),null===_&&this.onDataUpdate_(a,A,!1,r),(0,Q.DV)(this.listens_,l)===f){let P;P=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(P,null)}})}unlisten(e,n){const r=Ex.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kH(e._queryParams),r=e._path.toString(),i=new Q.BH;return this.restRequest_(r+".json",n,(a,l)=>{let f=l;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Q.xO)(n);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,Q.cI)(f.responseText)}catch{qs("Failed to parse JSON response for "+l+": "+f.responseText)}r(null,m)}else 401!==f.status&&404!==f.status&&qs("Got unsuccessful REST response for "+l+" Status: "+f.status),r(f.status);r=null}},f.open("GET",l,!0),f.send()})}}class aY{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Cx(){return{value:null,children:new Map}}function z0(t,e,n){if(hn(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=dn(e);t.children.has(r)||t.children.set(r,Cx()),z0(t.children.get(r),e=nr(e),n)}}function LF(t,e,n){null!==t.value?n(e,t.value):function uY(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{LF(i,new Zn(e.toString()+"/"+r),n)})}class lY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class hY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lY(e);const r=1e4+2e4*Math.random();aD(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xi(e,(i,a)=>{a>0&&(0,Q.r3)(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),aD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var jc=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(jc||{});function VF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class wx{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(hn(this.path)){if(null!=this.affectedTree.value)return(0,Q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zn(e));return new wx(Nn(),n,this.revert)}}return(0,Q.hu)(dn(this.path)===e,"operationForChild called for unrelated child."),new wx(nr(this.path),this.affectedTree,this.revert)}}class b_{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jc.OVERWRITE}operationForChild(e){return hn(this.path)?new b_(this.source,Nn(),this.snap.getImmediateChild(e)):new b_(this.source,nr(this.path),this.snap)}}class W0{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jc.MERGE}operationForChild(e){if(hn(this.path)){const n=this.children.subtree(new Zn(e));return n.isEmpty()?null:n.value?new b_(this.source,Nn(),n.value):new W0(this.source,Nn(),n)}return(0,Q.hu)(dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new W0(this.source,nr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $p{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(hn(e))return this.isFullyInitialized()&&!this.filtered_;const n=dn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function _D(t,e,n,r,i,a){const l=r.filter(f=>f.type===n);l.sort((f,m)=>function mY(t,e,n){if(null==e.childName||null==n.childName)throw(0,Q.g5)("Should only compare child_ events.");const r=new gn(e.childName,e.snapshotNode),i=new gn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,f,m)),l.forEach(f=>{const m=function gY(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,f,a);i.forEach(_=>{_.respondsTo(f.type)&&e.push(_.createEvent(m,t.query_))})})}function bx(t,e){return{eventCache:t,serverCache:e}}function vD(t,e,n,r){return bx(new $p(e,n,r),t.serverCache)}function UH(t,e,n,r){return bx(t.eventCache,new $p(e,n,r))}function Dx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function D_(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let BF;class lr{constructor(e,n=(()=>(BF||(BF=new Xo(eK)),BF))()){this.value=e,this.children=n}static fromObject(e){let n=new lr(null);return Xi(e,(r,i)=>{n=n.set(new Zn(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Nn(),value:this.value};if(hn(e))return null;{const r=dn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(nr(e),n);return null!=a?{path:Or(new Zn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(hn(e))return this;{const n=dn(e),r=this.children.get(n);return null!==r?r.subtree(nr(e)):new lr(null)}}set(e,n){if(hn(e))return new lr(n,this.children);{const r=dn(e),a=(this.children.get(r)||new lr(null)).set(nr(e),n),l=this.children.insert(r,a);return new lr(this.value,l)}}remove(e){if(hn(e))return this.children.isEmpty()?new lr(null):new lr(null,this.children);{const n=dn(e),r=this.children.get(n);if(r){const i=r.remove(nr(e));let a;return a=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&a.isEmpty()?new lr(null):new lr(this.value,a)}return this}}get(e){if(hn(e))return this.value;{const n=dn(e),r=this.children.get(n);return r?r.get(nr(e)):null}}setTree(e,n){if(hn(e))return n;{const r=dn(e),a=(this.children.get(r)||new lr(null)).setTree(nr(e),n);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new lr(this.value,l)}}fold(e){return this.fold_(Nn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Or(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Nn(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(hn(e))return null;{const a=dn(e),l=this.children.get(a);return l?l.findOnPath_(nr(e),Or(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nn(),n)}foreachOnPath_(e,n,r){if(hn(e))return this;{this.value&&r(n,this.value);const i=dn(e),a=this.children.get(i);return a?a.foreachOnPath_(nr(e),Or(n,i),r):new lr(null)}}foreach(e){this.foreach_(Nn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Or(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class pl{constructor(e){this.writeTree_=e}static empty(){return new pl(new lr(null))}}function yD(t,e,n){if(hn(e))return new pl(new lr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=To(i,e);return a=a.updateChild(l,n),new pl(t.writeTree_.set(i,a))}{const i=new lr(n),a=t.writeTree_.setTree(e,i);return new pl(a)}}}function $F(t,e,n){let r=t;return Xi(n,(i,a)=>{r=yD(r,Or(e,i),a)}),r}function VH(t,e){if(hn(e))return pl.empty();{const n=t.writeTree_.setTree(e,new lr(null));return new pl(n)}}function jF(t,e){return null!=I_(t,e)}function I_(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(To(n.path,e)):null}function BH(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ur,(r,i)=>{e.push(new gn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new gn(r,i.value))}),e}function jp(t,e){if(hn(e))return t;{const n=I_(t,e);return new pl(null!=n?new lr(n):t.writeTree_.subtree(e))}}function HF(t){return t.writeTree_.isEmpty()}function q0(t,e){return $H(Nn(),t.writeTree_,e)}function $H(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,Q.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):n=$H(Or(t,i),a,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Or(t,".priority"),r)),n}}function Ix(t,e){return WH(e,t)}function wY(t,e){if(t.snap)return Su(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Su(Or(t.path,n),e))return!0;return!1}function DY(t){return t.visible}function jH(t,e,n){let r=pl.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const l=a.path;let f;if(a.snap)Su(n,l)?(f=To(n,l),r=yD(r,f,a.snap)):Su(l,n)&&(f=To(l,n),r=yD(r,Nn(),a.snap.getChild(f)));else{if(!a.children)throw(0,Q.g5)("WriteRecord should have .snap or .children");if(Su(n,l))f=To(n,l),r=$F(r,f,a.children);else if(Su(l,n))if(f=To(l,n),hn(f))r=$F(r,Nn(),a.children);else{const m=(0,Q.DV)(a.children,dn(f));if(m){const _=m.getChild(nr(f));r=yD(r,Nn(),_)}}}}}return r}function HH(t,e,n,r,i){if(r||i){const a=jp(t.visibleWrites,e);return!i&&HF(a)?n:i||null!=n||jF(a,Nn())?q0(jH(t.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(Su(_.path,e)||Su(e,_.path))},e),n||Qt.EMPTY_NODE):null}{const a=I_(t.visibleWrites,e);if(null!=a)return a;{const l=jp(t.visibleWrites,e);return HF(l)?n:null!=n||jF(l,Nn())?q0(l,n||Qt.EMPTY_NODE):null}}}function Tx(t,e,n,r){return HH(t.writeTree,t.treePath,e,n,r)}function ZF(t,e){return function IY(t,e,n){let r=Qt.EMPTY_NODE;const i=I_(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ur,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(n){const a=jp(t.visibleWrites,e);return n.forEachChild(ur,(l,f)=>{const m=q0(jp(a,new Zn(l)),f);r=r.updateImmediateChild(l,m)}),BH(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return BH(jp(t.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(t.writeTree,t.treePath,e)}function ZH(t,e,n,r){return function TY(t,e,n,r,i){(0,Q.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Or(e,n);if(jF(t.visibleWrites,a))return null;{const l=jp(t.visibleWrites,a);return HF(l)?i.getChild(n):q0(l,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Ax(t,e){return function SY(t,e){return I_(t.visibleWrites,e)}(t.writeTree,Or(t.treePath,e))}function zF(t,e,n){return function AY(t,e,n,r){const i=Or(e,n),a=I_(t.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?q0(jp(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function zH(t,e){return WH(Or(t.treePath,e),t.writeTree)}function WH(t,e){return{treePath:t,writeTree:e}}class OY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,Q.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,Q.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===n&&"child_removed"===a)this.changeMap.set(r,pD(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===a)this.changeMap.set(r,function fD(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===a)this.changeMap.set(r,function Z0(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==a)throw(0,Q.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,pD(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const qH=new class NY{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class WF{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new $p(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zF(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:D_(this.viewCache_),a=function PY(t,e,n,r,i,a){return function xY(t,e,n,r,i,a,l){let f;const m=jp(t.visibleWrites,e),_=I_(m,Nn());if(null!=_)f=_;else{if(null==n)return[];f=q0(m,n)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const b=[],A=l.getCompare(),P=a?f.getReverseIteratorFrom(r,l):f.getIteratorFrom(r,l);let F=P.getNext();for(;F&&b.length<i;)0!==A(F,r)&&b.push(F),F=P.getNext();return b}}(t.writeTree,t.treePath,e,n,r,i,a)}(this.writes_,i,n,1,r,e);return 0===a.length?null:a[0]}}function GH(t,e,n,r,i,a){const l=e.eventCache;if(null!=Ax(r,n))return e;{let f,m;if(hn(n))if((0,Q.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=D_(e),A=ZF(r,_ instanceof Qt?_:Qt.EMPTY_NODE);f=t.filter.updateFullNode(e.eventCache.getNode(),A,a)}else{const _=Tx(r,D_(e));f=t.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const _=dn(n);if(".priority"===_){(0,Q.hu)(1===Bp(n),"Can't have a priority with additional path components");const b=l.getNode();m=e.serverCache.getNode();const A=ZH(r,n,b,m);f=null!=A?t.filter.updatePriority(b,A):l.getNode()}else{const b=nr(n);let A;if(l.isCompleteForChild(_)){m=e.serverCache.getNode();const P=ZH(r,n,l.getNode(),m);A=null!=P?l.getNode().getImmediateChild(_).updateChild(b,P):l.getNode().getImmediateChild(_)}else A=zF(r,_,e.serverCache);f=null!=A?t.filter.updateChild(l.getNode(),_,A,b,i,a):l.getNode()}}return vD(e,f,l.isFullyInitialized()||hn(n),t.filter.filtersNodes())}}function Sx(t,e,n,r,i,a,l,f){const m=e.serverCache;let _;const b=l?t.filter:t.filter.getIndexedFilter();if(hn(n))_=b.updateFullNode(m.getNode(),r,null);else if(b.filtersNodes()&&!m.isFiltered()){const F=m.getNode().updateChild(n,r);_=b.updateFullNode(m.getNode(),F,null)}else{const F=dn(n);if(!m.isCompleteForPath(n)&&Bp(n)>1)return e;const z=nr(n),ne=m.getNode().getImmediateChild(F).updateChild(z,r);_=".priority"===F?b.updatePriority(m.getNode(),ne):b.updateChild(m.getNode(),F,ne,z,qH,null)}const A=UH(e,_,m.isFullyInitialized()||hn(n),b.filtersNodes());return GH(t,A,n,i,new WF(i,A,a),f)}function qF(t,e,n,r,i,a,l){const f=e.eventCache;let m,_;const b=new WF(i,e,a);if(hn(n))_=t.filter.updateFullNode(e.eventCache.getNode(),r,l),m=vD(e,_,!0,t.filter.filtersNodes());else{const A=dn(n);if(".priority"===A)_=t.filter.updatePriority(e.eventCache.getNode(),r),m=vD(e,_,f.isFullyInitialized(),f.isFiltered());else{const P=nr(n),F=f.getNode().getImmediateChild(A);let z;if(hn(P))z=r;else{const te=b.getCompleteChild(A);z=null!=te?".priority"===bF(P)&&te.getChild(DH(P)).isEmpty()?te:te.updateChild(P,r):Qt.EMPTY_NODE}m=F.equals(z)?e:vD(e,t.filter.updateChild(f.getNode(),A,z,P,b,l),f.isFullyInitialized(),t.filter.filtersNodes())}}return m}function KH(t,e){return t.eventCache.isCompleteForChild(e)}function YH(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function GF(t,e,n,r,i,a,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,m=e;_=hn(n)?r:new lr(null).setTree(n,r);const b=e.serverCache.getNode();return _.children.inorderTraversal((A,P)=>{if(b.hasChild(A)){const z=YH(0,e.serverCache.getNode().getImmediateChild(A),P);m=Sx(t,m,new Zn(A),z,i,a,l,f)}}),_.children.inorderTraversal((A,P)=>{const F=!e.serverCache.isCompleteForChild(A)&&null===P.value;if(!b.hasChild(A)&&!F){const te=YH(0,e.serverCache.getNode().getImmediateChild(A),P);m=Sx(t,m,new Zn(A),te,i,a,l,f)}}),m}function zY(t,e){const n=D_(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!hn(e)&&!n.getImmediateChild(dn(e)).isEmpty())?n.getChild(e):null}function JH(t,e,n,r){e.type===jc.MERGE&&null!==e.source.queryId&&((0,Q.hu)(D_(t.viewCache_),"We should always have a full cache before handling merges"),(0,Q.hu)(Dx(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=function LY(t,e,n,r,i){const a=new OY;let l,f;if(n.type===jc.OVERWRITE){const _=n;_.source.fromUser?l=qF(t,e,_.path,_.snap,r,i,a):((0,Q.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered()&&!hn(_.path),l=Sx(t,e,_.path,_.snap,r,i,f,a))}else if(n.type===jc.MERGE){const _=n;_.source.fromUser?l=function UY(t,e,n,r,i,a,l){let f=e;return r.foreach((m,_)=>{const b=Or(n,m);KH(e,dn(b))&&(f=qF(t,f,b,_,i,a,l))}),r.foreach((m,_)=>{const b=Or(n,m);KH(e,dn(b))||(f=qF(t,f,b,_,i,a,l))}),f}(t,e,_.path,_.children,r,i,a):((0,Q.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered(),l=GF(t,e,_.path,_.children,r,i,f,a))}else if(n.type===jc.ACK_USER_WRITE){const _=n;l=_.revert?function $Y(t,e,n,r,i,a){let l;if(null!=Ax(r,n))return e;{const f=new WF(r,e,i),m=e.eventCache.getNode();let _;if(hn(n)||".priority"===dn(n)){let b;if(e.serverCache.isFullyInitialized())b=Tx(r,D_(e));else{const A=e.serverCache.getNode();(0,Q.hu)(A instanceof Qt,"serverChildren would be complete if leaf node"),b=ZF(r,A)}_=t.filter.updateFullNode(m,b,a)}else{const b=dn(n);let A=zF(r,b,e.serverCache);null==A&&e.serverCache.isCompleteForChild(b)&&(A=m.getImmediateChild(b)),_=null!=A?t.filter.updateChild(m,b,A,nr(n),f,a):e.eventCache.getNode().hasChild(b)?t.filter.updateChild(m,b,Qt.EMPTY_NODE,nr(n),f,a):m,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Tx(r,D_(e)),l.isLeafNode()&&(_=t.filter.updateFullNode(_,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=Ax(r,Nn()),vD(e,_,l,t.filter.filtersNodes())}}(t,e,_.path,r,i,a):function VY(t,e,n,r,i,a,l){if(null!=Ax(i,n))return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(null!=r.value){if(hn(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return Sx(t,e,n,m.getNode().getChild(n),i,a,f,l);if(hn(n)){let _=new lr(null);return m.getNode().forEachChild($c,(b,A)=>{_=_.set(new Zn(b),A)}),GF(t,e,n,_,i,a,f,l)}return e}{let _=new lr(null);return r.foreach((b,A)=>{const P=Or(n,b);m.isCompleteForPath(P)&&(_=_.set(b,m.getNode().getChild(P)))}),GF(t,e,n,_,i,a,f,l)}}(t,e,_.path,_.affectedTree,r,i,a)}else{if(n.type!==jc.LISTEN_COMPLETE)throw(0,Q.g5)("Unknown operation type: "+n.type);l=function BY(t,e,n,r,i){const a=e.serverCache;return GH(t,UH(e,a.getNode(),a.isFullyInitialized()||hn(n),a.isFiltered()),n,r,qH,i)}(t,e,n.path,r,a)}const m=a.getChanges();return function FY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Dx(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(function RH(t){return{type:"value",snapshotNode:t}}(Dx(e)))}}(e,l,m),{viewCache:l,changes:m}}(t.processor_,i,e,n,r);return function kY(t,e){(0,Q.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,Q.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,a.viewCache),(0,Q.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,function e6(t,e,n,r){return function pY(t,e,n,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function eY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(l.childName,l.snapshotNode))}),_D(t,i,"child_removed",e,r,n),_D(t,i,"child_added",e,r,n),_D(t,i,"child_moved",a,r,n),_D(t,i,"child_changed",e,r,n),_D(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,a.changes,a.viewCache.eventCache.getNode(),null)}let xx,Px;function KF(t,e,n,r){const i=e.source.queryId;if(null!==i){const a=t.views.get(i);return(0,Q.hu)(null!=a,"SyncTree gave us an op for an invalid query."),JH(a,e,n,r)}{let a=[];for(const l of t.views.values())a=a.concat(JH(l,e,n,r));return a}}function Hp(t,e){let n=null;for(const r of t.views.values())n=n||zY(r,e);return n}class o6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lr(null),this.pendingWriteTree_=function MY(){return{visibleWrites:pl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function YF(t,e,n,r,i){return function vY(t,e,n,r,i){(0,Q.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=yD(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?G0(t,new b_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function zp(t,e,n=!1){const r=function EY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function CY(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);(0,Q.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,a=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const f=t.allWrites[l];f.visible&&(l>=n&&wY(f,r.path)?i=!1:Su(r.path,f.path)&&(a=!0)),l--}return!!i&&(a?(function bY(t){t.visibleWrites=jH(t.allWrites,DY,Nn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=VH(t.visibleWrites,r.path):Xi(r.children,m=>{t.visibleWrites=VH(t.visibleWrites,Or(r.path,m))}),!0))}(t.pendingWriteTree_,e)){let a=new lr(null);return null!=r.snap?a=a.set(Nn(),!0):Xi(r.children,l=>{a=a.set(new Zn(l),!0)}),G0(t,new wx(r.path,a,n))}return[]}function ED(t,e,n){return G0(t,new b_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Nx(t,e,n){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(l,f)=>{const _=Hp(f,To(l,e));if(_)return _});return HH(i,e,a,n,!0)}function G0(t,e){return u6(e,t.syncPointTree_,null,Ix(t.pendingWriteTree_,Nn()))}function u6(t,e,n,r){if(hn(t.path))return l6(t,e,n,r);{const i=e.get(Nn());null==n&&null!=i&&(n=Hp(i,Nn()));let a=[];const l=dn(t.path),f=t.operationForChild(l),m=e.children.get(l);if(m&&f){const _=n?n.getImmediateChild(l):null,b=zH(r,l);a=a.concat(u6(f,m,_,b))}return i&&(a=a.concat(KF(i,t,r,n))),a}}function l6(t,e,n,r){const i=e.get(Nn());null==n&&null!=i&&(n=Hp(i,Nn()));let a=[];return e.children.inorderTraversal((l,f)=>{const m=n?n.getImmediateChild(l):null,_=zH(r,l),b=t.operationForChild(l);b&&(a=a.concat(l6(b,f,m,_)))}),i&&(a=a.concat(KF(i,t,r,n))),a}function XF(t,e){return t.tagToQueryMap.get(e)}function JF(t){const e=t.indexOf("$");return(0,Q.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zn(t.substr(0,e))}}function e2(t,e,n){const r=t.syncPointTree_.get(e);return(0,Q.hu)(r,"Missing sync point for query tag that we're tracking"),KF(r,n,Ix(t.pendingWriteTree_,e),null)}class t2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new t2(n)}node(){return this.node_}}class n2{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Or(this.path_,e);return new n2(this.syncTree_,n)}node(){return Nx(this.syncTree_,this.path_)}}const hQ=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},d6=function(t,e,n){return t&&"object"==typeof t?((0,Q.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fQ(t[".sv"],e,n):"object"==typeof t[".sv"]?pQ(t[".sv"],e):void(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fQ=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,Q.hu)(!1,"Unexpected server value: "+t)},pQ=function(t,e,n){t.hasOwnProperty("increment")||(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,Q.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,Q.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},h6=function(t,e,n,r){return s2(e,new n2(n,t),r)},r2=function(t,e,n){return s2(t,new t2(e),n)};function s2(t,e,n){const r=t.getPriority().val(),i=d6(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const l=t,f=d6(l.getValue(),e,n);return f!==l.getValue()||i!==l.getPriority().val()?new j0(f,$r(i)):t}{const l=t;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new j0(i))),l.forEachChild(ur,(f,m)=>{const _=s2(m,e.getImmediateChild(f),n);_!==m&&(a=a.updateImmediateChild(f,_))}),a}}class o2{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function kx(t,e){let n=e instanceof Zn?e:new Zn(e),r=t,i=dn(n);for(;null!==i;){const a=(0,Q.DV)(r.node.children,i)||{children:{},childCount:0};r=new o2(i,r,a),n=nr(n),i=dn(n)}return r}function T_(t){return t.node.value}function a2(t,e){t.node.value=e,u2(t)}function f6(t){return t.node.childCount>0}function Lx(t,e){Xi(t.node.children,(n,r)=>{e(new o2(n,t,r))})}function p6(t,e,n,r){n&&!r&&e(t),Lx(t,i=>{p6(i,e,!0,r)}),n&&r&&e(t)}function bD(t){return new Zn(null===t.parent?t.name:bD(t.parent)+"/"+t.name)}function u2(t){null!==t.parent&&function _Q(t,e,n){const r=function gQ(t){return void 0===T_(t)&&!f6(t)}(n),i=(0,Q.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,u2(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,u2(t))}(t.parent,t.name,t)}const vQ=/[\[\].#$\/\u0000-\u001F\u007F]/,yQ=/[\[\].#$\u0000-\u001F\u007F]/,l2=10485760,Fx=function(t){return"string"==typeof t&&0!==t.length&&!vQ.test(t)},ID=function(t,e,n){const r=n instanceof Zn?new LK(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+C_(r));if("function"==typeof e)throw new Error(t+"contains a function "+C_(r)+" with contents = "+e.toString());if(dx(e))throw new Error(t+"contains "+e.toString()+" "+C_(r));if("string"==typeof e&&e.length>l2/3&&(0,Q.ug)(e)>l2)throw new Error(t+"contains a string greater than "+l2+" utf8 bytes "+C_(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(Xi(e,(l,f)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!Fx(l)))throw new Error(t+" contains an invalid key ("+l+") "+C_(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function FK(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,Q.ug)(e),IH(t)})(r,l),ID(t,f,r),function UK(t){const e=t.parts_.pop();t.byteLength_-=(0,Q.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&a)throw new Error(t+' contains ".value" child '+C_(r)+" in addition to actual children.")}},_6=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Fx(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!yQ.test(t)}(t)}(n))throw new Error((0,Q.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fa(t,e,n){(function Ux(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==n&&!DF(a,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function y6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(DQ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Su(r,e)||Su(e,r))}function DQ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();y_&&Qi("event: "+n.toString()),B0(r)}}}const IQ=25;class TQ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cx(),this.transactionQueueTree_=new o2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C6(t){const n=t.infoData_.getNode(new Zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function AD(t){return hQ({timestamp:C6(t)})}function w6(t,e,n,r,i){t.dataUpdateCount++;const a=new Zn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const m=(0,Q.UI)(n,_=>$r(_));l=function oQ(t,e,n,r){const i=XF(t,r);if(i){const a=JF(i),l=a.path,f=a.queryId,m=To(l,e),_=lr.fromObject(n);return e2(t,l,new W0(VF(f),m,_))}return[]}(t.serverSyncTree_,a,m,i)}else{const m=$r(n);l=function a6(t,e,n,r){const i=XF(t,r);if(null!=i){const a=JF(i),l=a.path,f=a.queryId,m=To(l,e);return e2(t,l,new b_(VF(f),m,n))}return[]}(t.serverSyncTree_,a,m,i)}else if(r){const m=(0,Q.UI)(n,_=>$r(_));l=function rQ(t,e,n){const r=lr.fromObject(n);return G0(t,new W0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,m)}else{const m=$r(n);l=ED(t.serverSyncTree_,a,m)}let f=a;l.length>0&&(f=Y0(t,a)),Fa(t.eventQueue_,f,l)}function b6(t,e){h2(t,"connected",e),!1===e&&function PQ(t){K0(t,"onDisconnectEvents");const e=AD(t),n=Cx();LF(t.onDisconnect_,Nn(),(i,a)=>{const l=h6(i,a,t.serverSyncTree_,e);z0(n,i,l)});let r=[];LF(n,Nn(),(i,a)=>{r=r.concat(ED(t.serverSyncTree_,i,a));const l=function m2(t,e){const n=bD(T6(t,e)),r=kx(t.transactionQueueTree_,e);return function mQ(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{_2(t,i)}),_2(t,r),p6(r,i=>{_2(t,i)}),n}(t,i);Y0(t,l)}),t.onDisconnect_=Cx(),Fa(t.eventQueue_,Nn(),r)}(t)}function h2(t,e,n){const r=new Zn("/.info/"+e),i=$r(n);t.infoData_.updateSnapshot(r,i);const a=ED(t.infoSyncTree_,r,i);Fa(t.eventQueue_,r,a)}function Vx(t){return t.nextWriteId_++}function K0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qi(n,...e)}function g2(t,e,n){return Nx(t.serverSyncTree_,e,n)||Qt.EMPTY_NODE}function Bx(t,e=t.transactionQueueTree_){if(e||$x(t,e),T_(e)){const n=A6(t,e);(0,Q.hu)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function UQ(t,e,n){const r=n.map(_=>_.currentWriteId),i=g2(t,e,r);let a=i;const l=i.hash();for(let _=0;_<n.length;_++){const b=n[_];(0,Q.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const A=To(e,b.path);a=a.updateChild(A,b.currentOutputSnapshotRaw)}const f=a.val(!0),m=e;t.server_.put(m.toString(),f,_=>{K0(t,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const A=[];for(let P=0;P<n.length;P++)n[P].status=2,b=b.concat(zp(t.serverSyncTree_,n[P].currentWriteId)),n[P].onComplete&&A.push(()=>n[P].onComplete(null,!0,n[P].currentOutputSnapshotResolved)),n[P].unwatcher();$x(t,kx(t.transactionQueueTree_,e)),Bx(t,t.transactionQueueTree_),Fa(t.eventQueue_,e,b);for(let P=0;P<A.length;P++)B0(A[P])}else{if("datastale"===_)for(let A=0;A<n.length;A++)n[A].status=3===n[A].status?4:0;else{qs("transaction at "+m.toString()+" failed: "+_);for(let A=0;A<n.length;A++)n[A].status=4,n[A].abortReason=_}Y0(t,e)}},l)}(t,bD(e),n)}else f6(e)&&Lx(e,n=>{Bx(t,n)})}function Y0(t,e){const n=T6(t,e),r=bD(n);return function VQ(t,e,n){if(0===e.length)return;const r=[];let i=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],_=To(n,m.path);let A,b=!1;if((0,Q.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,A=m.abortReason,i=i.concat(zp(t.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=IQ)b=!0,A="maxretry",i=i.concat(zp(t.serverSyncTree_,m.currentWriteId,!0));else{const P=g2(t,m.path,l);m.currentInputSnapshot=P;const F=e[f].update(P.val());if(void 0!==F){ID("transaction failed: Data returned ",F,m.path);let z=$r(F);"object"==typeof F&&null!=F&&(0,Q.r3)(F,".priority")||(z=z.updatePriority(P.getPriority()));const ne=m.currentWriteId,Ae=AD(t),Ge=r2(z,P,Ae);m.currentOutputSnapshotRaw=z,m.currentOutputSnapshotResolved=Ge,m.currentWriteId=Vx(t),l.splice(l.indexOf(ne),1),i=i.concat(YF(t.serverSyncTree_,m.path,Ge,m.currentWriteId,m.applyLocally)),i=i.concat(zp(t.serverSyncTree_,ne,!0))}else b=!0,A="nodata",i=i.concat(zp(t.serverSyncTree_,m.currentWriteId,!0))}Fa(t.eventQueue_,n,i),i=[],b&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===A?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(A),!1,null)))}$x(t,t.transactionQueueTree_);for(let f=0;f<r.length;f++)B0(r[f]);Bx(t,t.transactionQueueTree_)}(t,A6(t,n),r),r}function T6(t,e){let n,r=t.transactionQueueTree_;for(n=dn(e);null!==n&&void 0===T_(r);)r=kx(r,n),n=dn(e=nr(e));return r}function A6(t,e){const n=[];return S6(t,e,n),n.sort((r,i)=>r.order-i.order),n}function S6(t,e,n){const r=T_(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Lx(e,i=>{S6(t,i,n)})}function $x(t,e){const n=T_(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,a2(e,n.length>0?n:void 0)}Lx(e,r=>{$x(t,r)})}function _2(t,e){const n=T_(e);if(n){const r=[];let i=[],a=-1;for(let l=0;l<n.length;l++)3===n[l].status||(1===n[l].status?((0,Q.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,n[l].status=3,n[l].abortReason="set"):((0,Q.hu)(0===n[l].status,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(zp(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?a2(e,void 0):n.length=a+1,Fa(t.eventQueue_,bD(e),i);for(let l=0;l<r.length;l++)B0(r[l])}}const v2=function(t,e){const n=jQ(t),r=n.namespace;return"firebase.com"===n.domain&&Bc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Bc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _F(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Zn(n.pathString)}},jQ=function(t){let e="",n="",r="",i="",a="",l=!0,f="https",m=443;if("string"==typeof t){let _=t.indexOf("//");_>=0&&(f=t.substring(0,_-1),t=t.substring(_+2));let b=t.indexOf("/");-1===b&&(b=t.length);let A=t.indexOf("?");-1===A&&(A=t.length),e=t.substring(0,Math.min(b,A)),b<A&&(i=function BQ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(b,A)));const P=function $Q(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qs(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,A)));_=e.indexOf(":"),_>=0?(l="https"===f||"wss"===f,m=parseInt(e.substring(_+1),10)):_=e.length;const F=e.slice(0,_);if("localhost"===F.toLowerCase())n="localhost";else if(F.split(".").length<=2)n=F;else{const z=e.indexOf(".");r=e.substring(0,z).toLowerCase(),n=e.substring(z+1),a=r}"ns"in P&&(a=P.ns)}return{host:e,port:m,domain:n,subdomain:r,secure:l,scheme:f,pathString:i,namespace:a}};class Ua{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return hn(this._path)?null:bF(this._path)}get ref(){return new gl(this._repo,this._path)}get _queryIdentifier(){const e=LH(this._queryParams),n=gF(e);return"{}"===n?"default":n}get _queryObject(){return LH(this._queryParams)}isEqual(e){if(!((e=(0,Q.m9)(e))instanceof Ua))return!1;const n=this._repo===e._repo,r=DF(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function RK(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class gl extends Ua{constructor(e,n){super(e,n,new OF,!1)}get parent(){const e=DH(this._path);return null===e?null:new gl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function GY(t){(0,Q.hu)(!xx,"__referenceConstructor has already been defined"),xx=t})(gl),function JY(t){(0,Q.hu)(!Px,"__referenceConstructor has already been defined"),Px=t}(gl);const E2={};class uX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function AQ(t,e,n){if(t.stats_=EF(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ex(t.repoInfo_,(r,i,a,l)=>{w6(t,r,i,a,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>b6(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new w_(t.repoInfo_,e,(r,i,a,l)=>{w6(t,r,i,a,l)},r=>{b6(t,r)},r=>{!function SQ(t,e){Xi(e,(n,r)=>{h2(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function hK(t,e){const n=t.toString();return yF[n]||(yF[n]=e()),yF[n]}(t.repoInfo_,()=>new hY(t.stats_,t.server_)),t.infoData_=new aY,t.infoSyncTree_=new o6({startListening:(r,i,a,l)=>{let f=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(f=ED(t.infoSyncTree_,r._path,m),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),h2(t,"connected",!1),t.serverSyncTree_=new o6({startListening:(r,i,a,l)=>(t.server_.listen(r,a,i,(f,m)=>{const _=l(f,m);Fa(t.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gl(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sX(t,e){const n=E2[e];(!n||n[t.key]!==t)&&Bc(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function I6(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bc("Cannot call "+e+" on a deleted database.")}}function lX(t=(0,qo.getApp)(),e){const n=(0,qo._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(0,Q.P0)("database");r&&function cX(t,e,n,r={}){(t=(0,Q.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Bc("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Bc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new uD(uD.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,Q.Sg)(r.mockUserToken,t.app.options.projectId);a=new uD(l)}!function rX(t,e,n,r){t.repoInfo_=new _F(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(n,...r)}return n}w_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},w_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function dX(t){(function K7(t){hF=t})(qo.SDK_VERSION),(0,qo._registerComponent)(new sl.wA("database",(e,{instanceIdentifier:n})=>function iX(t,e,n,r,i){let a=r||t.options.databaseURL;void 0===a&&(t.options.projectId||Bc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qi("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let m,_,l=v2(a,i),f=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(m=!0,a=`http://${_}?ns=${f.namespace}`,l=v2(a,i),f=l.repoInfo):m=!l.repoInfo.secure;const b=i&&m?new uD(uD.OWNER):new lK(t.name,t.options,e);_6("Invalid Firebase Database URL",l),hn(l.path)||Bc("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function oX(t,e,n,r){let i=E2[e.name];i||(i={},E2[e.name]=i);let a=i[t.toURLString()];return a&&Bc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new TQ(t,!1,n,r),i[t.toURLString()]=a,a}(f,t,b,new uK(t.name,n));return new uX(A,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(Bj,"0.14.4",t),(0,qo.registerVersion)(Bj,"0.14.4","esm2017")}();class C2{constructor(e){return e}}const F6="database",w2=new c.OlP("angularfire2.database-instances");function mX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new C2(r)}}const _X={provide:class pX{constructor(){return(0,Zt.vb)(F6)}},deps:[[new c.FiY,w2]]},vX={provide:C2,useFactory:function gX(t,e){const n=(0,Zt.JM)(F6,t,e);return n&&new C2(n)},deps:[[new c.FiY,w2],Op]};let yX=(()=>{class t{constructor(){(0,kc.KN)("angularfire",Zt.q4.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[vX,_X]}),t})();function EX(t,...e){return{ngModule:yX,providers:[{provide:w2,useFactory:mX(t),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,qb,[new c.FiY,cx],[new c.FiY,Np],...e]}]}}const CX=(0,Zt.u3)(lX,!0);class b2{constructor(e){return e}}const U6="firestore",D2=new c.OlP("angularfire2.firestore-instances");function DX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new b2(r)}}const IX={provide:class wX{constructor(){return(0,Zt.vb)(U6)}},deps:[[new c.FiY,D2]]},TX={provide:b2,useFactory:function bX(t,e){const n=(0,Zt.JM)(U6,t,e);return n&&new b2(n)},deps:[[new c.FiY,D2],Op]};let AX=(()=>{class t{constructor(){(0,kc.KN)("angularfire",Zt.q4.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[TX,IX]}),t})();function SX(t,...e){return{ngModule:AX,providers:[{provide:D2,useFactory:DX(t),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,qb,[new c.FiY,cx],[new c.FiY,Np],...e]}]}}const xX=(0,Zt.u3)(l8,!0);function V6(t){const e=function PX(t){return new _i.y(e=>{const n=l=>e.next(l);n(t.snapshot);const a=t.on("state_changed",n);return t.then(l=>{n(l),e.complete()},l=>{n(t.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(function MX(t,e=aA.z){return(0,Mi.e)((n,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const _=a;a=null,r.next(_)}};function m(){const _=l+t,b=e.now();if(b<_)return i=this.schedule(void 0,_-b),void r.add(i);f()}n.subscribe((0,er.x)(r,_=>{a=_,l=e.now(),i||(i=e.schedule(m,t),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Vt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function zx(t){return{getDownloadURL:()=>(0,bt.of)(void 0).pipe(Zt.fc,(0,jn.w)(()=>t.getDownloadURL()),Zt.iC),getMetadata:()=>(0,bt.of)(void 0).pipe(Zt.fc,(0,jn.w)(()=>t.getMetadata()),Zt.iC),delete:()=>(0,yn.D)(t.delete()),child:e=>zx(t.child(e)),updateMetadata:e=>(0,yn.D)(t.updateMetadata(e)),put:(e,n)=>V6(t.put(e,n)),putString:(e,n,r)=>V6(t.putString(e,n,r)),list:e=>(0,yn.D)(t.list(e)),listAll:()=>(0,yn.D)(t.listAll())}}const OX=new c.OlP("angularfire2.storageBucket"),NX=new c.OlP("angularfire2.storage.maxUploadRetryTime"),RX=new c.OlP("angularfire2.storage.maxOperationRetryTime"),kX=new c.OlP("angularfire2.storage.use-emulator");let LX=(()=>{class t{constructor(n,r,i,a,l,f,m,_,b,A){const P=(0,ki.on)(n,l,r);this.storage=(0,ki.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const F=l.runOutsideAngular(()=>P.storage(i||void 0)),z=b;return z&&F.useEmulator(...z),m&&F.setMaxUploadRetryTime(m),_&&F.setMaxOperationRetryTime(_),F},[m,_])}ref(n){return zx(this.storage.ref(n))}refFromURL(n){return zx(this.storage.refFromURL(n))}upload(n,r,i){return zx(this.storage.ref(n)).put(r,i)}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(ki.Dh),c.LFG(ki.xv,8),c.LFG(OX,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zt.HU),c.LFG(NX,8),c.LFG(RX,8),c.LFG(kX,8),c.LFG(Np,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),FX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),t})(),UX=(()=>{class t{constructor(){_W.Z.registerVersion("angularfire",Zt.q4.full,"gcs-compat")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[LX],imports:[FX]}),t})();class I2{constructor(e){return e}}const B6="storage",T2=new c.OlP("angularfire2.storage-instances");function $X(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new I2(r)}}const jX={provide:class VX{constructor(){return(0,Zt.vb)(B6)}},deps:[[new c.FiY,T2]]},HX={provide:I2,useFactory:function BX(t,e){const n=(0,Zt.JM)(B6,t,e);return n&&new I2(n)},deps:[[new c.FiY,T2],Op]};let ZX=(()=>{class t{constructor(){(0,kc.KN)("angularfire",Zt.q4.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[HX,jX]}),t})();function zX(t,...e){return{ngModule:ZX,providers:[{provide:T2,useFactory:$X(t),multi:!0,deps:[c.R0b,c.zs3,Zt.HU,qb,[new c.FiY,cx],[new c.FiY,Np],...e]}]}}const WX=(0,Zt.u3)(u7,!0);let YX=(()=>{var t;class e{static forRoot(){return{ngModule:e,providers:[]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[ws]}),e})();const QX=[{path:"header",component:Ug},{path:"footer",component:ho},{path:"header-without",component:Da},{path:"hero-slider",component:cw},{path:"",component:w$},{path:"modal",component:Yb},{path:"most-popular",component:JS},{path:"product-area",component:HL},{path:"shop-newsletter",component:kp},{path:"shop-service",component:b$},{path:"products",component:D$},{path:"services",component:F7},{path:"contact-us",component:YL},{path:"about-us",component:j$},{path:"admin-page",component:H$},{path:"add-product",component:Rj},{path:"collection-list",component:B7},{path:"edit-products/:id",component:Oj},{path:"single-product/:id",component:kj},{path:"products-list",component:Nj},{path:"mail-succes",component:Lj},{path:"spec",component:Fj},{path:"**",component:Uj}];let XX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=c.oAB({type:t,bootstrap:[L7]}),t.\u0275inj=c.cJS({providers:[{provide:ki.Dh,useValue:lF.firebase}],imports:[Ul,k7,A9(()=>S9(lF.firebase)),q7(()=>G7()),EX(()=>CX()),SX(()=>xX()),zX(()=>WX()),vq,UX,dP,ki.hO,_u,YX.forRoot(),zW,Fg.forRoot(QX,{anchorScrolling:"enabled"})]}),e})();gg().bootstrapModule(XX).catch(t=>console.error(t))},5619:(_t,xe,U)=>{U.d(xe,{X:()=>c});var O=U(8645);class c extends O.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ae=super._subscribe(J);return!ae.closed&&J.next(this._value),ae}getValue(){const{hasError:J,thrownError:ae,_value:Ie}=this;if(J)throw ae;return this._throwIfClosed(),Ie}next(J){super.next(this._value=J)}}},5592:(_t,xe,U)=>{U.d(xe,{y:()=>Se});var O=U(305),c=U(7394),k=U(4850),J=U(8407),ae=U(2653),Ie=U(4674),pe=U(1441);let Se=(()=>{class ue{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const et=new ue;return et.source=this,et.operator=Pe,et}subscribe(Pe,et,Le){const it=function q(ue){return ue&&ue instanceof O.Lv||function H(ue){return ue&&(0,Ie.m)(ue.next)&&(0,Ie.m)(ue.error)&&(0,Ie.m)(ue.complete)}(ue)&&(0,c.Nn)(ue)}(Pe)?Pe:new O.Hp(Pe,et,Le);return(0,pe.x)(()=>{const{operator:Ne,source:vt}=this;it.add(Ne?Ne.call(it,vt):vt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(et){Pe.error(et)}}forEach(Pe,et){return new(et=me(et))((Le,it)=>{const Ne=new O.Hp({next:vt=>{try{Pe(vt)}catch(mt){it(mt),Ne.unsubscribe()}},error:it,complete:Le});this.subscribe(Ne)})}_subscribe(Pe){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Pe)}[k.L](){return this}pipe(...Pe){return(0,J.U)(Pe)(this)}toPromise(Pe){return new(Pe=me(Pe))((et,Le)=>{let it;this.subscribe(Ne=>it=Ne,Ne=>Le(Ne),()=>et(it))})}}return ue.create=$e=>new ue($e),ue})();function me(ue){var $e;return null!==($e=ue??ae.config.Promise)&&void 0!==$e?$e:Promise}},8645:(_t,xe,U)=>{U.d(xe,{x:()=>pe});var O=U(5592),c=U(7394);const J=(0,U(2306).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=U(9039),Ie=U(1441);let pe=(()=>{class me extends O.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ue=new Se(this,this);return ue.operator=q,ue}_throwIfClosed(){if(this.closed)throw new J}next(q){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(q)}})}error(q){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ue}=this;for(;ue.length;)ue.shift().error(q)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ue,isStopped:$e,observers:Pe}=this;return ue||$e?c.Lc:(this.currentObservers=null,Pe.push(q),new c.w0(()=>{this.currentObservers=null,(0,ae.P)(Pe,q)}))}_checkFinalizedStatuses(q){const{hasError:ue,thrownError:$e,isStopped:Pe}=this;ue?q.error($e):Pe&&q.complete()}asObservable(){const q=new O.y;return q.source=this,q}}return me.create=(H,q)=>new Se(H,q),me})();class Se extends pe{constructor(H,q){super(),this.destination=H,this.source=q}next(H){var q,ue;null===(ue=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ue||ue.call(q,H)}error(H){var q,ue;null===(ue=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ue||ue.call(q,H)}complete(){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===q||q.call(H)}_subscribe(H){var q,ue;return null!==(ue=null===(q=this.source)||void 0===q?void 0:q.subscribe(H))&&void 0!==ue?ue:c.Lc}}},305:(_t,xe,U)=>{U.d(xe,{Hp:()=>Le,Lv:()=>ue});var O=U(4674),c=U(7394),k=U(2653),J=U(3894),ae=U(2420);const Ie=me("C",void 0,void 0);function me(oe,Me,he){return{kind:oe,value:Me,error:he}}var H=U(7599),q=U(1441);class ue extends c.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,c.Nn)(Me)&&Me.add(this)):this.destination=mt}static create(Me,he,De){return new Le(Me,he,De)}next(Me){this.isStopped?vt(function Se(oe){return me("N",oe,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?vt(function pe(oe){return me("E",void 0,oe)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?vt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Pe(oe,Me){return $e.call(oe,Me)}class et{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:he}=this;if(he.next)try{he.next(Me)}catch(De){it(De)}}error(Me){const{partialObserver:he}=this;if(he.error)try{he.error(Me)}catch(De){it(De)}else it(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(he){it(he)}}}class Le extends ue{constructor(Me,he,De){let We;if(super(),(0,O.m)(Me)||!Me)We={next:Me??void 0,error:he??void 0,complete:De??void 0};else{let G;this&&k.config.useDeprecatedNextContext?(G=Object.create(Me),G.unsubscribe=()=>this.unsubscribe(),We={next:Me.next&&Pe(Me.next,G),error:Me.error&&Pe(Me.error,G),complete:Me.complete&&Pe(Me.complete,G)}):We=Me}this.destination=new et(We)}}function it(oe){k.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(oe):(0,J.h)(oe)}function vt(oe,Me){const{onStoppedNotification:he}=k.config;he&&H.z.setTimeout(()=>he(oe,Me))}const mt={closed:!0,next:ae.Z,error:function Ne(oe){throw oe},complete:ae.Z}},7394:(_t,xe,U)=>{U.d(xe,{Lc:()=>Ie,w0:()=>ae,Nn:()=>pe});var O=U(4674);const k=(0,U(2306).d)(me=>function(q){me(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ue,$e)=>`${$e+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var J=U(9039);class ae{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Pe of q)Pe.remove(this);else q.remove(this);const{initialTeardown:ue}=this;if((0,O.m)(ue))try{ue()}catch(Pe){H=Pe instanceof k?Pe.errors:[Pe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Pe of $e)try{Se(Pe)}catch(et){H=H??[],et instanceof k?H=[...H,...et.errors]:H.push(et)}}if(H)throw new k(H)}}add(H){var q;if(H&&H!==this)if(this.closed)Se(H);else{if(H instanceof ae){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(H)}}_hasParent(H){const{_parentage:q}=this;return q===H||Array.isArray(q)&&q.includes(H)}_addParent(H){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(H),q):q?[q,H]:H}_removeParent(H){const{_parentage:q}=this;q===H?this._parentage=null:Array.isArray(q)&&(0,J.P)(q,H)}remove(H){const{_finalizers:q}=this;q&&(0,J.P)(q,H),H instanceof ae&&H._removeParent(this)}}ae.EMPTY=(()=>{const me=new ae;return me.closed=!0,me})();const Ie=ae.EMPTY;function pe(me){return me instanceof ae||me&&"closed"in me&&(0,O.m)(me.remove)&&(0,O.m)(me.add)&&(0,O.m)(me.unsubscribe)}function Se(me){(0,O.m)(me)?me():me.unsubscribe()}},2653:(_t,xe,U)=>{U.d(xe,{config:()=>O});const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(_t,xe,U)=>{U.d(xe,{E:()=>c});const c=new(U(5592).y)(ae=>ae.complete())},2459:(_t,xe,U)=>{U.d(xe,{D:()=>Me});var O=U(4829),c=U(3093),k=U(5137),Ie=U(5592),Se=U(4971),me=U(4674),H=U(7103);function ue(he,De){if(!he)throw new Error("Iterable cannot be null");return new Ie.y(We=>{(0,H.f)(We,De,()=>{const G=he[Symbol.asyncIterator]();(0,H.f)(We,De,()=>{G.next().then(Ce=>{Ce.done?We.complete():We.next(Ce.value)})},0,!0)})})}var $e=U(8382),Pe=U(4026),et=U(4266),Le=U(3664),it=U(5726),Ne=U(9853),vt=U(541);function Me(he,De){return De?function oe(he,De){if(null!=he){if((0,$e.c)(he))return function J(he,De){return(0,O.Xf)(he).pipe((0,k.R)(De),(0,c.Q)(De))}(he,De);if((0,et.z)(he))return function pe(he,De){return new Ie.y(We=>{let G=0;return De.schedule(function(){G===he.length?We.complete():(We.next(he[G++]),We.closed||this.schedule())})})}(he,De);if((0,Pe.t)(he))return function ae(he,De){return(0,O.Xf)(he).pipe((0,k.R)(De),(0,c.Q)(De))}(he,De);if((0,it.D)(he))return ue(he,De);if((0,Le.T)(he))return function q(he,De){return new Ie.y(We=>{let G;return(0,H.f)(We,De,()=>{G=he[Se.h](),(0,H.f)(We,De,()=>{let Ce,nt;try{({value:Ce,done:nt}=G.next())}catch(ot){return void We.error(ot)}nt?We.complete():We.next(Ce)},0,!0)}),()=>(0,me.m)(G?.return)&&G.return()})}(he,De);if((0,vt.L)(he))return function mt(he,De){return ue((0,vt.Q)(he),De)}(he,De)}throw(0,Ne.z)(he)}(he,De):(0,O.Xf)(he)}},4829:(_t,xe,U)=>{U.d(xe,{Xf:()=>$e});var O=U(7582),c=U(4266),k=U(4026),J=U(5592),ae=U(8382),Ie=U(5726),pe=U(9853),Se=U(3664),me=U(541),H=U(4674),q=U(3894),ue=U(4850);function $e(oe){if(oe instanceof J.y)return oe;if(null!=oe){if((0,ae.c)(oe))return function Pe(oe){return new J.y(Me=>{const he=oe[ue.L]();if((0,H.m)(he.subscribe))return he.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,c.z)(oe))return function et(oe){return new J.y(Me=>{for(let he=0;he<oe.length&&!Me.closed;he++)Me.next(oe[he]);Me.complete()})}(oe);if((0,k.t)(oe))return function Le(oe){return new J.y(Me=>{oe.then(he=>{Me.closed||(Me.next(he),Me.complete())},he=>Me.error(he)).then(null,q.h)})}(oe);if((0,Ie.D)(oe))return Ne(oe);if((0,Se.T)(oe))return function it(oe){return new J.y(Me=>{for(const he of oe)if(Me.next(he),Me.closed)return;Me.complete()})}(oe);if((0,me.L)(oe))return function vt(oe){return Ne((0,me.Q)(oe))}(oe)}throw(0,pe.z)(oe)}function Ne(oe){return new J.y(Me=>{(function mt(oe,Me){var he,De,We,G;return(0,O.mG)(this,void 0,void 0,function*(){try{for(he=(0,O.KL)(oe);!(De=yield he.next()).done;)if(Me.next(De.value),Me.closed)return}catch(Ce){We={error:Ce}}finally{try{De&&!De.done&&(G=he.return)&&(yield G.call(he))}finally{if(We)throw We.error}}Me.complete()})})(oe,Me).catch(he=>Me.error(he))})}},3019:(_t,xe,U)=>{U.d(xe,{T:()=>Ie});var O=U(7537),c=U(4829),k=U(6232),J=U(4564),ae=U(2459);function Ie(...pe){const Se=(0,J.yG)(pe),me=(0,J._6)(pe,1/0),H=pe;return H.length?1===H.length?(0,c.Xf)(H[0]):(0,O.J)(me)((0,ae.D)(H,Se)):k.E}},2096:(_t,xe,U)=>{U.d(xe,{of:()=>k});var O=U(4564),c=U(2459);function k(...J){const ae=(0,O.yG)(J);return(0,c.D)(J,ae)}},8251:(_t,xe,U)=>{U.d(xe,{x:()=>c});var O=U(305);function c(J,ae,Ie,pe,Se){return new k(J,ae,Ie,pe,Se)}class k extends O.Lv{constructor(ae,Ie,pe,Se,me,H){super(ae),this.onFinalize=me,this.shouldUnsubscribe=H,this._next=Ie?function(q){try{Ie(q)}catch(ue){ae.error(ue)}}:super._next,this._error=Se?function(q){try{Se(q)}catch(ue){ae.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(q){ae.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},3997:(_t,xe,U)=>{U.d(xe,{x:()=>J});var O=U(2737),c=U(9360),k=U(8251);function J(Ie,pe=O.y){return Ie=Ie??ae,(0,c.e)((Se,me)=>{let H,q=!0;Se.subscribe((0,k.x)(me,ue=>{const $e=pe(ue);(q||!Ie(H,$e))&&(q=!1,H=$e,me.next(ue))}))})}function ae(Ie,pe){return Ie===pe}},7398:(_t,xe,U)=>{U.d(xe,{U:()=>k});var O=U(9360),c=U(8251);function k(J,ae){return(0,O.e)((Ie,pe)=>{let Se=0;Ie.subscribe((0,c.x)(pe,me=>{pe.next(J.call(ae,me,Se++))}))})}},7537:(_t,xe,U)=>{U.d(xe,{J:()=>k});var O=U(1631),c=U(2737);function k(J=1/0){return(0,O.z)(c.y,J)}},1631:(_t,xe,U)=>{U.d(xe,{z:()=>Se});var O=U(7398),c=U(4829),k=U(9360),J=U(7103),ae=U(8251),pe=U(4674);function Se(me,H,q=1/0){return(0,pe.m)(H)?Se((ue,$e)=>(0,O.U)((Pe,et)=>H(ue,Pe,$e,et))((0,c.Xf)(me(ue,$e))),q):("number"==typeof H&&(q=H),(0,k.e)((ue,$e)=>function Ie(me,H,q,ue,$e,Pe,et,Le){const it=[];let Ne=0,vt=0,mt=!1;const oe=()=>{mt&&!it.length&&!Ne&&H.complete()},Me=De=>Ne<ue?he(De):it.push(De),he=De=>{Pe&&H.next(De),Ne++;let We=!1;(0,c.Xf)(q(De,vt++)).subscribe((0,ae.x)(H,G=>{$e?.(G),Pe?Me(G):H.next(G)},()=>{We=!0},void 0,()=>{if(We)try{for(Ne--;it.length&&Ne<ue;){const G=it.shift();et?(0,J.f)(H,et,()=>he(G)):he(G)}oe()}catch(G){H.error(G)}}))};return me.subscribe((0,ae.x)(H,Me,()=>{mt=!0,oe()})),()=>{Le?.()}}(ue,$e,me,q)))}},3093:(_t,xe,U)=>{U.d(xe,{Q:()=>J});var O=U(7103),c=U(9360),k=U(8251);function J(ae,Ie=0){return(0,c.e)((pe,Se)=>{pe.subscribe((0,k.x)(Se,me=>(0,O.f)(Se,ae,()=>Se.next(me),Ie),()=>(0,O.f)(Se,ae,()=>Se.complete(),Ie),me=>(0,O.f)(Se,ae,()=>Se.error(me),Ie)))})}},3020:(_t,xe,U)=>{U.d(xe,{B:()=>ae});var O=U(4829),c=U(8645),k=U(305),J=U(9360);function ae(pe={}){const{connector:Se=(()=>new c.x),resetOnError:me=!0,resetOnComplete:H=!0,resetOnRefCountZero:q=!0}=pe;return ue=>{let $e,Pe,et,Le=0,it=!1,Ne=!1;const vt=()=>{Pe?.unsubscribe(),Pe=void 0},mt=()=>{vt(),$e=et=void 0,it=Ne=!1},oe=()=>{const Me=$e;mt(),Me?.unsubscribe()};return(0,J.e)((Me,he)=>{Le++,!Ne&&!it&&vt();const De=et=et??Se();he.add(()=>{Le--,0===Le&&!Ne&&!it&&(Pe=Ie(oe,q))}),De.subscribe(he),!$e&&Le>0&&($e=new k.Hp({next:We=>De.next(We),error:We=>{Ne=!0,vt(),Pe=Ie(mt,me,We),De.error(We)},complete:()=>{it=!0,vt(),Pe=Ie(mt,H),De.complete()}}),(0,O.Xf)(Me).subscribe($e))})(ue)}}function Ie(pe,Se,...me){if(!0===Se)return void pe();if(!1===Se)return;const H=new k.Hp({next:()=>{H.unsubscribe(),pe()}});return(0,O.Xf)(Se(...me)).subscribe(H)}},5137:(_t,xe,U)=>{U.d(xe,{R:()=>c});var O=U(9360);function c(k,J=0){return(0,O.e)((ae,Ie)=>{Ie.add(k.schedule(()=>ae.subscribe(Ie),J))})}},4664:(_t,xe,U)=>{U.d(xe,{w:()=>J});var O=U(4829),c=U(9360),k=U(8251);function J(ae,Ie){return(0,c.e)((pe,Se)=>{let me=null,H=0,q=!1;const ue=()=>q&&!me&&Se.complete();pe.subscribe((0,k.x)(Se,$e=>{me?.unsubscribe();let Pe=0;const et=H++;(0,O.Xf)(ae($e,et)).subscribe(me=(0,k.x)(Se,Le=>Se.next(Ie?Ie($e,Le,et,Pe++):Le),()=>{me=null,ue()}))},()=>{q=!0,ue()}))})}},9397:(_t,xe,U)=>{U.d(xe,{b:()=>ae});var O=U(4674),c=U(9360),k=U(8251),J=U(2737);function ae(Ie,pe,Se){const me=(0,O.m)(Ie)||pe||Se?{next:Ie,error:pe,complete:Se}:Ie;return me?(0,c.e)((H,q)=>{var ue;null===(ue=me.subscribe)||void 0===ue||ue.call(me);let $e=!0;H.subscribe((0,k.x)(q,Pe=>{var et;null===(et=me.next)||void 0===et||et.call(me,Pe),q.next(Pe)},()=>{var Pe;$e=!1,null===(Pe=me.complete)||void 0===Pe||Pe.call(me),q.complete()},Pe=>{var et;$e=!1,null===(et=me.error)||void 0===et||et.call(me,Pe),q.error(Pe)},()=>{var Pe,et;$e&&(null===(Pe=me.unsubscribe)||void 0===Pe||Pe.call(me)),null===(et=me.finalize)||void 0===et||et.call(me)}))}):J.y}},1954:(_t,xe,U)=>{U.d(xe,{o:()=>ae});var O=U(7394);class c extends O.w0{constructor(pe,Se){super()}schedule(pe,Se=0){return this}}const k={setInterval(Ie,pe,...Se){const{delegate:me}=k;return me?.setInterval?me.setInterval(Ie,pe,...Se):setInterval(Ie,pe,...Se)},clearInterval(Ie){const{delegate:pe}=k;return(pe?.clearInterval||clearInterval)(Ie)},delegate:void 0};var J=U(9039);class ae extends c{constructor(pe,Se){super(pe,Se),this.scheduler=pe,this.work=Se,this.pending=!1}schedule(pe,Se=0){var me;if(this.closed)return this;this.state=pe;const H=this.id,q=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(q,H,Se)),this.pending=!0,this.delay=Se,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(q,this.id,Se),this}requestAsyncId(pe,Se,me=0){return k.setInterval(pe.flush.bind(pe,this),me)}recycleAsyncId(pe,Se,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Se;null!=Se&&k.clearInterval(Se)}execute(pe,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(pe,Se);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Se){let H,me=!1;try{this.work(pe)}catch(q){me=!0,H=q||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Se}=this,{actions:me}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(me,this),null!=pe&&(this.id=this.recycleAsyncId(Se,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(_t,xe,U)=>{U.d(xe,{v:()=>k});var O=U(4552);class c{constructor(ae,Ie=c.now){this.schedulerActionCtor=ae,this.now=Ie}schedule(ae,Ie=0,pe){return new this.schedulerActionCtor(this,ae).schedule(pe,Ie)}}c.now=O.l.now;class k extends c{constructor(ae,Ie=c.now){super(ae,Ie),this.actions=[],this._active=!1}flush(ae){const{actions:Ie}=this;if(this._active)return void Ie.push(ae);let pe;this._active=!0;do{if(pe=ae.execute(ae.state,ae.delay))break}while(ae=Ie.shift());if(this._active=!1,pe){for(;ae=Ie.shift();)ae.unsubscribe();throw pe}}}},6321:(_t,xe,U)=>{U.d(xe,{z:()=>k});var O=U(1954);const k=new(U(2631).v)(O.o)},4552:(_t,xe,U)=>{U.d(xe,{l:()=>O});const O={now:()=>(O.delegate||Date).now(),delegate:void 0}},7599:(_t,xe,U)=>{U.d(xe,{z:()=>O});const O={setTimeout(c,k,...J){const{delegate:ae}=O;return ae?.setTimeout?ae.setTimeout(c,k,...J):setTimeout(c,k,...J)},clearTimeout(c){const{delegate:k}=O;return(k?.clearTimeout||clearTimeout)(c)},delegate:void 0}},4971:(_t,xe,U)=>{U.d(xe,{h:()=>c});const c=function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(_t,xe,U)=>{U.d(xe,{L:()=>O});const O="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(_t,xe,U)=>{U.d(xe,{_6:()=>Ie,jO:()=>J,yG:()=>ae});var O=U(4674);function k(pe){return pe[pe.length-1]}function J(pe){return(0,O.m)(k(pe))?pe.pop():void 0}function ae(pe){return function c(pe){return pe&&(0,O.m)(pe.schedule)}(k(pe))?pe.pop():void 0}function Ie(pe,Se){return"number"==typeof k(pe)?pe.pop():Se}},9039:(_t,xe,U)=>{function O(c,k){if(c){const J=c.indexOf(k);0<=J&&c.splice(J,1)}}U.d(xe,{P:()=>O})},2306:(_t,xe,U)=>{function O(c){const J=c(ae=>{Error.call(ae),ae.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}U.d(xe,{d:()=>O})},1441:(_t,xe,U)=>{U.d(xe,{O:()=>J,x:()=>k});var O=U(2653);let c=null;function k(ae){if(O.config.useDeprecatedSynchronousErrorHandling){const Ie=!c;if(Ie&&(c={errorThrown:!1,error:null}),ae(),Ie){const{errorThrown:pe,error:Se}=c;if(c=null,pe)throw Se}}else ae()}function J(ae){O.config.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=ae)}},7103:(_t,xe,U)=>{function O(c,k,J,ae=0,Ie=!1){const pe=k.schedule(function(){J(),Ie?c.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(c.add(pe),!Ie)return pe}U.d(xe,{f:()=>O})},2737:(_t,xe,U)=>{function O(c){return c}U.d(xe,{y:()=>O})},4266:(_t,xe,U)=>{U.d(xe,{z:()=>O});const O=c=>c&&"number"==typeof c.length&&"function"!=typeof c},5726:(_t,xe,U)=>{U.d(xe,{D:()=>c});var O=U(4674);function c(k){return Symbol.asyncIterator&&(0,O.m)(k?.[Symbol.asyncIterator])}},4674:(_t,xe,U)=>{function O(c){return"function"==typeof c}U.d(xe,{m:()=>O})},8382:(_t,xe,U)=>{U.d(xe,{c:()=>k});var O=U(4850),c=U(4674);function k(J){return(0,c.m)(J[O.L])}},3664:(_t,xe,U)=>{U.d(xe,{T:()=>k});var O=U(4971),c=U(4674);function k(J){return(0,c.m)(J?.[O.h])}},4026:(_t,xe,U)=>{U.d(xe,{t:()=>c});var O=U(4674);function c(k){return(0,O.m)(k?.then)}},541:(_t,xe,U)=>{U.d(xe,{L:()=>J,Q:()=>k});var O=U(7582),c=U(4674);function k(ae){return(0,O.FC)(this,arguments,function*(){const pe=ae.getReader();try{for(;;){const{value:Se,done:me}=yield(0,O.qq)(pe.read());if(me)return yield(0,O.qq)(void 0);yield yield(0,O.qq)(Se)}}finally{pe.releaseLock()}})}function J(ae){return(0,c.m)(ae?.getReader)}},9360:(_t,xe,U)=>{U.d(xe,{A:()=>c,e:()=>k});var O=U(4674);function c(J){return(0,O.m)(J?.lift)}function k(J){return ae=>{if(c(ae))return ae.lift(function(Ie){try{return J(Ie,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(_t,xe,U)=>{function O(){}U.d(xe,{Z:()=>O})},8407:(_t,xe,U)=>{U.d(xe,{U:()=>k,z:()=>c});var O=U(2737);function c(...J){return k(J)}function k(J){return 0===J.length?O.y:1===J.length?J[0]:function(Ie){return J.reduce((pe,Se)=>Se(pe),Ie)}}},3894:(_t,xe,U)=>{U.d(xe,{h:()=>k});var O=U(2653),c=U(7599);function k(J){c.z.setTimeout(()=>{const{onUnhandledError:ae}=O.config;if(!ae)throw J;ae(J)})}},9853:(_t,xe,U)=>{function O(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(xe,{z:()=>O})},5879:(_t,xe,U)=>{U.d(xe,{$8M:()=>Kl,$WT:()=>Ga,$Z:()=>ZE,AFp:()=>DI,ALo:()=>xm,AaK:()=>ue,AsE:()=>W1,BQk:()=>gm,CHM:()=>da,CRH:()=>be,EJc:()=>Iw,EpF:()=>yC,F4k:()=>Yv,FYo:()=>cf,FiY:()=>fe,GfV:()=>Iv,Gpc:()=>et,HDt:()=>Tw,JOm:()=>Pd,KtG:()=>As,LFG:()=>tt,LSH:()=>kg,Lbi:()=>mv,Lck:()=>ZO,MAs:()=>_o,MGl:()=>Pt,MMx:()=>RT,MR2:()=>TE,NdJ:()=>EC,O4$:()=>ss,Ojb:()=>II,OlP:()=>On,Oqu:()=>Ec,P3R:()=>PM,PXZ:()=>Pw,Q6J:()=>Bs,QGY:()=>Kv,Qsj:()=>Dv,R0b:()=>Yr,RDi:()=>H2,Rgc:()=>Yf,SBq:()=>bv,Sil:()=>IN,Suo:()=>uA,TTD:()=>Pl,TgZ:()=>kf,VuI:()=>Eo,WLB:()=>HT,X6Q:()=>Zy,XFs:()=>Rt,Xpm:()=>ci,Xq5:()=>Bv,Xts:()=>tf,Y36:()=>wf,YKP:()=>py,YNc:()=>pC,Yjl:()=>Yc,Yz7:()=>Ct,Z0I:()=>Qn,ZZ4:()=>Hw,_Bn:()=>KC,_UZ:()=>mC,_c5:()=>UA,_uU:()=>Z1,aQg:()=>Jy,c2e:()=>oi,cJS:()=>kn,cg1:()=>kC,dDg:()=>AA,dqk:()=>Ut,eFA:()=>Rw,eJc:()=>hw,ekj:()=>yc,eoX:()=>Fy,f3M:()=>ct,g9A:()=>SE,h0i:()=>Pa,hGG:()=>zN,hij:()=>ry,iGM:()=>ki,ifc:()=>Bi,ip1:()=>Py,jDz:()=>kT,kL8:()=>aT,kcU:()=>vi,lG2:()=>qa,lcZ:()=>YT,lqb:()=>ii,lri:()=>ip,n5z:()=>ao,oAB:()=>Kc,oxw:()=>Eu,q4F:()=>PI,qFp:()=>eb,qLn:()=>mu,qOj:()=>om,qZA:()=>qv,rWj:()=>Fm,rg0:()=>L_,s9C:()=>_m,sBO:()=>FN,s_b:()=>yy,soG:()=>nh,tb:()=>Vm,tp0:()=>ut,uIk:()=>Hv,vHH:()=>oe,vpe:()=>ba,wAp:()=>Hf,xi3:()=>QT,xp6:()=>HI,ynx:()=>Gv,z2F:()=>sh,zSh:()=>Ug,zs3:()=>ds});var O=U(8645),c=U(7394),k=U(5592),J=U(3019),ae=U(5619),Ie=U(2096),pe=U(3020),Se=U(4664),me=U(3997);function H(s){for(let o in s)if(s[o]===H)return o;throw Error("Could not find renamed property on target object.")}function q(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function $e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Pe=H({__forward_ref__:H});function et(s){return s.__forward_ref__=et,s.toString=function(){return ue(this())},s}function Le(s){return it(s)?s():s}function it(s){return"function"==typeof s&&s.hasOwnProperty(Pe)&&s.__forward_ref__===et}function Ne(s){return s&&!!s.\u0275providers}const mt="https://g.co/ng/security#xss";class oe extends Error{constructor(o,u){super(function Me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function nt(s,o){throw new oe(-201,!1)}function Qe(s,o){null==s&&function Ke(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ct(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function kn(s){return{providers:s.providers||[],imports:s.imports||[]}}function bn(s){return fn(s,Ln)||fn(s,Ii)}function Qn(s){return null!==bn(s)}function fn(s,o){return s.hasOwnProperty(o)?s[o]:null}function rr(s){return s&&(s.hasOwnProperty(Bn)||s.hasOwnProperty(jr))?s[Bn]:null}const Ln=H({\u0275prov:H}),Bn=H({\u0275inj:H}),Ii=H({ngInjectableDef:H}),jr=H({ngInjectorDef:H});var Rt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(Rt||{});let pn;function gt(s){const o=pn;return pn=s,o}function br(s,o,u){const d=bn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Rt.Optional?null:void 0!==o?o:void nt(ue(s))}const Ut=globalThis,je={},ht="__NG_DI_FLAG__",wt="ngTempTokenPath",W=/\n/gm,V="__source";let B;function re(s){const o=B;return B=s,o}function ke(s,o=Rt.Default){if(void 0===B)throw new oe(-203,!1);return null===B?br(s,void 0,o):B.get(s,o&Rt.Optional?null:void 0,o)}function tt(s,o=Rt.Default){return(function Lt(){return pn}()||ke)(Le(s),o)}function ct(s,o=Rt.Default){return tt(s,_n(o))}function _n(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ft(s){const o=[];for(let u=0;u<s.length;u++){const d=Le(s[u]);if(Array.isArray(d)){if(0===d.length)throw new oe(900,!1);let h,p=Rt.Default;for(let y=0;y<d.length;y++){const E=d[y],I=Yt(E);"number"==typeof I?-1===I?h=E.token:p|=I:h=E}o.push(tt(h,p))}else o.push(tt(d))}return o}function Dn(s,o){return s[ht]=o,s.prototype[ht]=o,s}function Yt(s){return s[ht]}function Ks(s){return{toString:s}.toString()}var So=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(So||{}),Bi=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Bi||{});const $i={},sn=[],Ba=H({\u0275cmp:H}),$a=H({\u0275dir:H}),xu=H({\u0275pipe:H}),Mu=H({\u0275mod:H}),Cs=H({\u0275fac:H}),vl=H({__NG_ELEMENT_ID__:H}),Pu=H({__NG_ENV_ID__:H});function yl(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}function ea(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],y=u[d++],E=u[d++];s.setAttribute(o,y,E,p)}else{const p=h,y=u[++d];ja(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Ys(s){return 3===s||4===s||6===s}function ja(s){return 64===s.charCodeAt(0)}function Ha(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||El(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function El(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const Un="ng-template";function Ch(s,o,u){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(u&&"class"===p&&-1!==yl(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function zc(s){return 4===s.type&&s.value!==Un}function Za(s,o,u){return o===(4!==s.type||u?s.value:Un)}function Kp(s,o,u){let d=4;const h=s.attrs||[],p=function Wa(s){for(let o=0;o<s.length;o++)if(Ys(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!Za(s,I,u)||""===I&&1===o.length){if(Ai(d))return!1;y=!0}}else{const S=8&d?I:o[++E];if(8&d&&null!==s.attrs){if(!Ch(s.attrs,S,u)){if(Ai(d))return!1;y=!0}continue}const j=Ou(8&d?"class":I,h,zc(s),u);if(-1===j){if(Ai(d))return!1;y=!0;continue}if(""!==S){let X;X=j>p?"":h[j+1].toLowerCase();const se=8&d?X:null;if(se&&-1!==yl(se,S,0)||2&d&&S!==X){if(Ai(d))return!1;y=!0}}}}else{if(!y&&!Ai(d)&&!Ai(I))return!1;if(y&&Ai(I))continue;y=!1,d=I|1&d}}return Ai(d)||y}function Ai(s){return 0==(1&s)}function Ou(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Qp(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function za(s,o,u=!1){for(let d=0;d<o.length;d++)if(Kp(s,o[d],u))return!0;return!1}function wl(s,o){return s?":not("+o.trim()+")":o}function Wc(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const E=s[++u];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Ai(y)&&(o+=wl(p,h),h=""),d=y,p=p||!Ai(d);u++}return""!==h&&(o+=wl(p,h)),o}function ci(s){return Ks(()=>{const o=Xp(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===So.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Bi.Emulated,styles:s.styles||sn,_:null,schemas:s.schemas||null,tView:null,id:""};Qc(u);const d=s.dependencies;return u.directiveDefs=ta(d,!1),u.pipeDefs=ta(d,!0),u.id=function Ka(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of u)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function bl(s){return Jt(s)||fr(s)}function Gc(s){return null!==s}function Kc(s){return Ks(()=>({type:s.type,bootstrap:s.bootstrap||sn,declarations:s.declarations||sn,imports:s.imports||sn,exports:s.exports||sn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Dl(s,o){if(null==s)return $i;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}function qa(s){return Ks(()=>{const o=Xp(s);return Qc(o),o})}function Yc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[Ba]||null}function fr(s){return s[$a]||null}function kr(s){return s[xu]||null}function Ga(s){const o=Jt(s)||fr(s)||kr(s);return null!==o&&o.standalone}function Lr(s,o){const u=s[Mu]||null;if(!u&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return u}function Xp(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||$i,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||sn,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dl(s.inputs,o),outputs:Dl(s.outputs)}}function Qc(s){s.features?.forEach(o=>o(s))}function ta(s,o){if(!s)return null;const u=o?kr:bl;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(Gc)}const Xn=0,rt=1,$t=2,Pn=3,es=4,Qs=5,Dr=6,na=7,ir=8,ws=9,Xs=10,At=11,ts=12,wh=13,Js=14,zn=15,Ya=16,Si=17,di=18,Po=19,Il=20,Oo=21,bs=22,Qa=23,Ds=24,Gt=25,Xc=1,Xa=2,hi=7,eo=9,gr=11;function qr(s){return Array.isArray(s)&&"object"==typeof s[Xc]}function ti(s){return Array.isArray(s)&&!0===s[Xc]}function ed(s){return 0!=(4&s.flags)}function to(s){return s.componentOffset>-1}function fi(s){return 1==(1&s.flags)}function pi(s){return!!s.template}function eu(s){return 0!=(512&s[$t])}function Is(s,o){return s.hasOwnProperty(Cs)?s[Cs]:null}let Vn=null,ku=!1;function gi(s){const o=Vn;return Vn=s,o}const ia={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function id(s){if(!Uu(s)||s.dirty){if(!s.producerMustRecompute(s)&&!og(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Lu(s){s.dirty=!0,function sg(s){if(void 0===s.liveConsumerNode)return;const o=ku;ku=!0;try{for(const u of s.liveConsumerNode)u.dirty||Lu(u)}finally{ku=o}}(s),s.consumerMarkedDirty?.(s)}function sd(s){return s&&(s.nextProducerIndex=0),gi(s)}function Jn(s,o){if(gi(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Uu(s))for(let u=s.nextProducerIndex;u<s.producerNode.length;u++)aa(s.producerNode[u],s.producerIndexOfThis[u]);for(let u=s.nextProducerIndex;u<s.producerNode.length;u++)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function og(s){no(s);for(let o=0;o<s.producerNode.length;o++){const u=s.producerNode[o],d=s.producerLastReadVersion[o];if(d!==u.version||(id(u),d!==u.version))return!0}return!1}function Fu(s){if(no(s),Uu(s))for(let o=0;o<s.producerNode.length;o++)aa(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function aa(s,o){if(function Al(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),no(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)aa(s.producerNode[d],s.producerIndexOfThis[d]);const u=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[u],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[u],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[o],h=s.liveConsumerNode[o];no(h),h.producerIndexOfThis[d]=o}}function Uu(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function no(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Mh=null;function L_(s){const o=gi(null);try{return s()}finally{gi(o)}}const ld=()=>{},F_={...ia,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:ld};class Rh{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Pl(){return Ol}function Ol(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ts),ju}function ju(){const s=ru(this),o=s?.current;if(o){const u=s.previous;if(u===$i)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ts(s,o,u,d){const h=this.declaredInputs[u],p=ru(s)||function cd(s,o){return s[nu]=o}(s,{previous:$i,current:null}),y=p.current||(p.current={}),E=p.previous,I=E[h];y[h]=new Rh(I&&I.currentValue,o,E===$i),s[d]=o}Pl.ngInherit=!0;const nu="__ngSimpleChanges__";function ru(s){return s[nu]||null}const ji=function(s,o,u){},kh="svg";function vn(s){for(;Array.isArray(s);)s=s[Xn];return s}function ro(s,o){return vn(o[s])}function Fr(s,o){return vn(o[s.index])}function hg(s,o){return s.data[o]}function Ro(s,o){return s[o]}function mi(s,o){const u=o[s];return qr(u)?u:u[Xn]}function ko(s,o){return null==o?null:s[o]}function fg(s){s[Si]=0}function la(s){1024&s[$t]||(s[$t]|=1024,mr(s,1))}function pg(s){1024&s[$t]&&(s[$t]&=-1025,mr(s,-1))}function mr(s,o){let u=s[Pn];if(null===u)return;u[Qs]+=o;let d=u;for(u=u[Pn];null!==u&&(1===o&&1===d[Qs]||-1===o&&0===d[Qs]);)u[Qs]+=o,d=u,u=u[Pn]}const kt={lFrame:Fo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _r(){return kt.bindingsEnabled}function Fe(){return kt.lFrame.lView}function on(){return kt.lFrame.tView}function da(s){return kt.lFrame.contextLView=s,s[ir]}function As(s){return kt.lFrame.contextLView=null,s}function Ur(){let s=Lh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Lh(){return kt.lFrame.currentTNode}function Hi(s,o){const u=kt.lFrame;u.currentTNode=s,u.isParent=o}function Fh(){return kt.lFrame.isParent}function gd(){kt.lFrame.isParent=!1}function Vr(){const s=kt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ha(){return kt.lFrame.bindingIndex++}function xs(s){const o=kt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function _d(s,o){const u=kt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Vl(o)}function Vl(s){kt.lFrame.currentDirectiveIndex=s}function yd(){return kt.lFrame.currentQueryIndex}function Bh(s){kt.lFrame.currentQueryIndex=s}function $h(s){const o=s[rt];return 2===o.type?o.declTNode:1===o.type?s[Dr]:null}function Ed(s,o,u){if(u&Rt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&Rt.Host||(h=$h(p),null===h||(p=p[Js],10&h.type))););if(null===h)return!1;o=h,s=p}const d=kt.lFrame=_i();return d.currentTNode=o,d.lView=s,!0}function Bl(s){const o=_i(),u=s[rt];kt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function _i(){const s=kt.lFrame,o=null===s?null:s.child;return null===o?Fo(s):o}function Fo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function $l(){const s=kt.lFrame;return kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const yn=$l;function bt(){const s=$l();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ri(){return kt.lFrame.selectedIndex}function is(s){kt.lFrame.selectedIndex=s}function qn(){const s=kt.lFrame;return hg(s.tView,s.selectedIndex)}function ss(){kt.lFrame.currentNamespace=kh}function vi(){!function Vt(){kt.lFrame.currentNamespace=null}()}let fa=!0;function pa(){return fa}function xi(s){fa=s}function er(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:N}=p;y&&(s.contentHooks??=[]).push(-u,y),E&&((s.contentHooks??=[]).push(u,E),(s.contentCheckHooks??=[]).push(u,E)),I&&(s.viewHooks??=[]).push(-u,I),S&&((s.viewHooks??=[]).push(u,S),(s.viewCheckHooks??=[]).push(u,S)),null!=N&&(s.destroyHooks??=[]).push(u,N)}}function bd(s,o,u){Hl(s,o,3,u)}function Uo(s,o,u,d){(3&s[$t])===u&&Hl(s,o,u,d)}function Dd(s,o){let u=s[$t];(3&u)===o&&(u&=8191,u+=1,s[$t]=u)}function Hl(s,o,u,d){const p=d??-1,y=o.length-1;let E=0;for(let I=void 0!==d?65535&s[Si]:0;I<y;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=d&&E>=d)break}else o[I]<0&&(s[Si]+=65536),(E<p||-1==p)&&(zl(s,u,o,I),s[Si]=(4294901760&s[Si])+I+2),I++}function Zl(s,o){ji(4,s,o);const u=gi(null);try{o.call(s)}finally{gi(u),ji(5,s,o)}}function zl(s,o,u,d){const h=u[d]<0,p=u[d+1],E=s[h?-u[d]:u[d]];h?s[$t]>>13<s[Si]>>16&&(3&s[$t])===o&&(s[$t]+=8192,Zl(E,p)):Zl(E,p)}const Gr=-1;class Wl{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function su(s){return s!==Gr}function ma(s){return 32767&s}function jn(s,o){let u=function as(s){return s>>16}(s),d=o;for(;u>0;)d=d[Js],u--;return d}let Bo=!0;function io(s){const o=Bo;return Bo=s,o}const Kr=255,ou=5;let Hh=0;const Pi={};function Oi(s,o){const u=Ps(s,o);if(-1!==u)return u;const d=o[rt];d.firstCreatePass&&(s.injectorIndex=o.length,or(d.data,s),or(o,null),or(d.blueprint,null));const h=au(s,o),p=s.injectorIndex;if(su(h)){const y=ma(h),E=jn(h,o),I=E[rt].data;for(let S=0;S<8;S++)o[p+S]=E[y+S]|I[y+S]}return o[p+8]=h,p}function or(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ps(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function au(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=zh(h),null===d)return Gr;if(u++,h=h[Js],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Gr}function so(s,o,u){!function Ms(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(vl)&&(d=u[vl]),null==d&&(d=u[vl]=Hh++);const h=d&Kr;o.data[s+(h>>ou)]|=1<<h}(s,o,u)}function Wu(s,o,u){if(u&Rt.Optional||void 0!==s)return s;nt()}function Gl(s,o,u,d){if(u&Rt.Optional&&void 0===d&&(d=null),!(u&(Rt.Self|Rt.Host))){const h=s[ws],p=gt(void 0);try{return h?h.get(o,d,u&Rt.Optional):br(o,d,u&Rt.Optional)}finally{gt(p)}}return Wu(d,0,u)}function oo(s,o,u,d=Rt.Default,h){if(null!==s){if(2048&o[$t]&&!(d&Rt.Self)){const y=function Zh(s,o,u,d,h){let p=s,y=o;for(;null!==p&&null!==y&&2048&y[$t]&&!(512&y[$t]);){const E=lu(p,y,u,d|Rt.Self,Pi);if(E!==Pi)return E;let I=p.parent;if(!I){const S=y[Il];if(S){const N=S.get(u,Pi,d);if(N!==Pi)return N}I=zh(y),y=y[Js]}p=I}return h}(s,o,u,d,Pi);if(y!==Pi)return y}const p=lu(s,o,u,d,Pi);if(p!==Pi)return p}return Gl(o,u,d,h)}function lu(s,o,u,d,h){const p=function Td(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(vl)?s[vl]:void 0;return"number"==typeof o?o>=0?o&Kr:$o:o}(u);if("function"==typeof p){if(!Ed(o,s,d))return d&Rt.Host?Wu(h,0,d):Gl(o,u,d,h);try{let y;if(y=p(d),null!=y||d&Rt.Optional)return y;nt()}finally{yn()}}else if("number"==typeof p){let y=null,E=Ps(s,o),I=Gr,S=d&Rt.Host?o[zn][Dr]:null;for((-1===E||d&Rt.SkipSelf)&&(I=-1===E?au(s,o):o[E+8],I!==Gr&&va(d,!1)?(y=o[rt],E=ma(I),o=jn(I,o)):E=-1);-1!==E;){const N=o[rt];if(_a(p,E,N.data)){const j=Z_(E,o,u,y,d,S);if(j!==Pi)return j}I=o[E+8],I!==Gr&&va(d,o[rt].data[E+8]===S)&&_a(p,E,o)?(y=N,E=ma(I),o=jn(I,o)):E=-1}}return h}function Z_(s,o,u,d,h,p){const y=o[rt],E=y.data[s+8],N=jt(E,y,u,null==d?to(E)&&Bo:d!=y&&0!=(3&E.type),h&Rt.Host&&p===E);return null!==N?Os(o,y,N,E):Pi}function jt(s,o,u,d,h){const p=s.providerIndexes,y=o.data,E=1048575&p,I=s.directiveStart,N=p>>20,X=h?E+N:s.directiveEnd;for(let se=d?E:E+N;se<X;se++){const Te=y[se];if(se<I&&u===Te||se>=I&&Te.type===u)return se}if(h){const se=y[I];if(se&&pi(se)&&se.type===u)return I}return null}function Os(s,o,u,d){let h=s[u];const p=o.data;if(function jh(s){return s instanceof Wl}(h)){const y=h;y.resolving&&function We(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new oe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}(p[u]));const E=io(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?gt(y.injectImpl):null;Ed(s,d,Rt.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function os(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Ol(o);(u.preOrderHooks??=[]).push(s,y),(u.preOrderCheckHooks??=[]).push(s,y)}h&&(u.preOrderHooks??=[]).push(0-s,h),p&&((u.preOrderHooks??=[]).push(s,p),(u.preOrderCheckHooks??=[]).push(s,p))}(u,p[u],o)}finally{null!==S&&gt(S),io(E),y.resolving=!1,yn()}}return h}function _a(s,o,u){return!!(u[o+(s>>ou)]&1<<s)}function va(s,o){return!(s&Rt.Self||s&Rt.Host&&o)}class vr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return oo(this._tNode,this._lView,o,_n(d),u)}}function $o(){return new vr(Ur(),Fe())}function ao(s){return Ks(()=>{const o=s.prototype.constructor,u=o[Cs]||uo(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Cs]||uo(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function uo(s){return it(s)?()=>{const o=uo(Le(s));return o&&o()}:Is(s)}function zh(s){const o=s[rt],u=o.type;return 2===u?o.declTNode:1===u?s[Dr]:null}function Kl(s){return function uu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(Ys(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(Ur(),s)}const cu="__parameters__";function x(s,o,u){return Ks(()=>{const d=function T(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(I,S,N){const j=I.hasOwnProperty(cu)?I[cu]:Object.defineProperty(I,cu,{value:[]})[cu];for(;j.length<=N;)j.push(null);return(j[N]=j[N]||[]).push(y),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function jo(s,o){s.forEach(u=>Array.isArray(u)?jo(u,o):o(u))}function tE(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Yl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ls(s,o,u){let d=Jl(s,o);return d>=0?s[1|d]=u:(d=~d,function z_(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function yg(s,o){const u=Jl(s,o);if(u>=0)return s[1|u]}function Jl(s,o){return function Wh(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const fe=Dn(x("Optional"),8),ut=Dn(x("SkipSelf"),4);function Cg(s){return 128==(128&s.flags)}var Pd=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Pd||{});const BD=/^>|^->|<!--|-->|--!>|<!-$/g,aE=/(<|>)/g,$D="\u200b$1\u200b";const wg=new Map;let uE=0;const ev="__ngContext__";function Ni(s,o){qr(o)?(s[ev]=o[Po],function X_(s){wg.set(s[Po],s)}(o)):s[ev]=o}let fE;function Ig(s,o){return fE(s,o)}function Tg(s){const o=s[Pn];return ti(o)?o[Pn]:o}function HD(s){return pE(s[ts])}function ZD(s){return pE(s[es])}function pE(s){for(;null!==s&&!ti(s);)s=s[es];return s}function Yu(s,o,u,d,h){if(null!=d){let p,y=!1;ti(d)?p=d:qr(d)&&(y=!0,d=d[Xn]);const E=vn(d);0===s&&null!==u?null==h?qD(o,u,E):Ho(o,u,E,h||null,!0):1===s&&null!==u?Ho(o,u,E,h||null,!0):2===s?function av(s,o,u){const d=iv(s,o);d&&function dM(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function eI(s,o,u,d,h){const p=u[hi];p!==vn(u)&&Yu(o,s,d,p,h);for(let E=gr;E<u.length;E++){const I=u[E];Rd(I[rt],I,s,o,d,p)}}(o,s,p,u,h)}}function ic(s,o){return s.createComment(function Q_(s){return s.replace(BD,o=>o.replace(aE,$D))}(o))}function sc(s,o,u){return s.createElement(o,u)}function WD(s,o){const u=s[eo],d=u.indexOf(o);pg(o),u.splice(d,1)}function nv(s,o){if(s.length<=gr)return;const u=gr+o,d=s[u];if(d){const h=d[Ya];null!==h&&h!==s&&WD(h,d),o>0&&(s[u-1][es]=d[es]);const p=Yl(s,gr+o);!function oM(s,o){Rd(s,o,o[At],2,null,null),o[Xn]=null,o[Dr]=null}(d[rt],d);const y=p[di];null!==y&&y.detachView(p[rt]),d[Pn]=null,d[es]=null,d[$t]&=-129}return d}function gE(s,o){if(!(256&o[$t])){const u=o[At];o[Qa]&&Fu(o[Qa]),o[Ds]&&Fu(o[Ds]),u.destroyNode&&Rd(s,o,u,3,null,null),function xg(s){let o=s[ts];if(!o)return mE(s[rt],s);for(;o;){let u=null;if(qr(o))u=o[ts];else{const d=o[gr];d&&(u=d)}if(!u){for(;o&&!o[es]&&o!==s;)qr(o)&&mE(o[rt],o),o=o[Pn];null===o&&(o=s),qr(o)&&mE(o[rt],o),u=o&&o[es]}o=u}}(o)}}function mE(s,o){if(!(256&o[$t])){o[$t]&=-129,o[$t]|=256,function cM(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Wl)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],I=p[y+1];ji(4,E,I);try{I.call(E)}finally{ji(5,E,I)}}else{ji(4,h,p);try{p.call(h)}finally{ji(5,h,p)}}}}}(s,o),function B2(s,o){const u=s.cleanup,d=o[na];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else u[p].call(d[u[p+1]]);null!==d&&(o[na]=null);const h=o[Oo];if(null!==h){o[Oo]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,o),1===o[rt].type&&o[At].destroy();const u=o[Ya];if(null!==u&&ti(o[Pn])){u!==o[Pn]&&WD(u,o);const d=o[di];null!==d&&d.detachView(s)}!function tM(s){wg.delete(s[Po])}(o)}}function rv(s,o,u){return function Mg(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[Xn];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Bi.None||p===Bi.Emulated)return null}return Fr(d,u)}}(s,o.parent,u)}function Ho(s,o,u,d,h){s.insertBefore(o,u,d,h)}function qD(s,o,u){s.appendChild(o,u)}function GD(s,o,u,d,h){null!==d?Ho(s,o,u,d,h):qD(s,o,u)}function iv(s,o){return s.parentNode(o)}let sv,lv,Pg,QD=function YD(s,o,u){return 40&s.type?Fr(s,u):null};function Od(s,o,u,d){const h=rv(s,d,o),p=o[At],E=function KD(s,o,u){return QD(s,o,u)}(d.parent||o[Dr],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)GD(p,h,u[I],E,!1);else GD(p,h,u,E,!1);void 0!==sv&&sv(p,d,o,u,h)}function Qh(s,o){if(null!==o){const u=o.type;if(3&u)return Fr(o,s);if(4&u)return ov(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Qh(s,d);{const h=s[o.index];return ti(h)?ov(-1,h):vn(h)}}if(32&u)return Ig(o,s)()||vn(s[o.index]);{const d=Nd(s,o);return null!==d?Array.isArray(d)?d[0]:Qh(Tg(s[zn]),d):Qh(s,o.next)}}return null}function Nd(s,o){return null!==o?s[zn][Dr].projection[o.projection]:null}function ov(s,o){const u=gr+s+1;if(u<o.length){const d=o[u],h=d[rt].firstChild;if(null!==h)return Qh(d,h)}return o[hi]}function _E(s,o,u,d,h,p,y){for(;null!=u;){const E=d[u.index],I=u.type;if(y&&0===o&&(E&&Ni(vn(E),d),u.flags|=2),32!=(32&u.flags))if(8&I)_E(s,o,u.child,d,h,p,!1),Yu(o,s,h,E,p);else if(32&I){const S=Ig(u,d);let N;for(;N=S();)Yu(o,s,h,N,p);Yu(o,s,h,E,p)}else 16&I?uv(s,o,d,u,h,p):Yu(o,s,h,E,p);u=y?u.projectionNext:u.next}}function Rd(s,o,u,d,h,p){_E(u,d,s.firstChild,o,h,p,!1)}function uv(s,o,u,d,h,p){const y=u[zn],I=y[Dr].projection[d.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Yu(o,s,h,I[S],p);else{let S=I;const N=y[Pn];Cg(d)&&(S.flags|=128),_E(s,o,S,N,h,p,!0)}}function tI(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function nI(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&ea(s,o,d),null!==h&&tI(s,o,h),null!==p&&function gM(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function H2(s){lv=s}function sI(s){return function yE(){if(void 0===Pg&&(Pg=null,Ut.trustedTypes))try{Pg=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pg}()?.createScriptURL(s)||s}class oI{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function oc(s){return s instanceof oI?s.changingThisBreaksApplicationSecurity:s}function ef(s,o){const u=function cv(s){return s instanceof oI&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${mt})`)}return u===o}const Og=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Rg=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Rg||{});function kg(s){const o=Lg();return o?o.sanitize(Rg.URL,s)||"":ef(s,"URL")?oc(s):function hv(s){return(s=String(s)).match(Og)?s:"unsafe:"+s}(he(s))}function gI(s){const o=Lg();if(o)return sI(o.sanitize(Rg.RESOURCE_URL,s)||"");if(ef(s,"ResourceURL"))return sI(oc(s));throw new oe(904,!1)}function PM(s,o,u){return function MM(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?gI:kg}(o,u)(s)}function Lg(){const s=Fe();return s&&s[Xs].sanitizer}class On{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ct({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tf=new On("ENVIRONMENT_INITIALIZER"),_I=new On("INJECTOR",-1),vI=new On("INJECTOR_DEF_TYPES");class Fg{get(o,u=je){if(u===je){const d=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw d.name="NullInjectorError",d}return u}}function TE(s){return{\u0275providers:s}}function OM(...s){return{\u0275providers:yI(0,s),\u0275fromNgModule:!0}}function yI(s,...o){const u=[],d=new Set;let h;const p=y=>{u.push(y)};return jo(o,y=>{const E=y;fv(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&EI(h,p),u}function EI(s,o){for(let u=0;u<s.length;u++){const{ngModule:d,providers:h}=s[u];AE(h,p=>{o(p,d)})}}function fv(s,o,u,d){if(!(s=Le(s)))return!1;let h=null,p=rr(s);const y=!p&&Jt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=rr(I),!p)return!1;h=I}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)fv(S,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;d.add(h);try{jo(p.imports,N=>{fv(N,o,u,d)&&(S||=[],S.push(N))})}finally{}void 0!==S&&EI(S,o)}if(!E){const S=Is(h)||(()=>new h);o({provide:h,useFactory:S,deps:sn},h),o({provide:vI,useValue:h,multi:!0},h),o({provide:tf,useValue:()=>tt(h),multi:!0},h)}const I=p.providers;if(null!=I&&!E){const S=s;AE(I,N=>{o(N,S)})}}}return h!==s&&void 0!==s.providers}function AE(s,o){for(let u of s)Ne(u)&&(u=u.\u0275providers),Array.isArray(u)?AE(u,o):o(u)}const Q2=H({provide:String,useValue:H});function CI(s){return null!==s&&"object"==typeof s&&Q2 in s}function nf(s){return"function"==typeof s}const Ug=new On("Set Injector scope."),ho={},LM={};let pv;function fu(){return void 0===pv&&(pv=new Fg),pv}class ii{}class gv extends ii{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pu(o,y=>this.processProvider(y)),this.records.set(_I,fo(void 0,this)),h.has("environment")&&this.records.set(ii,fo(void 0,this));const p=this.records.get(Ug);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(vI.multi,sn,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=re(this),d=gt(void 0);try{return o()}finally{re(u),gt(d)}}get(o,u=je,d=Rt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Pu))return o[Pu](this);d=_n(d);const p=re(this),y=gt(void 0);try{if(!(d&Rt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const S=function zi(s){return"function"==typeof s||"object"==typeof s&&s instanceof On}(o)&&bn(o);I=S&&this.injectableDefInScope(S)?fo(rf(o),ho):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(d&Rt.Self?fu():this.parent).get(o,u=d&Rt.Optional&&u===je?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[wt]=E[wt]||[]).unshift(ue(o)),p)throw E;return function zr(s,o,u,d){const h=s[wt];throw o[V]&&h.unshift(o[V]),s.message=function Jo(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(W,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[wt]=null,s}(E,o,"R3InjectorError",this.source)}throw E}finally{gt(y),re(p)}}resolveInjectorInitializers(){const o=re(this),u=gt(void 0);try{const h=this.get(tf.multi,sn,Rt.Self);for(const p of h)p()}finally{re(o),gt(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(ue(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(o){let u=nf(o=Le(o))?o:Le(o&&o.provide);const d=function UM(s){return CI(s)?fo(void 0,s.useValue):fo(wI(s),ho)}(o);if(nf(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=fo(void 0,ho,!0),h.factory=()=>Ft(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===ho&&(u.value=LM,u.value=u.factory()),"object"==typeof u.value&&u.value&&function bI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Le(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function rf(s){const o=bn(s),u=null!==o?o.factory:Is(s);if(null!==u)return u;if(s instanceof On)throw new oe(204,!1);if(s instanceof Function)return function FM(s){const o=s.length;if(o>0)throw function Ql(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}(o,"?"),new oe(204,!1);const u=function Nr(s){return s&&(s[Ln]||s[Ii])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new oe(204,!1)}function wI(s,o,u){let d;if(nf(s)){const h=Le(s);return Is(h)||rf(h)}if(CI(s))d=()=>Le(s.useValue);else if(function kM(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ft(s.deps||[]));else if(function RM(s){return!(!s||!s.useExisting)}(s))d=()=>tt(Le(s.useExisting));else{const h=Le(s&&(s.useClass||s.provide));if(!function ac(s){return!!s.deps}(s))return Is(h)||rf(h);d=()=>new h(...Ft(s.deps))}return d}function fo(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function pu(s,o){for(const u of s)Array.isArray(u)?pu(u,o):u&&Ne(u)?pu(u.\u0275providers,o):o(u)}const DI=new On("AppId",{providedIn:"root",factory:()=>J2}),J2="ng",SE=new On("Platform Initializer"),mv=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),II=new On("CSP nonce",{providedIn:"root",factory:()=>function Ld(){if(void 0!==lv)return lv;if(typeof document<"u")return document;throw new oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ME=(s,o,u)=>null;function gu(s,o,u=!1){return ME(s,o,u)}class nU{}class zM{}class iU{resolveComponentFactory(o){throw function rU(s){const o=Error(`No component factory found for ${ue(s)}.`);return o.ngComponent=s,o}(o)}}let wv=(()=>{class o{}return o.NULL=new iU,o})();function MI(){return Hg(Ur(),Fe())}function Hg(s,o){return new bv(Fr(s,o))}let bv=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=MI,o})();function sU(s){return s instanceof bv?s.nativeElement:s}class cf{}let Dv=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function df(){const s=Fe(),u=mi(Ur().index,s);return(qr(u)?u:s)[At]}(),o})(),Zg=(()=>{var s;class o{}return(s=o).\u0275prov=Ct({token:s,providedIn:"root",factory:()=>null}),o})();class Iv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const PI=new Iv("16.2.5"),zg={};function gf(s,o=null,u=null,d){const h=Wg(s,o,u,d);return h.resolveInjectorInitializers(),h}function Wg(s,o=null,u=null,d,h=new Set){const p=[u||sn,OM(s)];return d=d||("object"==typeof s?void 0:ue(s)),new gv(p,o||fu(),d||null,h)}let ds=(()=>{var s;class o{static create(d,h){if(Array.isArray(d))return gf({name:""},h,d,"");{const p=d.name??"";return gf({name:p},d.parent,d.providers,p)}}}return(s=o).THROW_IF_NOT_FOUND=je,s.NULL=new Fg,s.\u0275prov=Ct({token:s,providedIn:"any",factory:()=>tt(_I)}),s.__NG_ELEMENT_ID__=-1,o})();function LE(s){return s.ngOriginalError}class mu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&LE(o);for(;u&&LE(u);)u=LE(u);return u||null}}function FE(s){return o=>{setTimeout(s,void 0,o)}}const ba=class RI extends O.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),y=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=FE(p),h&&(h=FE(h)),y&&(y=FE(y)));const E=super.subscribe({next:h,error:p,complete:y});return o instanceof c.w0&&o.add(E),E}};function kI(...s){}class Yr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function cU(){const s="function"==typeof Ut.requestAnimationFrame;let o=Ut[s?"requestAnimationFrame":"setTimeout"],u=Ut[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const h=u[Zone.__symbol__("OriginalDelegate")];h&&(u=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function KM(s){const o=()=>{!function UE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Av(s),s.isCheckStableRunning=!0,LI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Av(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,E)=>{if(function cc(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(E))return u.invokeTask(h,p,y,E);try{return Sv(s),u.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),FI(s)}},onInvoke:(u,d,h,p,y,E,I)=>{try{return Sv(s),u.invoke(h,p,y,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),FI(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Av(s),LI(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yr.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Yr.isInAngularZone())throw new oe(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,hU,kI,kI);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const hU={};function LI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Av(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Sv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function FI(s){s._nesting--,LI(s)}class fU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const UI=new On("",{providedIn:"root",factory:_f});function _f(){const s=ct(Yr);let o=!0;const u=new k.y(h=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(o),h.complete()})}),d=new k.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{Yr.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,J.T)(u,d.pipe((0,pe.B)()))}function Xu(s){return s instanceof Function?s():s}let VE=(()=>{var s;class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(s=o).\u0275prov=Ct({token:s,providedIn:"root",factory:()=>new s}),o})();function yf(s){for(;s;){s[$t]|=64;const o=Tg(s);if(eu(s)&&!o)return s;s=o}return null}const Ef=new On("",{providedIn:"root",factory:()=>!1});let Kg=null;function Cf(s,o){return s[o]??Pv()}function $I(s,o){const u=Pv();u.producerNode?.length&&(s[o]=Kg,u.lView=s,Kg=jI())}const HE={...ia,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{yf(s.lView)},lView:null};function jI(){return Object.create(HE)}function Pv(){return Kg??=jI(),Kg}const zt={};function HI(s){Yg(on(),Fe(),ri()+s,!1)}function Yg(s,o,u,d){if(!d)if(3==(3&o[$t])){const p=s.preOrderCheckHooks;null!==p&&bd(o,p,u)}else{const p=s.preOrderHooks;null!==p&&Uo(o,p,0,u)}is(u)}function wf(s,o=Rt.Default){const u=Fe();return null===u?tt(s,o):oo(Ur(),u,Le(s),o)}function ZE(){throw new Error("invalid")}function bf(s,o,u,d,h,p,y,E,I,S,N){const j=o.blueprint.slice();return j[Xn]=h,j[$t]=140|d,(null!==S||s&&2048&s[$t])&&(j[$t]|=2048),fg(j),j[Pn]=j[Js]=s,j[ir]=u,j[Xs]=y||s&&s[Xs],j[At]=E||s&&s[At],j[ws]=I||s&&s[ws]||null,j[Dr]=p,j[Po]=function eM(){return uE++}(),j[bs]=N,j[Il]=S,j[zn]=2==o.type?s[zn]:j,j}function $d(s,o,u,d,h){let p=s.data[o];if(null===p)p=function zE(s,o,u,d,h){const p=Lh(),y=Fh(),I=s.data[o]=function Xg(s,o,u,d,h,p){let y=o?o.injectorIndex:-1,E=0;return function Lo(){return null!==kt.skipHydrationRootTNode}()&&(E|=128),{type:u,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(s,o,u,d,h),function H_(){return kt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=function iu(){const s=kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Hi(p,!0),p}function Df(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function ZI(s,o,u,d,h){const p=Cf(o,Qa),y=ri(),E=2&d;try{is(-1),E&&o.length>Gt&&Yg(s,o,Gt,!1),ji(E?2:0,h);const S=E?p:null,N=sd(S);try{null!==S&&(S.dirty=!1),u(d,h)}finally{Jn(S,N)}}finally{E&&null===o[Qa]&&$I(o,Qa),is(y),ji(E?3:1,h)}}function zI(s,o,u){if(ed(o)){const d=gi(null);try{const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}finally{gi(d)}}}function Qg(s,o,u){_r()&&(function YI(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;to(u)&&function dP(s,o,u){const d=Fr(o,s),h=WE(u);let y=16;u.signals?y=4096:u.onPush&&(y=64);const E=Ju(s,bf(s,h,null,y,d,o,null,s[Xs].rendererFactory.createRenderer(d,u),null,null,null));s[o.index]=E}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||Oi(u,o),Ni(d,o);const y=u.initialInputs;for(let E=h;E<p;E++){const I=s.data[E],S=Os(o,s,E,u);Ni(S,o),null!==y&&hs(0,E-h,S,I,0,y),pi(I)&&(mi(u.index,o)[ir]=Os(o,s,E,u))}}(s,o,u,Fr(u,o)),64==(64&u.flags)&&YE(s,o,u))}function Ov(s,o,u=Fr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?u(o,s):s[y];s[h++]=E}}}function WE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Nv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function Nv(s,o,u,d,h,p,y,E,I,S,N){const j=Gt+d,X=j+h,se=function jd(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:zt);return u}(j,X),Te="function"==typeof S?S():S;return se[rt]={type:s,blueprint:se,template:u,queries:null,viewQuery:E,declTNode:o,data:se.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Te,incompleteFirstPass:!1,ssrId:N}}let WI=s=>null;function KE(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?qI(u,o,h,p):d.hasOwnProperty(h)&&qI(u,o,d[h],p)}return u}function qI(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Ls(s,o,u,d,h,p,y,E){const I=Fr(o,u);let N,S=o.inputs;!E&&null!=S&&(N=S[d])?(nm(s,u,N,d,h),to(o)&&function lP(s,o){const u=mi(o,s);16&u[$t]||(u[$t]|=64)}(u,o.index)):3&o.type&&(d=function uP(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(I,d,h))}function Jg(s,o,u,d){if(_r()){const h=null===d?null:{"":-1},p=function bU(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];if(za(o,y.selectors,!1))if(d||(d=[]),pi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Rv(s,o,E.length)}else d.unshift(y),Rv(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&cP(s,o,u,y,h,E),h&&function QI(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new oe(-301,!1);d.push(o[h],p)}}}(u,d,h)}u.mergedAttrs=Ha(u.mergedAttrs,u.attrs)}function cP(s,o,u,d,h,p){for(let S=0;S<d.length;S++)so(Oi(u,o),s,d[S].type);!function IU(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let S=0;S<d.length;S++){const N=d[S];N.providersResolver&&N.providersResolver(N)}let y=!1,E=!1,I=Df(s,o,d.length,null);for(let S=0;S<d.length;S++){const N=d[S];u.mergedAttrs=Ha(u.mergedAttrs,N.hostAttrs),TU(s,u,o,I,N),DU(I,N,h),null!==N.contentQueries&&(u.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=64);const j=N.type.prototype;!y&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),y=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),E=!0),I++}!function GI(s,o,u){const h=o.directiveEnd,p=s.data,y=o.attrs,E=[];let I=null,S=null;for(let N=o.directiveStart;N<h;N++){const j=p[N],X=u?u.get(j):null,Te=X?X.outputs:null;I=KE(j.inputs,N,I,X?X.inputs:null),S=KE(j.outputs,N,S,Te);const ze=null===I||null===y||zc(o)?null:po(I,N,y);E.push(ze)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=I,o.outputs=S}(s,u,p)}function YE(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,y=function Vh(){return kt.lFrame.currentDirectiveIndex}();try{is(p);for(let E=d;E<h;E++){const I=s.data[E],S=o[E];Vl(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&wU(I,S)}}finally{is(-1),Vl(y)}}function wU(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Rv(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function DU(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;pi(o)&&(u[""]=s)}}function TU(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=Is(h.type)),y=new Wl(p,pi(h),wf);s.blueprint[d]=y,u[d]=y,function EU(s,o,u,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function CU(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=E&&y.push(E),y.push(u,d,p)}}(s,o,d,Df(s,u,h.hostVars,zt),h)}function _u(s,o,u,d,h,p){const y=Fr(s,o);!function Da(s,o,u,d,h,p,y){if(null==p)s.removeAttribute(o,h,u);else{const E=null==y?he(p):y(p,d||"",h);s.setAttribute(o,h,E,u)}}(o[At],y,p,s.value,u,d,h)}function hs(s,o,u,d,h,p){const y=p[o];if(null!==y)for(let E=0;E<y.length;)Fs(d,u,y[E++],y[E++],y[E++])}function Fs(s,o,u,d,h){const p=gi(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(o,h)),null!==s.setInput?s.setInput(o,h,u,d):o[d]=h}finally{gi(p)}}function po(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){d.push(p,y[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Wi(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null,null]}function em(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const y=s.data[p];Bh(u[d]),y.contentQueries(2,o[p],p)}}}function Ju(s,o){return s[ts]?s[wh][es]=o:s[ts]=o,s[wh]=o,o}function el(s,o,u){Bh(0);const d=gi(null);try{o(s,u)}finally{gi(d)}}function QE(s){return s[na]||(s[na]=[])}function kv(s){return s.cleanup||(s.cleanup=[])}function XE(s,o){const u=s[ws],d=u?u.get(mu,null):null;d&&d.handleError(o)}function nm(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],E=u[p++];Fs(s.data[y],o[y],d,E,h)}}function Ia(s,o,u){const d=ro(o,s);!function zD(s,o,u){s.setValue(o,u)}(s[At],d,u)}function XI(s,o){const u=mi(o,s),d=u[rt];!function JI(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(d,u);const h=u[Xn];null!==h&&null===u[bs]&&(u[bs]=gu(h,u[ws])),Lv(d,u,u[ir])}function Lv(s,o,u){Bl(o);try{const d=s.viewQuery;null!==d&&el(1,d,u);const h=s.template;null!==h&&ZI(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&em(s,o),s.staticViewQueries&&el(2,s.viewQuery,u);const p=s.components;null!==p&&function e1(s,o){for(let u=0;u<o.length;u++)XI(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[$t]&=-5,bt()}}let JE=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(d,h,p){const y=typeof Zone>"u"?null:Zone.current,E=function Ml(s,o,u){const d=Object.create(F_);u&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=o;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>Lu(d),run:()=>{if(d.dirty=!1,d.hasRun&&!og(d))return;d.hasRun=!0;const y=sd(d);try{d.cleanupFn(),d.cleanupFn=ld,d.fn(h)}finally{Jn(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(d,N=>{this.all.has(N)&&this.queue.set(N,y)},p);let I;this.all.add(E),E.notify();const S=()=>{E.cleanup(),I?.(),this.all.delete(E),this.queue.delete(E)};return I=h?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[d,h]of this.queue)this.queue.delete(d),h?h.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=Ct({token:s,providedIn:"root",factory:()=>new s}),o})();function rm(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?h=$e(h,E):2==p&&(d=$e(d,E+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function If(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];null!==p&&d.push(vn(p)),ti(p)&&eC(p,d);const y=u.type;if(8&y)If(s,o,u.child,d);else if(32&y){const E=Ig(u,o);let I;for(;I=E();)d.push(I)}else if(16&y){const E=Nd(o,u);if(Array.isArray(E))d.push(...E);else{const I=Tg(o[zn]);If(I[rt],I,E,d,!0)}}u=h?u.projectionNext:u.next}return d}function eC(s,o){for(let u=gr;u<s.length;u++){const d=s[u],h=d[rt].firstChild;null!==h&&If(d[rt],d,h,o)}s[hi]!==s[Xn]&&o.push(s[hi])}function im(s,o,u,d=!0){const h=o[Xs],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{hc(s,o,s.template,u)}catch(I){throw d&&XE(o,I),I}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function hc(s,o,u,d){const h=o[$t];if(256!=(256&h)){o[Xs].effectManager?.flush(),Bl(o);try{fg(o),function Uh(s){return kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&ZI(s,o,u,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&bd(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Uo(o,S,0,null),Dd(o,0)}if(function tC(s){for(let o=HD(s);null!==o;o=ZD(o)){if(!o[Xa])continue;const u=o[eo];for(let d=0;d<u.length;d++){la(u[d])}}}(o),mo(o,2),null!==s.contentQueries&&em(s,o),y){const S=s.contentCheckHooks;null!==S&&bd(o,S)}else{const S=s.contentHooks;null!==S&&Uo(o,S,1),Dd(o,1)}!function iP(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const d=Cf(o,Ds);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)is(~p);else{const y=p,E=u[++h],I=u[++h];_d(E,y),d.dirty=!1;const S=sd(d);try{I(2,o[y])}finally{Jn(d,S)}}}}finally{null===o[Ds]&&$I(o,Ds),is(-1)}}(s,o);const E=s.components;null!==E&&Fv(o,E,0);const I=s.viewQuery;if(null!==I&&el(2,I,d),y){const S=s.viewCheckHooks;null!==S&&bd(o,S)}else{const S=s.viewHooks;null!==S&&Uo(o,S,2),Dd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[$t]&=-73,pg(o)}finally{bt()}}}function mo(s,o){for(let u=HD(s);null!==u;u=ZD(u))for(let d=gr;d<u.length;d++)n1(u[d],o)}function hP(s,o,u){n1(mi(o,s),u)}function n1(s,o){if(!function dd(s){return 128==(128&s[$t])}(s))return;const u=s[rt],d=s[$t];if(80&d&&0===o||1024&d||2===o)hc(u,s,u.template,s[ir]);else if(s[Qs]>0){mo(s,1);const h=u.components;null!==h&&Fv(s,h,1)}}function Fv(s,o,u){for(let d=0;d<o.length;d++)hP(s,o[d],u)}class Us{get rootNodes(){const o=this._lView,u=o[rt];return If(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(o){this._lView[ir]=o}get destroyed(){return 256==(256&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Pn];if(ti(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(nv(o,d),Yl(u,d))}this._attachedToViewContainer=!1}gE(this._lView[rt],this._lView)}onDestroy(o){!function kl(s,o){if(256==(256&s[$t]))throw new oe(911,!1);null===s[Oo]&&(s[Oo]=[]),s[Oo].push(o)}(this._lView,o)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-129}reattach(){this._lView[$t]|=128}detectChanges(){im(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sg(s,o){Rd(s,o,o[At],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=o}}class Zd extends Us{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;im(o[rt],o,o[ir],!1)}checkNoChanges(){}get context(){return null}}class sm extends wv{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Jt(o);return new vu(u,this.ngModule)}}function zd(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class r1{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=_n(d);const h=this.injector.get(o,zg,d);return h!==zg||u===zg?h:this.parentInjector.get(o,u,d)}}class vu extends zM{get inputs(){const o=this.componentDef,u=o.inputTransforms,d=zd(o.inputs);if(null!==u)for(const h of d)u.hasOwnProperty(h.propName)&&(h.transform=u[h.propName]);return d}get outputs(){return zd(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function N_(s){return s.map(Wc).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof ii?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new r1(o,p):o,E=y.get(cf,null);if(null===E)throw new oe(407,!1);const j={rendererFactory:E,sanitizer:y.get(Zg,null),effectManager:y.get(JE,null),afterRenderEventManager:y.get(VE,null)},X=E.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",Te=d?function sP(s,o,u,d){const p=d.get(Ef,!1)||u===Bi.ShadowDom,y=s.selectRootElement(o,p);return function qE(s){WI(s)}(y),y}(X,d,this.componentDef.encapsulation,y):sc(X,se,function nC(s){const o=s.toLowerCase();return"svg"===o?kh:"math"===o?"math":null}(se)),Tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ue=null;null!==Te&&(Ue=gu(Te,y,!0));const Ht=Nv(0,null,null,1,0,null,null,null,null,null,null),tn=bf(null,Ht,null,Tt,null,null,j,X,y,null,Ue);let En,ms;Bl(tn);try{const Yn=this.componentDef;let Na,Iu=null;Yn.findHostDirectiveDefs?(Na=[],Iu=new Map,Yn.findHostDirectiveDefs(Yn,Na,Iu),Na.push(Yn)):Na=[Yn];const tb=function i1(s,o){const u=s[rt],d=Gt;return s[d]=o,$d(u,d,2,"#host",null)}(tn,Te),eR=function nl(s,o,u,d,h,p,y){const E=h[rt];!function fP(s,o,u,d){for(const h of s)o.mergedAttrs=Ha(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(rm(o,o.mergedAttrs,!0),null!==u&&nI(d,u,o))}(d,s,o,y);let I=null;null!==o&&(I=gu(o,h[ws]));const S=p.rendererFactory.createRenderer(o,u);let N=16;u.signals?N=4096:u.onPush&&(N=64);const j=bf(h,WE(u),null,N,h[s.index],s,p,S,null,null,I);return E.firstCreatePass&&Rv(E,s,d.length-1),Ju(h,j),h[s.index]=j}(tb,Te,Yn,Na,tn,j,X);ms=hg(Ht,Gt),Te&&function Uv(s,o,u,d){if(d)ea(s,u,["ng-version",PI.full]);else{const{attrs:h,classes:p}=function qc(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!Ai(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&ea(s,u,h),p&&p.length>0&&tI(s,u,p.join(" "))}}(X,Yn,Te,d),void 0!==u&&function s1(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(ms,this.ngContentSelectors,u),En=function fc(s,o,u,d,h,p){const y=Ur(),E=h[rt],I=Fr(y,h);cP(E,h,y,u,null,d);for(let N=0;N<u.length;N++)Ni(Os(h,E,y.directiveStart+N,y),h);YE(E,h,y),I&&Ni(I,h);const S=Os(h,E,y.directiveStart+y.componentOffset,y);if(s[ir]=h[ir]=S,null!==p)for(const N of p)N(S,o);return zI(E,y,s),S}(eR,Yn,Na,Iu,tn,[pP]),Lv(Ht,tn,null)}finally{bt()}return new rC(this.componentType,En,Hg(ms,tn),tn,ms)}}class rC extends nU{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new Zd(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const p=this._rootLView;nm(p[rt],p,h,o,u),this.previousInputValues.set(o,u),yf(mi(this._tNode.index,p))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function pP(){const s=Ur();er(Fe()[rt],s)}function om(s){let o=function Tf(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(pi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new oe(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Vv(s.inputs),y.inputTransforms=Vv(s.inputTransforms),y.declaredInputs=Vv(s.declaredInputs),y.outputs=Vv(s.outputs);const E=h.hostBindings;E&&u1(s,E);const I=h.viewQuery,S=h.contentQueries;if(I&&o1(s,I),S&&a1(s,S),q(s.inputs,h.inputs),q(s.declaredInputs,h.declaredInputs),q(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),q(y.inputTransforms,h.inputTransforms)),pi(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===om&&(u=!1)}}o=Object.getPrototypeOf(o)}!function am(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Ha(h.hostAttrs,u=Ha(u,h.hostAttrs))}}(d)}function Vv(s){return s===$i?{}:s===sn?[]:s}function o1(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function a1(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function u1(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}function Bv(s){const o=s.inputConfig,u={};for(const d in o)if(o.hasOwnProperty(d)){const h=o[d];Array.isArray(h)&&h[2]&&(u[d]=h[2])}s.inputTransforms=u}function $v(s){return!!Af(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Af(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ta(s,o,u){return s[o]=u}function wi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Gd(s,o,u,d){const h=wi(s,o,u);return wi(s,o+1,d)||h}function Hv(s,o,u,d){const h=Fe();return wi(h,ha(),o)&&(on(),_u(qn(),h,s,o,u,d)),Hv}function pc(s,o,u,d){return wi(s,ha(),u)?o+he(u)+d:zt}function Sf(s,o,u,d,h,p){const E=Gd(s,function Ss(){return kt.lFrame.bindingIndex}(),u,h);return xs(2),E?o+he(u)+d+he(h)+p:zt}function pC(s,o,u,d,h,p,y,E){const I=Fe(),S=on(),N=s+Gt,j=S.firstCreatePass?function mc(s,o,u,d,h,p,y,E,I){const S=o.consts,N=$d(o,s,4,y||null,ko(S,E));Jg(o,u,N,ko(S,I)),er(o,N);const j=N.tView=Nv(2,N,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,N),j.queries=o.queries.embeddedTView(N)),N}(N,S,I,o,u,d,h,p,y):S.data[N];Hi(j,!1);const X=pm(S,I,j,s);pa()&&Od(S,I,X,j),Ni(X,I),Ju(I,I[N]=Wi(X,I,X,j)),fi(j)&&Qg(S,I,j),null!=y&&Ov(I,j,E)}let pm=function Rf(s,o,u,d){return xi(!0),o[At].createComment("")};function _o(s){return Ro(function $_(){return kt.lFrame.contextLView}(),Gt+s)}function Bs(s,o,u){const d=Fe();return wi(d,ha(),o)&&Ls(on(),qn(),d,s,o,d[At],u,!1),Bs}function qi(s,o,u,d,h){const y=h?"class":"style";nm(s,u,o.inputs[y],y,d)}function kf(s,o,u,d){const h=Fe(),p=on(),y=Gt+s,E=h[At],I=p.firstCreatePass?function C1(s,o,u,d,h,p){const y=o.consts,I=$d(o,s,2,d,ko(y,h));return Jg(o,u,I,ko(y,p)),null!==I.attrs&&rm(I,I.attrs,!1),null!==I.mergedAttrs&&rm(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,o,u,d):p.data[y],S=w1(p,h,I,E,o,s);h[y]=S;const N=fi(I);return Hi(I,!0),nI(E,S,I),32!=(32&I.flags)&&pa()&&Od(p,h,S,I),0===function fd(){return kt.lFrame.elementDepthCount}()&&Ni(S,h),function sr(){kt.lFrame.elementDepthCount++}(),N&&(Qg(p,h,I),zI(p,I,h)),null!==d&&Ov(h,I),kf}function qv(){let s=Ur();Fh()?gd():(s=s.parent,Hi(s,!1));const o=s;(function ca(s){return kt.skipHydrationRootTNode===s})(o)&&function mg(){kt.skipHydrationRootTNode=null}(),function gg(){kt.lFrame.elementDepthCount--}();const u=on();return u.firstCreatePass&&(er(u,s),ed(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ql(s){return 0!=(8&s.flags)}(o)&&qi(u,o,Fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Vo(s){return 0!=(16&s.flags)}(o)&&qi(u,o,Fe(),o.stylesWithoutHost,!1),qv}function mC(s,o,u,d){return kf(s,o,u,d),qv(),mC}let w1=(s,o,u,d,h,p)=>(xi(!0),sc(d,h,function wd(){return kt.lFrame.currentNamespace}()));function Gv(s,o,u){const d=Fe(),h=on(),p=s+Gt,y=h.firstCreatePass?function D1(s,o,u,d,h){const p=o.consts,y=ko(p,d),E=$d(o,s,8,"ng-container",y);return null!==y&&rm(E,y,!0),Jg(o,u,E,ko(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,d,o,u):h.data[p];Hi(y,!0);const E=I1(h,d,y,s);return d[p]=E,pa()&&Od(h,d,E,y),Ni(E,d),fi(y)&&(Qg(h,d,y),zI(h,y,d)),null!=u&&Ov(d,y),Gv}function gm(){let s=Ur();const o=on();return Fh()?gd():(s=s.parent,Hi(s,!1)),o.firstCreatePass&&(er(o,s),ed(s)&&o.queries.elementEnd(s)),gm}let I1=(s,o,u,d)=>(xi(!0),ic(o[At],""));function yC(){return Fe()}function Kv(s){return!!s&&"function"==typeof s.then}function Yv(s){return!!s&&"function"==typeof s.subscribe}function EC(s,o,u,d){const h=Fe(),p=on(),y=Ur();return function Qv(s,o,u,d,h,p,y){const E=fi(d),S=s.firstCreatePass&&kv(s),N=o[ir],j=QE(o);let X=!0;if(3&d.type||y){const ze=Fr(d,o),lt=y?y(ze):ze,Tt=j.length,Ue=y?tn=>y(vn(tn[d.index])):d.index;let Ht=null;if(!y&&E&&(Ht=function Ze(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const E=o[na],I=h[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=p,Ht.__ngLastListenerFn__=p,X=!1;else{p=Xv(d,o,N,p,!1);const tn=u.listen(lt,h,p);j.push(p,tn),S&&S.push(h,Ue,Tt,Tt+1)}}else p=Xv(d,o,N,p,!1);const se=d.outputs;let Te;if(X&&null!==se&&(Te=se[h])){const ze=Te.length;if(ze)for(let lt=0;lt<ze;lt+=2){const En=o[Te[lt]][Te[lt+1]].subscribe(p),ms=j.length;j.push(p,En),S&&S.push(h,d.index,ms,-(ms+1))}}}(p,h,h[At],y,s,o,d),EC}function wC(s,o,u,d){try{return ji(6,o,u),!1!==u(d)}catch(h){return XE(s,h),!1}finally{ji(7,o,u)}}function Xv(s,o,u,d,h){return function p(y){if(y===Function)return d;yf(s.componentOffset>-1?mi(s.index,o):o);let I=wC(o,u,d,y),S=p.__ngNextListenerFn__;for(;S;)I=wC(o,u,S,y)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&y.preventDefault(),I}}function Eu(s=1){return function ni(s){return(kt.lFrame.contextLView=function jl(s,o){for(;s>0;)o=o[Js],s--;return o}(s,kt.lFrame.contextLView))[ir]}(s)}function _m(s,o,u){return Pt(s,"",o,"",u),_m}function Pt(s,o,u,d,h){const p=Fe(),y=pc(p,o,u,d);return y!==zt&&Ls(on(),qn(),p,s,y,p[At],h,!1),Pt}function Qd(s,o){return s<<17|o<<2}function _c(s){return s>>17&32767}function DC(s){return 2|s}function Xd(s){return(131068&s)>>2}function Jv(s,o){return-131069&s|o<<2}function Lf(s){return 1|s}function O1(s,o,u,d,h){const p=s[u+1],y=null===o;let E=d?_c(p):Xd(p),I=!1;for(;0!==E&&(!1===I||y);){const N=s[E+1];BP(s[E],o)&&(I=!0,s[E+1]=d?Lf(N):DC(N)),E=d?_c(N):Xd(N)}I&&(s[u+1]=d?DC(p):Lf(p))}function BP(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Jl(s,o)>=0}function yc(s,o){return function xa(s,o,u,d){const h=Fe(),p=on(),y=xs(2);p.firstUpdatePass&&function U1(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[ri()],y=function F1(s,o){return o>=s.expandoStartIndex}(s,u);(function H1(s,o){return 0!=(s.flags&(o?8:16))})(p,d)&&null===o&&!y&&(o=!1),o=function WP(s,o,u,d){const h=function vd(s){const o=kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Cm(u=TC(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=TC(h,s,o,u,d),null===p){let I=function qP(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Xd(d))return s[_c(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=TC(null,s,o,I[1],d),I=Cm(I,o.attrs,d),function V1(s,o,u,d){s[_c(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function ty(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Cm(d,s[p].hostAttrs,u);return Cm(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function UP(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,E=_c(y),I=Xd(y);s[d]=u;let N,S=!1;if(Array.isArray(u)?(N=u[1],(null===N||Jl(u,N)>0)&&(S=!0)):N=u,h)if(0!==I){const X=_c(s[E+1]);s[d+1]=Qd(X,E),0!==X&&(s[X+1]=Jv(s[X+1],d)),s[E+1]=function LP(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Qd(E,0),0!==E&&(s[E+1]=Jv(s[E+1],d)),E=d;else s[d+1]=Qd(I,0),0===E?E=d:s[I+1]=Jv(s[I+1],d),I=d;S&&(s[d+1]=DC(s[d+1])),O1(s,N,d,!0),O1(s,N,d,!1),function VP(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Jl(p,o)>=0&&(u[d+1]=Lf(u[d+1]))}(o,N,s,d,p),y=Qd(E,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}(p,s,y,d),o!==zt&&wi(h,y,o)&&function AC(s,o,u,d,h,p,y,E){if(!(3&o.type))return;const I=s.data,S=I[E+1],N=function FP(s){return 1==(1&s)}(S)?j1(I,o,u,h,Xd(S),y):void 0;ny(N)||(ny(p)||function PU(s){return 2==(2&s)}(S)&&(p=j1(I,null,u,h,E,y)),function pM(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:Pd.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Pd.Important),s.setStyle(u,d,h,p))}}(d,y,ro(ri(),u),h,p))}(p,p.data[ri()],h,h[At],s,h[y+1]=function YP(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(oc(s)))),s}(o,u),d,y)}(s,o,null,!0),yc}function TC(s,o,u,d,h){let p=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(p=o[E],d=Cm(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(u.directiveStylingLast=E),d}function Cm(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ls(s,y,!!u||o[++p]))}return void 0===s?null:s}function j1(s,o,u,d,h,p){const y=null===o;let E;for(;h>0;){const I=s[h],S=Array.isArray(I),N=S?I[1]:I,j=null===N;let X=u[h+1];X===zt&&(X=j?sn:void 0);let se=j?yg(X,d):N===d?X:void 0;if(S&&!ny(se)&&(se=yg(I,d)),ny(se)&&(E=se,y))return E;const Te=s[h+1];h=y?_c(Te):Xd(Te)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(E=yg(I,d))}return E}function ny(s){return void 0!==s}function Z1(s,o=""){const u=Fe(),d=on(),h=s+Gt,p=d.firstCreatePass?$d(d,h,1,o,null):d.data[h],y=z1(d,u,p,o,s);u[h]=y,pa()&&Od(d,u,y,p),Hi(p,!1)}let z1=(s,o,u,d,h)=>(xi(!0),function tv(s,o){return s.createText(o)}(o[At],d));function Ec(s){return ry("",s,""),Ec}function ry(s,o,u){const d=Fe(),h=pc(d,s,o,u);return h!==zt&&Ia(d,ri(),h),ry}function W1(s,o,u,d,h){const p=Fe(),y=Sf(p,s,o,u,d,h);return y!==zt&&Ia(p,ri(),y),W1}const Wo=void 0;var lO=["en",[["a","p"],["AM","PM"],Wo],[["AM","PM"],Wo,Wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wo,"{1} 'at' {0}",Wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uO(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let $f={};function kC(s){const o=function cO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=bm(o);if(u)return u;const d=o.split("-")[0];if(u=bm(d),u)return u;if("en"===d)return lO;throw new oe(701,!1)}function aT(s){return kC(s)[Hf.PluralCase]}function bm(s){return s in $f||($f[s]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[s]),$f[s]}var Hf=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Hf||{});const Zf="en-US";let uT=Zf;function WC(s,o,u,d,h){if(s=Le(s),Array.isArray(s))for(let p=0;p<s.length;p++)WC(s[p],o,u,d,h);else{const p=on(),y=Fe(),E=Ur();let I=nf(s)?s:Le(s.provide);const S=wI(s),N=1048575&E.providerIndexes,j=E.directiveStart,X=E.providerIndexes>>20;if(nf(s)||!s.multi){const se=new Wl(S,h,wf),Te=Sm(I,o,h?N:N+X,j);-1===Te?(so(Oi(E,y),p,I),qC(p,s,o.length),o.push(I),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(se),y.push(se)):(u[Te]=se,y[Te]=se)}else{const se=Sm(I,o,N+X,j),Te=Sm(I,o,N,N+X),lt=Te>=0&&u[Te];if(h&&!lt||!h&&!(se>=0&&u[se])){so(Oi(E,y),p,I);const Tt=function OT(s,o,u,d,h){const p=new Wl(s,u,wf);return p.multi=[],p.index=o,p.componentProviders=0,PT(p,h,d&&!u),p}(h?fy:HO,u.length,h,d,S);!h&&lt&&(u[Te].providerFactory=Tt),qC(p,s,o.length,0),o.push(I),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(Tt),y.push(Tt)}else qC(p,s,se>-1?se:Te,PT(u[h?Te:se],S,!h&&d));!h&&d&&lt&&u[Te].componentProviders++}}}function qC(s,o,u,d){const h=nf(o),p=function X2(s){return!!s.useClass}(o);if(h||p){const I=(p?Le(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(u);-1===N?S.push(u,[d,I]):S[N+1].push(d,I)}else S.push(u,I)}}}function PT(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Sm(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function HO(s,o,u,d){return GC(this.multi,[])}function fy(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Os(u,u[rt],this.providerFactory.index,d);p=E.slice(0,y),GC(h,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],GC(h,p);return p}function GC(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function KC(s,o=[]){return u=>{u.providersResolver=(d,h)=>function jO(s,o,u){const d=on();if(d.firstCreatePass){const h=pi(s);WC(u,d.data,d.blueprint,h,!0),WC(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Pa{}class py{}function ZO(s,o){return new YC(s,o??null,[])}class YC extends Pa{constructor(o,u,d){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sm(this);const h=Lr(o);this._bootstrapComponents=Xu(h.bootstrap),this._r3Injector=Wg(o,u,[{provide:Pa,useValue:this},{provide:wv,useValue:this.componentFactoryResolver},...d],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class QC extends py{constructor(o){super(),this.moduleType=o}create(o){return new YC(this.moduleType,o,[])}}class NT extends Pa{constructor(o){super(),this.componentFactoryResolver=new sm(this),this.instance=null;const u=new gv([...o.providers,{provide:Pa,useValue:this},{provide:wv,useValue:this.componentFactoryResolver}],o.parent||fu(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function RT(s,o,u=null){return new NT({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let WO=(()=>{var s;class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const h=yI(0,d.type),p=h.length>0?RT([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,p)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=Ct({token:s,providedIn:"environment",factory:()=>new s(tt(ii))}),o})();function kT(s){s.getStandaloneInjector=o=>o.get(WO).getOrCreateStandaloneInjector(s)}function HT(s,o,u,d,h){return WT(Fe(),Vr(),s,o,u,d,h)}function gy(s,o){const u=s[o];return u===zt?void 0:u}function WT(s,o,u,d,h,p,y){const E=o+u;return Gd(s,E,h,p)?Ta(s,E+2,y?d.call(y,h,p):d(h,p)):gy(s,E+2)}function xm(s,o){const u=on();let d;const h=s+Gt;u.firstCreatePass?(d=function nN(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??=[]).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=Is(d.type)),E=gt(wf);try{const I=io(!1),S=p();return io(I),function OP(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Fe(),h,S),S}finally{gt(E)}}function YT(s,o,u){const d=s+Gt,h=Fe(),p=Ro(h,d);return Mm(h,d)?function zT(s,o,u,d,h,p){const y=o+u;return wi(s,y,h)?Ta(s,y+1,p?d.call(p,h):d(h)):gy(s,y+1)}(h,Vr(),o,p.transform,u,p):p.transform(u)}function QT(s,o,u,d){const h=s+Gt,p=Fe(),y=Ro(p,h);return Mm(p,h)?WT(p,Vr(),o,y.transform,u,d,y):y.transform(u,d)}function Mm(s,o){return s[rt].data[o].pure}function oN(){return this._results[Symbol.iterator]()}class nw{get changes(){return this._changes||(this._changes=new ba)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=nw.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=oN)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function Kn(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function yi(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JT(s,o,u,d=!0){const h=o[rt];if(function uM(s,o,u,d){const h=gr+d,p=u.length;d>0&&(u[h-1][es]=o),d<p-gr?(o[es]=u[h],tE(u,gr+d,o)):(u.push(o),o[es]=null),o[Pn]=u;const y=o[Ya];null!==y&&u!==y&&function lM(s,o){const u=s[eo];o[zn]!==o[Pn][Pn][zn]&&(s[Xa]=!0),null===u?s[eo]=[o]:u.push(o)}(y,o);const E=o[di];null!==E&&E.insertView(s),o[$t]|=128}(h,o,s,u),d){const p=ov(u,s),y=o[At],E=iv(y,s[hi]);null!==E&&function aM(s,o,u,d,h,p){d[Xn]=h,d[Dr]=o,Rd(s,d,u,1,h,p)}(h,s[Dr],y,o,E,p)}}let Yf=(()=>{class o{}return o.__NG_ELEMENT_ID__=rw,o})();const eh=Yf,tA=class extends eh{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u)}createEmbeddedViewImpl(o,u,d){const h=function XT(s,o,u,d){const h=o.tView,E=bf(s,h,u,4096&s[$t]?4096:16,null,o,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[Ya]=s[o.index];const S=s[di];return null!==S&&(E[di]=S.createEmbeddedView(h)),Lv(h,E,u),E}(this._declarationLView,this._declarationTContainer,o,{injector:u,hydrationInfo:d});return new Us(h)}};function rw(){return my(Ur(),Fe())}function my(s,o){return 4&s.type?new tA(o,s,Hg(s,o)):null}let yy=(()=>{class o{}return o.__NG_ELEMENT_ID__=YU,o})();function YU(){return iA(Ur(),Fe())}const wc=yy,nA=class extends wc{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Hg(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const o=au(this._hostTNode,this._hostLView);if(su(o)){const u=jn(o,this._hostLView),d=ma(o);return new vr(u[rt].data[d+8],u)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=rA(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-gr}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=o.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(E,h,false),E}createComponent(o,u,d,h,p){const y=o&&!function Zi(s){return"function"==typeof s}(o);let E;if(y)E=u;else{const ze=u||{};E=ze.index,d=ze.injector,h=ze.projectableNodes,p=ze.environmentInjector||ze.ngModuleRef}const I=y?o:new vu(Jt(o)),S=d||this.parentInjector;if(!p&&null==I.ngModule){const lt=(y?S:this.parentInjector).get(ii,null);lt&&(p=lt)}Jt(I.componentType??{});const se=I.create(S,h,null,p);return this.insertImpl(se.hostView,E,false),se}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,d){const h=o._lView;if(function hd(s){return ti(s[Pn])}(h)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const S=h[Pn],N=new nA(S,S[Dr],S[Pn]);N.detach(N.indexOf(o))}}const y=this._adjustIndex(u),E=this._lContainer;return JT(E,h,y,!d),o.attachToViewContainerRef(),tE(aw(E),y,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=rA(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=nv(this._lContainer,u);d&&(Yl(aw(this._lContainer),u),gE(d[rt],d))}detach(o){const u=this._adjustIndex(o,-1),d=nv(this._lContainer,u);return d&&null!=Yl(aw(this._lContainer),u)?new Us(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function rA(s){return s[8]}function aw(s){return s[8]||(s[8]=[])}function iA(s,o){let u;const d=o[s.index];return ti(d)?u=d:(u=Wi(d,o,null,s),o[s.index]=u,Ju(o,u)),sA(u,o,s,d),new nA(u,s,o)}let sA=function oA(s,o,u,d){if(s[hi])return;let h;h=8&u.type?vn(d):function dN(s,o){const u=s[At],d=u.createComment(""),h=Fr(o,s);return Ho(u,iv(u,h),d,function hM(s,o){return s.nextSibling(o)}(u,h),!1),d}(o,u),s[hi]=h};class Ey{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Qf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==lA(o,u).matches&&this.queries[u].setDirty()}}class Pm{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class uw{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new uw(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lw{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new lw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,Cy(u,p)),this.matchTNodeWithReadOption(o,u,jt(u,o,p,!1,!1))}else d===Yf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,jt(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===bv||h===yy||h===Yf&&4&u.type)this.addMatch(u.index,-2);else{const p=jt(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Cy(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function aA(s,o,u,d){return-1===u?function cw(s,o){return 11&s.type?Hg(s,o):4&s.type?my(s,o):null}(o,s):-2===u?function Zt(s,o,u){return u===bv?Hg(o,s):u===Yf?my(o,s):u===yy?iA(o,s):void 0}(s,o,d):Os(s,s[rt],u,o)}function wy(s,o,u,d){const h=o[di].queries[d];if(null===h.matches){const p=s.data,y=u.matches,E=[];for(let I=0;I<y.length;I+=2){const S=y[I];E.push(S<0?null:aA(o,p[S],y[I+1],u.metadata.read))}h.matches=E}return h.matches}function dw(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=wy(s,o,h,u);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)d.push(y[E/2]);else{const S=p[E+1],N=o[-I];for(let j=gr;j<N.length;j++){const X=N[j];X[Ya]===X[Pn]&&dw(X[rt],X,S,d)}if(null!==N[eo]){const j=N[eo];for(let X=0;X<j.length;X++){const se=j[X];dw(se[rt],se,S,d)}}}}}return d}function ki(s){const o=Fe(),u=on(),d=yd();Bh(d+1);const h=lA(u,d);if(s.dirty&&function Rl(s){return 4==(4&s[$t])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?dw(u,o,d,[]):wy(u,o,h,d);s.reset(p,sU),s.notifyOnChanges()}return!0}return!1}function uA(s,o,u,d){const h=on();if(h.firstCreatePass){const p=Ur();(function Go(s,o,u){null===s.queries&&(s.queries=new uw),s.queries.track(new lw(o,u))})(h,new Pm(o,u,d),p.index),function Q(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function sl(s,o,u){const d=new nw(4==(4&u));(function aP(s,o,u,d){const h=QE(o);h.push(u),s.firstCreatePass&&kv(s).push(d,h.length-1)})(s,o,d,d.destroy),null===o[di]&&(o[di]=new Qf),o[di].queries.push(new Ey(d))}(h,Fe(),u)}function be(){return function qo(s,o){return s[di].queries[o].queryList}(Fe(),yd())}function lA(s,o){return s.queries.getByIndex(o)}function hw(s){return!!Lr(s)}const Py=new On("Application Initializer");let Rm=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h}),this.appInits=ct(Py,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const p of this.appInits){const y=p();if(Kv(y))d.push(y);else if(Yv(y)){const E=new Promise((I,S)=>{y.subscribe({complete:I,error:S})});d.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),oi=(()=>{var s;class o{log(d){console.log(d)}warn(d){console.warn(d)}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const nh=new On("LocaleId",{providedIn:"root",factory:()=>ct(nh,Rt.Optional|Rt.SkipSelf)||function Li(){return typeof $localize<"u"&&$localize.locale||Zf}()}),Iw=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Tw=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class DN{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let IN=(()=>{var s;class o{compileModuleSync(d){return new QC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),y=Xu(Lr(d).declarations).reduce((E,I)=>{const S=Jt(I);return S&&E.push(new vu(S)),E},[]);return new DN(h,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();const ip=new On(""),Fm=new On("");let Uy,AA=(()=>{var s;class o{constructor(d,h,p){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uy||(function SA(s){Uy=s}(p),p.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,p){return[]}}return(s=o).\u0275fac=function(d){return new(d||s)(tt(Yr),tt(Fy),tt(Fm))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),o})(),Fy=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Uy?.findTestabilityInTree(this,d,h)??null}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),Ko=null;const Vy=new On("AllowMultipleToken"),Um=new On("PlatformDestroyListeners"),Vm=new On("appBootstrapListener");class Pw{constructor(o,u){this.name=o,this.token=u}}function Rw(s,o,u=[]){const d=`Platform: ${o}`,h=new On(d);return(p=[])=>{let y=op();if(!y||y.injector.get(Vy,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function jy(s){if(Ko&&!Ko.get(Vy,!1))throw new oe(400,!1);(function Mw(){!function Ph(s){Mh=s}(()=>{throw new oe(600,!1)})})(),Ko=s;const o=s.get(ap);(function Nw(s){s.get(SE,null)?.forEach(u=>u())})(s)}(function sp(s=[],o){return ds.create({name:o,providers:[{provide:Ug,useValue:"platform"},{provide:Um,useValue:new Set([()=>Ko=null])},...s]})}(E,d))}return function kN(s){const o=op();if(!o)throw new oe(401,!1);return o}()}}function op(){return Ko?.get(ap)??null}let ap=(()=>{var s;class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const p=function kw(s="zone.js",o){return"noop"===s?new fU:"zone.js"===s?new Yr(o):s}(h?.ngZone,function Ac(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const y=function zO(s,o,u){return new YC(s,o,u)}(d.moduleType,this.injector,function Fw(s){return[{provide:Yr,useFactory:s},{provide:tf,multi:!0,useFactory:()=>{const o=ct(Hy,{optional:!0});return()=>o.initialize()}},{provide:Sc,useFactory:ol},{provide:UI,useFactory:_f}]}(()=>p)),E=y.injector.get(mu,null);return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:S=>{E.handleError(S)}});y.onDestroy(()=>{Bm(this._modules,y),I.unsubscribe()})}),function xA(s,o,u){try{const d=u();return Kv(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,p,()=>{const I=y.injector.get(Rm);return I.runInitializers(),I.donePromise.then(()=>(function lT(s){Qe(s,"Expected localeId to be defined"),"string"==typeof s&&(uT=s.toLowerCase().replace(/_/g,"-"))}(y.injector.get(nh,Zf)||Zf),this._moduleDoBootstrap(y),y))})})}bootstrapModule(d,h=[]){const p=MA({},h);return function By(s,o,u){const d=new QC(u);return Promise.resolve(d)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(d){const h=d.injector.get(sh);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new oe(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Um,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(d){return new(d||s)(tt(ds))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function MA(s,o){return Array.isArray(o)?o.reduce(MA,s):{...s,...o}}let sh=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(Sc),this.zoneIsStable=ct(UI),this.componentTypes=[],this.components=[],this.isStable=ct(Tw).hasPendingTasks.pipe((0,Se.w)(d=>d?(0,Ie.of)(!1):this.zoneIsStable),(0,me.x)(),(0,pe.B)()),this._injector=ct(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,h){const p=d instanceof zM;if(!this._injector.get(Rm).done)throw!p&&Ga(d),new oe(405,!1);let E;E=p?d:this._injector.get(wv).resolveComponentFactory(d),this.componentTypes.push(E.componentType);const I=function NN(s){return s.isBoundToModule}(E)?void 0:this._injector.get(Pa),N=E.create(ds.NULL,[],h||E.selector,I),j=N.location.nativeElement,X=N.injector.get(ip,null);return X?.registerApplication(j),N.onDestroy(()=>{this.detachView(N.hostView),Bm(this.components,N),X?.unregisterApplication(j)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Bm(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(Vm,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Bm(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new oe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Bm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const Sc=new On("",{providedIn:"root",factory:()=>ct(mu).handleError.bind(void 0)});function ol(){const s=ct(Yr),o=ct(mu);return u=>s.runOutsideAngular(()=>o.handleError(u))}let Hy=(()=>{var s;class o{constructor(){this.zone=ct(Yr),this.applicationRef=ct(sh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(d){return new(d||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Zy(){return!1}let FN=(()=>{class o{}return o.__NG_ELEMENT_ID__=UN,o})();function UN(s){return function VN(s,o,u){if(to(s)&&!u){const d=mi(s.index,o);return new Us(d,d)}return 47&s.type?new Us(o[zn],o):null}(Ur(),Fe(),16==(16&s))}class jm{constructor(){}supports(o){return $v(o)}create(o){return new Xy(o)}}const Hm=(s,o)=>o;class Xy{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Hm}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<lp(d,h,p)?u:d,E=lp(y,h,p),I=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const S=E-h,N=I-h;if(S!=N){for(let X=0;X<S;X++){const se=X<p.length?p[X]:p[X]=0,Te=se+X;N<=Te&&Te<S&&(p[X]=se+1)}p[y.previousIndex]=N-S}}E!==I&&o(y,E,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!$v(o))throw new oe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,E),d=!0),u=u._next}else h=0,function EP(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,E=>{y=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,E,y,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new jw(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new up),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new up),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jw{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class up{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new NA,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lp(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class RA{constructor(){}supports(o){return o instanceof Map||Af(o)}create(){return new Ar}}class Ar{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Af(o)))throw new oe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new kA(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class kA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LA(){return new Hw([new jm])}let Hw=(()=>{var s;class o{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||LA()),deps:[[o,new ut,new fe]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new oe(901,!1)}}return(s=o).\u0275prov=Ct({token:s,providedIn:"root",factory:LA}),o})();function Zw(){return new Jy([new RA])}let Jy=(()=>{var s;class o{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new o(d)}static extend(d){return{provide:o,useFactory:h=>o.create(d,h||Zw()),deps:[[o,new ut,new fe]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new oe(901,!1)}}return(s=o).\u0275prov=Ct({token:s,providedIn:"root",factory:Zw}),o})();const UA=Rw(null,"core",[]);let zN=(()=>{var s;class o{constructor(d){}}return(s=o).\u0275fac=function(d){return new(d||s)(tt(sh))},s.\u0275mod=Kc({type:s}),s.\u0275inj=kn({}),o})();function Eo(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function eb(s){const o=Jt(s);if(!o)return null;const u=new vu(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(_t,xe,U)=>{U.d(xe,{Z:()=>et});var O=U(9058),c=U(4537),k=U(7592),J=U(7879);class ae{constructor(it,Ne){this._delegate=it,this.firebase=Ne,(0,k._addComponent)(it,new c.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(it,Ne=k._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(it);return!mt.isInitialized()&&"EXPLICIT"===(null===(vt=mt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ne})}_removeServiceInstance(it,Ne=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(Ne)}_addComponent(it){(0,k._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,k._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function me(){const Le=function Se(Le){const it={},Ne={__esModule:!0,initializeApp:function oe(We,G={}){const Ce=k.initializeApp(We,G);if((0,O.r3)(it,Ce.name))return it[Ce.name];const nt=new Le(Ce,Ne);return it[Ce.name]=nt,nt},app:mt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function he(We){const G=We.name,Ce=G.replace("-compat","");if(k._registerComponent(We)&&"PUBLIC"===We.type){const nt=(ot=mt())=>{if("function"!=typeof ot[Ce])throw pe.create("invalid-app-argument",{appName:G});return ot[Ce]()};void 0!==We.serviceProps&&(0,O.ZB)(nt,We.serviceProps),Ne[Ce]=nt,Le.prototype[Ce]=function(...ot){return this._getService.bind(this,G).apply(this,We.multipleInstances?ot:[])}}return"PUBLIC"===We.type?Ne[Ce]:null},removeApp:function vt(We){delete it[We]},useAsService:function De(We,G){return"serverAuth"===G?null:G},modularAPIs:k}};function mt(We){if(!(0,O.r3)(it,We=We||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:We});return it[We]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Me(){return Object.keys(it).map(We=>it[We])}}),mt.App=Le,Ne}(ae);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function it(Ne){(0,O.ZB)(Le,Ne)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),Le}(),q=new J.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=H;!function Pe(Le){(0,k.registerVersion)("@firebase/app-compat","0.2.13",Le)}()},7592:(_t,xe,U)=>{U.r(xe),U.d(xe,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Re,_addOrOverwriteComponent:()=>Ve,_apps:()=>ve,_clearComponents:()=>xt,_components:()=>ce,_getProvider:()=>Ke,_registerComponent:()=>Qe,_removeServiceInstance:()=>ln,deleteApp:()=>Nr,getApp:()=>Qn,getApps:()=>fn,initializeApp:()=>bn,onLog:()=>Bn,registerVersion:()=>Ln,setLogLevel:()=>Ii});var O=U(5861),c=U(4537),k=U(7879),J=U(9058),ae=U(1878);class Ie{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function pe(ye){const K=ye.getComponent();return"VERSION"===K?.type}(we)){const je=we.getImmediate();return`${je.library}/${je.version}`}return null}).filter(we=>we).join(" ")}}const Se="@firebase/app",H=new k.Yd("@firebase/app"),le="[DEFAULT]",Ee={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,ce=new Map;function Re(ye,K){try{ye.container.addComponent(K)}catch(we){H.debug(`Component ${K.name} failed to register with FirebaseApp ${ye.name}`,we)}}function Ve(ye,K){ye.container.addOrOverwriteComponent(K)}function Qe(ye){const K=ye.name;if(ce.has(K))return H.debug(`There were multiple attempts to register component ${K}.`),!1;ce.set(K,ye);for(const we of ve.values())Re(we,ye);return!0}function Ke(ye,K){const we=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),ye.container.getProvider(K)}function ln(ye,K,we=le){Ke(ye,K).clearInstance(we)}function xt(){ce.clear()}const Ct=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(K,we,je){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=je,this.container.addComponent(new c.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const kn="9.23.0";function bn(ye,K={}){let we=ye;"object"!=typeof K&&(K={name:K});const je=Object.assign({name:le,automaticDataCollectionEnabled:!1},K),ht=je.name;if("string"!=typeof ht||!ht)throw Ct.create("bad-app-name",{appName:String(ht)});if(we||(we=(0,J.aH)()),!we)throw Ct.create("no-options");const wt=ve.get(ht);if(wt){if((0,J.vZ)(we,wt.options)&&(0,J.vZ)(je,wt.config))return wt;throw Ct.create("duplicate-app",{appName:ht})}const un=new c.H0(ht);for(const Z of ce.values())un.addComponent(Z);const W=new cn(we,je,un);return ve.set(ht,W),W}function Qn(ye=le){const K=ve.get(ye);if(!K&&ye===le&&(0,J.aH)())return bn();if(!K)throw Ct.create("no-app",{appName:ye});return K}function fn(){return Array.from(ve.values())}function Nr(ye){return rr.apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*(ye){const K=ye.name;ve.has(K)&&(ve.delete(K),yield Promise.all(ye.container.getProviders().map(we=>we.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Ln(ye,K,we){var je;let ht=null!==(je=Ee[ye])&&void 0!==je?je:ye;we&&(ht+=`-${we}`);const wt=ht.match(/\s|\//),un=K.match(/\s|\//);if(wt||un){const W=[`Unable to register library "${ht}" with version "${K}":`];return wt&&W.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),wt&&un&&W.push("and"),un&&W.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void H.warn(W.join(" "))}Qe(new c.wA(`${ht}-version`,()=>({library:ht,version:K}),"VERSION"))}function Bn(ye,K){if(null!==ye&&"function"!=typeof ye)throw Ct.create("invalid-log-argument");(0,k.Am)(ye,K)}function Ii(ye){(0,k.Ub)(ye)}const jr="firebase-heartbeat-database",Rt=1,pn="firebase-heartbeat-store";let Lt=null;function gt(){return Lt||(Lt=(0,ae.X3)(jr,Rt,{upgrade:(ye,K)=>{0===K&&ye.createObjectStore(pn)}}).catch(ye=>{throw Ct.create("idb-open",{originalErrorMessage:ye.message})})),Lt}function ei(){return(ei=(0,O.Z)(function*(ye){try{return yield(yield gt()).transaction(pn).objectStore(pn).get($n(ye))}catch(K){if(K instanceof J.ZR)H.warn(K.message);else{const we=Ct.create("idb-get",{originalErrorMessage:K?.message});H.warn(we.message)}}})).apply(this,arguments)}function Ut(ye,K){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(ye,K){try{const je=(yield gt()).transaction(pn,"readwrite");yield je.objectStore(pn).put(K,$n(ye)),yield je.done}catch(we){if(we instanceof J.ZR)H.warn(we.message);else{const je=Ct.create("idb-set",{originalErrorMessage:we?.message});H.warn(je.message)}}})).apply(this,arguments)}function $n(ye){return`${ye.name}!${ye.options.appId}`}class Ti{constructor(K){this.container=K,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Zr(we),this._heartbeatsCachePromise=this._storage.read().then(je=>(this._heartbeatsCache=je,je))}triggerHeartbeat(){var K=this;return(0,O.Z)(function*(){const je=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=Ot();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==ht&&!K._heartbeatsCache.heartbeats.some(wt=>wt.date===ht))return K._heartbeatsCache.heartbeats.push({date:ht,agent:je}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(wt=>{const un=new Date(wt.date).valueOf();return Date.now()-un<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,O.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const we=Ot(),{heartbeatsToSend:je,unsentEntries:ht}=function Ji(ye,K=1024){const we=[];let je=ye.slice();for(const ht of ye){const wt=we.find(un=>un.agent===ht.agent);if(wt){if(wt.dates.push(ht.date),Rr(we)>K){wt.dates.pop();break}}else if(we.push({agent:ht.agent,dates:[ht.date]}),Rr(we)>K){we.pop();break}je=je.slice(1)}return{heartbeatsToSend:we,unsentEntries:je}}(K._heartbeatsCache.heartbeats),wt=(0,J.L)(JSON.stringify({version:2,heartbeats:je}));return K._heartbeatsCache.lastSentHeartbeatDate=we,ht.length>0?(K._heartbeatsCache.heartbeats=ht,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),wt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,O.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function br(ye){return ei.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var we=this;return(0,O.Z)(function*(){var je;if(yield we._canUseIndexedDBPromise){const wt=yield we.read();return Ut(we.app,{lastSentHeartbeatDate:null!==(je=K.lastSentHeartbeatDate)&&void 0!==je?je:wt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var we=this;return(0,O.Z)(function*(){var je;if(yield we._canUseIndexedDBPromise){const wt=yield we.read();return Ut(we.app,{lastSentHeartbeatDate:null!==(je=K.lastSentHeartbeatDate)&&void 0!==je?je:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...K.heartbeats]})}})()}}function Rr(ye){return(0,J.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function Fn(ye){Qe(new c.wA("platform-logger",K=>new Ie(K),"PRIVATE")),Qe(new c.wA("heartbeat",K=>new Ti(K),"PRIVATE")),Ln(Se,"0.9.13",ye),Ln(Se,"0.9.13","esm2017"),Ln("fire-js","")}("")},4097:(_t,xe,U)=>{U.d(xe,{C6:()=>O.getApps,KN:()=>O.registerVersion,Mq:()=>O.getApp,ZF:()=>O.initializeApp});var O=U(7592);(0,O.registerVersion)("firebase","9.23.0","app")},120:(_t,xe,U)=>{U.d(xe,{Z:()=>O.Z});var O=U(3399);O.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(_t,xe,U)=>{U.r(xe);var O=U(5861),c=U(3399),k=U(6710),J=U(9058),pe=(U(7592),U(7879),U(4537));function Se(){return window}function q(){return q=(0,O.Z)(function*(V,B,R){var re;const{BuildInfo:ke}=Se();(0,k.as)(B.sessionId,"AuthEvent did not contain a session ID");const tt=yield function Ne(V){return vt.apply(this,arguments)}(B.sessionId),Nt={};return(0,k.at)()?Nt.ibi=ke.packageName:(0,k.au)()?Nt.apn=ke.packageName:(0,k.av)(V,"operation-not-supported-in-this-environment"),ke.displayName&&(Nt.appDisplayName=ke.displayName),Nt.sessionId=tt,(0,k.aw)(V,R,B.type,void 0,null!==(re=B.eventId)&&void 0!==re?re:void 0,Nt)}),q.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(V){const{BuildInfo:B}=Se(),R={};(0,k.at)()?R.iosBundleId=B.packageName:(0,k.au)()?R.androidPackageName=B.packageName:(0,k.av)(V,"operation-not-supported-in-this-environment"),yield(0,k.ax)(V,R)})).apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(V,B,R){const{cordova:re}=Se();let ke=()=>{};try{yield new Promise((tt,Nt)=>{let ct=null;function _n(){var Yt;tt();const zr=null===(Yt=re.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof zr&&zr(),"function"==typeof R?.close&&R.close()}function Ft(){ct||(ct=window.setTimeout(()=>{Nt((0,k.az)(V,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===document?.visibilityState&&Ft()}B.addPassiveListener(_n),document.addEventListener("resume",Ft,!1),(0,k.au)()&&document.addEventListener("visibilitychange",Dn,!1),ke=()=>{B.removePassiveListener(_n),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Dn,!1),ct&&window.clearTimeout(ct)}})}finally{ke()}})).apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(V){const B=function mt(V){if((0,k.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const B=new ArrayBuffer(V.length),R=new Uint8Array(B);for(let re=0;re<V.length;re++)R[re]=V.charCodeAt(re);return R}(V),R=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(R)).map(ke=>ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(B)),super.onEvent(B)}initialized(){var B=this;return(0,O.Z)(function*(){yield B.initPromise})()}}function We(V){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*(V){const B=yield ot()._get(an(V));return B&&(yield ot()._remove(an(V))),B})).apply(this,arguments)}function nt(){const V=[];for(let R=0;R<20;R++){const re=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return V.join("")}function ot(){return(0,k.aC)(k.b)}function an(V){return(0,k.aD)("authEvent",V.config.apiKey,V.name)}function xn(V){if(!V?.includes("?"))return{};const[B,...R]=V.split("?");return(0,J.zd)(R.join("?"))}const le=class dr{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(B){var R=this;return(0,O.Z)(function*(){const re=B._key();let ke=R.eventManagers.get(re);return ke||(ke=new Me(B),R.eventManagers.set(re,ke),R.attachCallbackListeners(B,ke)),ke})()}_openPopup(B){(0,k.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,R,re,ke){var tt=this;return(0,O.Z)(function*(){!function it(V){var B,R,re,ke,tt,Nt,ct,_n,Ft,Dn;const Yt=Se();(0,k.aA)("function"==typeof(null===(B=Yt?.universalLinks)||void 0===B?void 0:B.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(R=Yt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(tt=null===(ke=null===(re=Yt?.cordova)||void 0===re?void 0:re.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===tt?void 0:tt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(_n=null===(ct=null===(Nt=Yt?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===_n?void 0:_n.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(Dn=null===(Ft=Yt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Dn?void 0:Dn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Nt=yield tt._initialize(B);yield Nt.initialized(),Nt.resetRedirect(),(0,k.aG)(),yield tt._originValidation(B);const ct=function he(V,B,R=null){return{type:B,eventId:R,urlResponse:null,sessionId:nt(),postBody:null,tenantId:V.tenantId,error:(0,k.az)(V,"no-auth-event")}}(B,re,ke);yield function De(V,B){return ot()._set(an(V),B)}(B,ct);const _n=yield function H(V,B,R){return q.apply(this,arguments)}(B,ct,R),Ft=yield function Pe(V){const{cordova:B}=Se();return new Promise(R=>{B.plugins.browsertab.isAvailable(re=>{let ke=null;re?B.plugins.browsertab.openUrl(V):ke=B.InAppBrowser.open(V,(0,k.ay)()?"_blank":"_system","location=yes"),R(ke)})})}(_n);return function et(V,B,R){return Le.apply(this,arguments)}(B,Nt,Ft)})()}_isIframeWebStorageSupported(B,R){throw new Error("Method not implemented.")}_originValidation(B){const R=B._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function ue(V){return $e.apply(this,arguments)}(B)),this.originValidationPromises[R]}attachCallbackListeners(B,R){const{universalLinks:re,handleOpenURL:ke,BuildInfo:tt}=Se(),Nt=setTimeout((0,O.Z)(function*(){yield We(B),R.onEvent(Ee())}),500),ct=function(){var Dn=(0,O.Z)(function*(Yt){clearTimeout(Nt);const zr=yield We(B);let Jo=null;zr&&Yt?.url&&(Jo=function Ce(V,B){var R,re;const ke=function Sn(V){const B=xn(V),R=B.link?decodeURIComponent(B.link):void 0,re=xn(R).link,ke=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return xn(ke).link||ke||re||R||V}(B);if(ke.includes("/__/auth/callback")){const tt=xn(ke),Nt=tt.firebaseError?function An(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(tt.firebaseError)):null,ct=null===(re=null===(R=Nt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===re?void 0:re[1],_n=ct?(0,k.az)(ct):null;return _n?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:_n,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:ke,postBody:null}}return null}(zr,Yt.url)),R.onEvent(Jo||Ee())});return function(zr){return Dn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,ct);const _n=ke,Ft=`${tt.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var Dn=(0,O.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Ft)&&ct({url:Yt}),"function"==typeof _n)try{_n(Yt)}catch(zr){console.error(zr)}});return function(Yt){return Dn.apply(this,arguments)}}()}};function Ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function Qe(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function ln(V=(0,J.z$)()){return!("file:"!==Qe()&&"ionic:"!==Qe()&&"capacitor:"!==Qe()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function kn(){try{const V=self.localStorage,B=k.aL();if(V)return V.setItem(B,"1"),V.removeItem(B),!function cn(V=(0,J.z$)()){return function Xt(){return(0,J.w1)()&&11===document?.documentMode}()||function Ct(V=(0,J.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,J.hl)()}catch{return bn()&&(0,J.hl)()}return!1}function bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qn(){return(function Ke(){return"http:"===Qe()||"https:"===Qe()}()||(0,J.ru)()||ln())&&!function xt(){return(0,J.b$)()||(0,J.UG)()}()&&kn()&&!bn()}function fn(){return ln()&&typeof document<"u"}function rr(){return(rr=(0,O.Z)(function*(){return!!fn()&&new Promise(V=>{const B=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),V(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},Ii=k.aA,jr="persistence";function pn(V){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(V){yield V._initializationPromise;const B=br(),R=k.aD(jr,V.config.apiKey,V.name);B&&B.setItem(R,V._getPersistence())})).apply(this,arguments)}function br(){var V;try{return(null===(V=function Ln(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const ei=k.aA;class Ut{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(le),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(B){var R=this;return(0,O.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,R,re,ke){var tt=this;return(0,O.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openPopup(B,R,re,ke)})()}_openRedirect(B,R,re,ke){var tt=this;return(0,O.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openRedirect(B,R,re,ke)})()}_isIframeWebStorageSupported(B,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,R)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return fn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,O.Z)(function*(){if(B.underlyingResolver)return;const R=yield function Nr(){return rr.apply(this,arguments)}();B.underlyingResolver=R?B.cordovaResolver:B.browserResolver})()}}function hr(V){return V.unwrap()}function Hr(V){return Ti(V)}function Ti(V){const{_tokenResponse:B}=V instanceof J.ZR?V.customData:V;if(!B)return null;if(!(V instanceof J.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return k.P.credentialFromResult(V);const R=B.providerId;if(!R||R===k.p.PASSWORD)return null;let re;switch(R){case k.p.GOOGLE:re=k.V;break;case k.p.FACEBOOK:re=k.U;break;case k.p.GITHUB:re=k.W;break;case k.p.TWITTER:re=k.Z;break;default:const{oauthIdToken:ke,oauthAccessToken:tt,oauthTokenSecret:Nt,pendingToken:ct,nonce:_n}=B;return tt||Nt||ke||ct?ct?R.startsWith("saml.")?k.aO._create(R,ct):k.L._fromParams({providerId:R,signInMethod:R,pendingToken:ct,idToken:ke,accessToken:tt}):new k.X(R).credential({idToken:ke,accessToken:tt,rawNonce:_n}):null}return V instanceof J.ZR?re.credentialFromError(V):re.credentialFromResult(V)}function Ot(V,B){return B.catch(R=>{throw R instanceof J.ZR&&function rn(V,B){var R;const re=null===(R=B.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new Rr(V,k.aq(V,B));else if(re){const ke=Ti(B),tt=B;ke&&(tt.credential=ke,tt.tenantId=re.tenantId||void 0,tt.email=re.email||void 0,tt.phoneNumber=re.phoneNumber||void 0)}}(V,R),R}).then(R=>{const ke=R.user;return{operationType:R.operationType,credential:Hr(R),additionalUserInfo:k.ao(R),user:Fn.getOrCreate(ke)}})}function Ji(V,B){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(V,B){const R=yield B;return{verificationId:R.verificationId,confirm:re=>Ot(V,R.confirm(re))}})).apply(this,arguments)}class Rr{constructor(B,R){this.resolver=R,this.auth=function $n(V){return V.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Ot(hr(this.auth),this.resolver.resolveSignIn(B))}}class Fn{constructor(B){this._delegate=B,this.multiFactor=k.ar(B)}static getOrCreate(B){return Fn.USER_MAP.has(B)||Fn.USER_MAP.set(B,new Fn(B)),Fn.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var R=this;return(0,O.Z)(function*(){return Ot(R.auth,k.a0(R._delegate,B))})()}linkWithPhoneNumber(B,R){var re=this;return(0,O.Z)(function*(){return Ji(re.auth,k.l(re._delegate,B,R))})()}linkWithPopup(B){var R=this;return(0,O.Z)(function*(){return Ot(R.auth,k.d(R._delegate,B,Ut))})()}linkWithRedirect(B){var R=this;return(0,O.Z)(function*(){return yield pn(k.aH(R.auth)),k.g(R._delegate,B,Ut)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var R=this;return(0,O.Z)(function*(){return Ot(R.auth,k.a1(R._delegate,B))})()}reauthenticateWithPhoneNumber(B,R){return Ji(this.auth,k.r(this._delegate,B,R))}reauthenticateWithPopup(B){return Ot(this.auth,k.e(this._delegate,B,Ut))}reauthenticateWithRedirect(B){var R=this;return(0,O.Z)(function*(){return yield pn(k.aH(R.auth)),k.h(R._delegate,B,Ut)})()}sendEmailVerification(B){return k.ae(this._delegate,B)}unlink(B){var R=this;return(0,O.Z)(function*(){return yield k.an(R._delegate,B),R})()}updateEmail(B){return k.aj(this._delegate,B)}updatePassword(B){return k.ak(this._delegate,B)}updatePhoneNumber(B){return k.u(this._delegate,B)}updateProfile(B){return k.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,R){return k.af(this._delegate,B,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fn.USER_MAP=new WeakMap;const ye=k.aA;let K=(()=>{class V{constructor(R,re){if(this.app=R,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ke}=R.options;ye(ke,"invalid-api-key",{appName:R.name}),ye(ke,"invalid-api-key",{appName:R.name});const tt=typeof window<"u"?Ut:void 0;this._delegate=re.initialize({options:{persistence:je(ke,R.name),popupRedirectResolver:tt}}),this._delegate._updateErrorMap(k.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,re){k.I(this._delegate,R,re)}applyActionCode(R){return k.a5(this._delegate,R)}checkActionCode(R){return k.a6(this._delegate,R)}confirmPasswordReset(R,re){return k.a4(this._delegate,R,re)}createUserWithEmailAndPassword(R,re){var ke=this;return(0,O.Z)(function*(){return Ot(ke._delegate,k.a8(ke._delegate,R,re))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return k.ad(this._delegate,R)}isSignInWithEmailLink(R){return k.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,O.Z)(function*(){ye(Qn(),R._delegate,"operation-not-supported-in-this-environment");const re=yield k.j(R._delegate,Ut);return re?Ot(R._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function ve(V,B){(0,k.aH)(V)._logFramework(B)}(this._delegate,R)}onAuthStateChanged(R,re,ke){const{next:tt,error:Nt,complete:ct}=we(R,re,ke);return this._delegate.onAuthStateChanged(tt,Nt,ct)}onIdTokenChanged(R,re,ke){const{next:tt,error:Nt,complete:ct}=we(R,re,ke);return this._delegate.onIdTokenChanged(tt,Nt,ct)}sendSignInLinkToEmail(R,re){return k.aa(this._delegate,R,re)}sendPasswordResetEmail(R,re){return k.a3(this._delegate,R,re||void 0)}setPersistence(R){var re=this;return(0,O.Z)(function*(){let ke;switch(function Rt(V,B){Ii(Object.values(Bn).includes(B),V,"invalid-persistence-type"),(0,J.b$)()?Ii(B!==Bn.SESSION,V,"unsupported-persistence-type"):(0,J.UG)()?Ii(B===Bn.NONE,V,"unsupported-persistence-type"):bn()?Ii(B===Bn.NONE||B===Bn.LOCAL&&(0,J.hl)(),V,"unsupported-persistence-type"):Ii(B===Bn.NONE||kn(),V,"unsupported-persistence-type")}(re._delegate,R),R){case Bn.SESSION:ke=k.a;break;case Bn.LOCAL:ke=(yield k.aC(k.i)._isAvailable())?k.i:k.b;break;case Bn.NONE:ke=k.N;break;default:return k.av("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(ke)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return Ot(this._delegate,k._(this._delegate))}signInWithCredential(R){return Ot(this._delegate,k.$(this._delegate,R))}signInWithCustomToken(R){return Ot(this._delegate,k.a2(this._delegate,R))}signInWithEmailAndPassword(R,re){return Ot(this._delegate,k.a9(this._delegate,R,re))}signInWithEmailLink(R,re){return Ot(this._delegate,k.ac(this._delegate,R,re))}signInWithPhoneNumber(R,re){return Ji(this._delegate,k.s(this._delegate,R,re))}signInWithPopup(R){var re=this;return(0,O.Z)(function*(){return ye(Qn(),re._delegate,"operation-not-supported-in-this-environment"),Ot(re._delegate,k.c(re._delegate,R,Ut))})()}signInWithRedirect(R){var re=this;return(0,O.Z)(function*(){return ye(Qn(),re._delegate,"operation-not-supported-in-this-environment"),yield pn(re._delegate),k.f(re._delegate,R,Ut)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return k.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=Bn,V})();function we(V,B,R){let re=V;"function"!=typeof V&&({next:re,error:B,complete:R}=V);const ke=re;return{next:Nt=>ke(Nt&&Fn.getOrCreate(Nt)),error:B,complete:R}}function je(V,B){const R=function gt(V,B){const R=br();if(!R)return[];const re=k.aD(jr,V,B);switch(R.getItem(re)){case Bn.NONE:return[k.N];case Bn.LOCAL:return[k.i,k.a];case Bn.SESSION:return[k.a];default:return[]}}(V,B);if(typeof self<"u"&&!R.includes(k.i)&&R.push(k.i),typeof window<"u")for(const re of[k.b,k.a])R.includes(re)||R.push(re);return R.includes(k.N)||R.push(k.N),R}class ht{constructor(){this.providerId="phone",this._delegate=new k.P(hr(c.Z.auth()))}static credential(B,R){return k.P.credential(B,R)}verifyPhoneNumber(B,R){return this._delegate.verifyPhoneNumber(B,R)}unwrap(){return this._delegate}}ht.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,ht.PROVIDER_ID=k.P.PROVIDER_ID;const wt=k.aA;class un{constructor(B,R,re=c.Z.app()){var ke;wt(null===(ke=re.options)||void 0===ke?void 0:ke.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new k.R(B,R,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(V){V.INTERNAL.registerComponent(new pe.wA("auth-compat",B=>{const R=B.getProvider("app-compat").getImmediate(),re=B.getProvider("auth");return new K(R,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.Q,FacebookAuthProvider:k.U,GithubAuthProvider:k.W,GoogleAuthProvider:k.V,OAuthProvider:k.X,SAMLAuthProvider:k.Y,PhoneAuthProvider:ht,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:un,TwitterAuthProvider:k.Z,Auth:K,AuthCredential:k.J,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(c.Z)},4303:(_t,xe,U)=>{U.r(xe),U.d(xe,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Re,_addOrOverwriteComponent:()=>Ve,_apps:()=>ve,_clearComponents:()=>xt,_components:()=>ce,_getProvider:()=>Ke,_registerComponent:()=>Qe,_removeServiceInstance:()=>ln,deleteApp:()=>Nr,getApp:()=>Qn,getApps:()=>fn,initializeApp:()=>bn,onLog:()=>Bn,registerVersion:()=>Ln,setLogLevel:()=>Ii});var O=U(5861),c=U(4537),k=U(7879),J=U(9058),ae=U(1878);class Ie{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function pe(ye){const K=ye.getComponent();return"VERSION"===K?.type}(we)){const je=we.getImmediate();return`${je.library}/${je.version}`}return null}).filter(we=>we).join(" ")}}const Se="@firebase/app",H=new k.Yd("@firebase/app"),le="[DEFAULT]",Ee={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,ce=new Map;function Re(ye,K){try{ye.container.addComponent(K)}catch(we){H.debug(`Component ${K.name} failed to register with FirebaseApp ${ye.name}`,we)}}function Ve(ye,K){ye.container.addOrOverwriteComponent(K)}function Qe(ye){const K=ye.name;if(ce.has(K))return H.debug(`There were multiple attempts to register component ${K}.`),!1;ce.set(K,ye);for(const we of ve.values())Re(we,ye);return!0}function Ke(ye,K){const we=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),ye.container.getProvider(K)}function ln(ye,K,we=le){Ke(ye,K).clearInstance(we)}function xt(){ce.clear()}const Ct=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(K,we,je){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=je,this.container.addComponent(new c.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const kn="10.4.0";function bn(ye,K={}){let we=ye;"object"!=typeof K&&(K={name:K});const je=Object.assign({name:le,automaticDataCollectionEnabled:!1},K),ht=je.name;if("string"!=typeof ht||!ht)throw Ct.create("bad-app-name",{appName:String(ht)});if(we||(we=(0,J.aH)()),!we)throw Ct.create("no-options");const wt=ve.get(ht);if(wt){if((0,J.vZ)(we,wt.options)&&(0,J.vZ)(je,wt.config))return wt;throw Ct.create("duplicate-app",{appName:ht})}const un=new c.H0(ht);for(const Z of ce.values())un.addComponent(Z);const W=new cn(we,je,un);return ve.set(ht,W),W}function Qn(ye=le){const K=ve.get(ye);if(!K&&ye===le&&(0,J.aH)())return bn();if(!K)throw Ct.create("no-app",{appName:ye});return K}function fn(){return Array.from(ve.values())}function Nr(ye){return rr.apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*(ye){const K=ye.name;ve.has(K)&&(ve.delete(K),yield Promise.all(ye.container.getProviders().map(we=>we.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Ln(ye,K,we){var je;let ht=null!==(je=Ee[ye])&&void 0!==je?je:ye;we&&(ht+=`-${we}`);const wt=ht.match(/\s|\//),un=K.match(/\s|\//);if(wt||un){const W=[`Unable to register library "${ht}" with version "${K}":`];return wt&&W.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),wt&&un&&W.push("and"),un&&W.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void H.warn(W.join(" "))}Qe(new c.wA(`${ht}-version`,()=>({library:ht,version:K}),"VERSION"))}function Bn(ye,K){if(null!==ye&&"function"!=typeof ye)throw Ct.create("invalid-log-argument");(0,k.Am)(ye,K)}function Ii(ye){(0,k.Ub)(ye)}const jr="firebase-heartbeat-database",Rt=1,pn="firebase-heartbeat-store";let Lt=null;function gt(){return Lt||(Lt=(0,ae.X3)(jr,Rt,{upgrade:(ye,K)=>{0===K&&ye.createObjectStore(pn)}}).catch(ye=>{throw Ct.create("idb-open",{originalErrorMessage:ye.message})})),Lt}function ei(){return(ei=(0,O.Z)(function*(ye){try{return yield(yield gt()).transaction(pn).objectStore(pn).get($n(ye))}catch(K){if(K instanceof J.ZR)H.warn(K.message);else{const we=Ct.create("idb-get",{originalErrorMessage:K?.message});H.warn(we.message)}}})).apply(this,arguments)}function Ut(ye,K){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(ye,K){try{const je=(yield gt()).transaction(pn,"readwrite");yield je.objectStore(pn).put(K,$n(ye)),yield je.done}catch(we){if(we instanceof J.ZR)H.warn(we.message);else{const je=Ct.create("idb-set",{originalErrorMessage:we?.message});H.warn(je.message)}}})).apply(this,arguments)}function $n(ye){return`${ye.name}!${ye.options.appId}`}class Ti{constructor(K){this.container=K,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Zr(we),this._heartbeatsCachePromise=this._storage.read().then(je=>(this._heartbeatsCache=je,je))}triggerHeartbeat(){var K=this;return(0,O.Z)(function*(){const je=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=Ot();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==ht&&!K._heartbeatsCache.heartbeats.some(wt=>wt.date===ht))return K._heartbeatsCache.heartbeats.push({date:ht,agent:je}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(wt=>{const un=new Date(wt.date).valueOf();return Date.now()-un<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,O.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const we=Ot(),{heartbeatsToSend:je,unsentEntries:ht}=function Ji(ye,K=1024){const we=[];let je=ye.slice();for(const ht of ye){const wt=we.find(un=>un.agent===ht.agent);if(wt){if(wt.dates.push(ht.date),Rr(we)>K){wt.dates.pop();break}}else if(we.push({agent:ht.agent,dates:[ht.date]}),Rr(we)>K){we.pop();break}je=je.slice(1)}return{heartbeatsToSend:we,unsentEntries:je}}(K._heartbeatsCache.heartbeats),wt=(0,J.L)(JSON.stringify({version:2,heartbeats:je}));return K._heartbeatsCache.lastSentHeartbeatDate=we,ht.length>0?(K._heartbeatsCache.heartbeats=ht,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),wt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,O.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function br(ye){return ei.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var we=this;return(0,O.Z)(function*(){var je;if(yield we._canUseIndexedDBPromise){const wt=yield we.read();return Ut(we.app,{lastSentHeartbeatDate:null!==(je=K.lastSentHeartbeatDate)&&void 0!==je?je:wt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var we=this;return(0,O.Z)(function*(){var je;if(yield we._canUseIndexedDBPromise){const wt=yield we.read();return Ut(we.app,{lastSentHeartbeatDate:null!==(je=K.lastSentHeartbeatDate)&&void 0!==je?je:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...K.heartbeats]})}})()}}function Rr(ye){return(0,J.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function Fn(ye){Qe(new c.wA("platform-logger",K=>new Ie(K),"PRIVATE")),Qe(new c.wA("heartbeat",K=>new Ti(K),"PRIVATE")),Ln(Se,"0.9.19",ye),Ln(Se,"0.9.19","esm2017"),Ln("fire-js","")}("")},4537:(_t,xe,U)=>{U.d(xe,{H0:()=>Se,wA:()=>k});var O=U(5861),c=U(9058);class k{constructor(H,q,ue){this.name=H,this.instanceFactory=q,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const J="[DEFAULT]";class ae{constructor(H,q){this.name=H,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const q=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(q)){const ue=new c.BH;if(this.instancesDeferred.set(q,ue),this.isInitialized(q)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:q});$e&&ue.resolve($e)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(H){var q;const ue=this.normalizeInstanceIdentifier(H?.identifier),$e=null!==(q=H?.optional)&&void 0!==q&&q;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Pe){if($e)return null;throw Pe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function pe(me){return"EAGER"===me.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[q,ue]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(q);try{const Pe=this.getOrInitializeService({instanceIdentifier:$e});ue.resolve(Pe)}catch{}}}}clearInstance(H=J){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,O.Z)(function*(){const q=Array.from(H.instances.values());yield Promise.all([...q.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...q.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=J){return this.instances.has(H)}getOptions(H=J){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:q={}}=H,ue=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ue,options:q});for(const[Pe,et]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Pe)&&et.resolve($e);return $e}onInit(H,q){var ue;const $e=this.normalizeInstanceIdentifier(q),Pe=null!==(ue=this.onInitCallbacks.get($e))&&void 0!==ue?ue:new Set;Pe.add(H),this.onInitCallbacks.set($e,Pe);const et=this.instances.get($e);return et&&H(et,$e),()=>{Pe.delete(H)}}invokeOnInitCallbacks(H,q){const ue=this.onInitCallbacks.get(q);if(ue)for(const $e of ue)try{$e(H,q)}catch{}}getOrInitializeService({instanceIdentifier:H,options:q={}}){let ue=this.instances.get(H);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(me=H,me===J?void 0:me),options:q}),this.instances.set(H,ue),this.instancesOptions.set(H,q),this.invokeOnInitCallbacks(ue,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ue)}catch{}var me;return ue||null}normalizeInstanceIdentifier(H=J){return this.component?this.component.multipleInstances?H:J:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const q=this.getProvider(H.name);if(q.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);q.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const q=new ae(H,this);return this.providers.set(H,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(_t,xe,U)=>{U.d(xe,{Am:()=>me,Ub:()=>Se,Yd:()=>pe,in:()=>c});const O=[];var c=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}(c||{});const k={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},J=c.INFO,ae={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},Ie=(H,q,...ue)=>{if(q<H.logLevel)return;const $e=(new Date).toISOString(),Pe=ae[q];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Pe](`[${$e}]  ${H.name}:`,...ue)};class pe{constructor(q){this.name=q,this._logLevel=J,this._logHandler=Ie,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in c))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...q),this._logHandler(this,c.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...q),this._logHandler(this,c.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,c.INFO,...q),this._logHandler(this,c.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,c.WARN,...q),this._logHandler(this,c.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...q),this._logHandler(this,c.ERROR,...q)}}function Se(H){O.forEach(q=>{q.setLogLevel(H)})}function me(H,q){for(const ue of O){let $e=null;q&&q.level&&($e=k[q.level]),ue.userLogHandler=null===H?null:(Pe,et,...Le)=>{const it=Le.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");et>=($e??Pe.logLevel)&&H({level:c[et].toLowerCase(),message:it,args:Le,type:Pe.name})}}}},1878:(_t,xe,U)=>{U.d(xe,{X3:()=>mt});var O=U(5861);const c=(G,Ce)=>Ce.some(nt=>G instanceof nt);let k,J;const pe=new WeakMap,Se=new WeakMap,me=new WeakMap,H=new WeakMap,q=new WeakMap;let Pe={get(G,Ce,nt){if(G instanceof IDBTransaction){if("done"===Ce)return Se.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||me.get(G);if("store"===Ce)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return Ne(G[Ce])},set:(G,Ce,nt)=>(G[Ce]=nt,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function it(G){return"function"==typeof G?function Le(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(vt(this),Ce),Ne(pe.get(this))}:function(...Ce){return Ne(G.apply(vt(this),Ce))}:function(Ce,...nt){const ot=G.call(vt(this),Ce,...nt);return me.set(ot,Ce.sort?Ce.sort():[Ce]),Ne(ot)}}(G):(G instanceof IDBTransaction&&function $e(G){if(Se.has(G))return;const Ce=new Promise((nt,ot)=>{const an=()=>{G.removeEventListener("complete",An),G.removeEventListener("error",Sn),G.removeEventListener("abort",Sn)},An=()=>{nt(),an()},Sn=()=>{ot(G.error||new DOMException("AbortError","AbortError")),an()};G.addEventListener("complete",An),G.addEventListener("error",Sn),G.addEventListener("abort",Sn)});Se.set(G,Ce)}(G),c(G,function ae(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Pe):G)}function Ne(G){if(G instanceof IDBRequest)return function ue(G){const Ce=new Promise((nt,ot)=>{const an=()=>{G.removeEventListener("success",An),G.removeEventListener("error",Sn)},An=()=>{nt(Ne(G.result)),an()},Sn=()=>{ot(G.error),an()};G.addEventListener("success",An),G.addEventListener("error",Sn)});return Ce.then(nt=>{nt instanceof IDBCursor&&pe.set(nt,G)}).catch(()=>{}),q.set(Ce,G),Ce}(G);if(H.has(G))return H.get(G);const Ce=it(G);return Ce!==G&&(H.set(G,Ce),q.set(Ce,G)),Ce}const vt=G=>q.get(G);function mt(G,Ce,{blocked:nt,upgrade:ot,blocking:an,terminated:An}={}){const Sn=indexedDB.open(G,Ce),xn=Ne(Sn);return ot&&Sn.addEventListener("upgradeneeded",mn=>{ot(Ne(Sn.result),mn.oldVersion,mn.newVersion,Ne(Sn.transaction),mn)}),nt&&Sn.addEventListener("blocked",mn=>nt(mn.oldVersion,mn.newVersion,mn)),xn.then(mn=>{An&&mn.addEventListener("close",()=>An()),an&&mn.addEventListener("versionchange",dr=>an(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),xn}const Me=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],De=new Map;function We(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(De.get(Ce))return De.get(Ce);const nt=Ce.replace(/FromIndex$/,""),ot=Ce!==nt,an=he.includes(nt);if(!(nt in(ot?IDBIndex:IDBObjectStore).prototype)||!an&&!Me.includes(nt))return;const An=function(){var Sn=(0,O.Z)(function*(xn,...mn){const dr=this.transaction(xn,an?"readwrite":"readonly");let le=dr.store;return ot&&(le=le.index(mn.shift())),(yield Promise.all([le[nt](...mn),an&&dr.done]))[0]});return function(mn){return Sn.apply(this,arguments)}}();return De.set(Ce,An),An}!function et(G){Pe=G(Pe)}(G=>({...G,get:(Ce,nt,ot)=>We(Ce,nt)||G.get(Ce,nt,ot),has:(Ce,nt)=>!!We(Ce,nt)||G.has(Ce,nt)}))},5861:(_t,xe,U)=>{function O(k,J,ae,Ie,pe,Se,me){try{var H=k[Se](me),q=H.value}catch(ue){return void ae(ue)}H.done?J(q):Promise.resolve(q).then(Ie,pe)}function c(k){return function(){var J=this,ae=arguments;return new Promise(function(Ie,pe){var Se=k.apply(J,ae);function me(q){O(Se,Ie,pe,me,H,"next",q)}function H(q){O(Se,Ie,pe,me,H,"throw",q)}me(void 0)})}}U.d(xe,{Z:()=>c})},7582:(_t,xe,U)=>{function J(le,Ee){var ve={};for(var ce in le)Object.prototype.hasOwnProperty.call(le,ce)&&Ee.indexOf(ce)<0&&(ve[ce]=le[ce]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ce=Object.getOwnPropertySymbols(le);Re<ce.length;Re++)Ee.indexOf(ce[Re])<0&&Object.prototype.propertyIsEnumerable.call(le,ce[Re])&&(ve[ce[Re]]=le[ce[Re]])}return ve}function ue(le,Ee,ve,ce){return new(ve||(ve=Promise))(function(Ve,Qe){function Ke(Xt){try{xt(ce.next(Xt))}catch(Ct){Qe(Ct)}}function ln(Xt){try{xt(ce.throw(Xt))}catch(Ct){Qe(Ct)}}function xt(Xt){Xt.done?Ve(Xt.value):function Re(Ve){return Ve instanceof ve?Ve:new ve(function(Qe){Qe(Ve)})}(Xt.value).then(Ke,ln)}xt((ce=ce.apply(le,Ee||[])).next())})}function oe(le){return this instanceof oe?(this.v=le,this):new oe(le)}function Me(le,Ee,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ce=ve.apply(le,Ee||[]),Ve=[];return Re={},Qe("next"),Qe("throw"),Qe("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Qe(cn){ce[cn]&&(Re[cn]=function(kn){return new Promise(function(bn,Qn){Ve.push([cn,kn,bn,Qn])>1||Ke(cn,kn)})})}function Ke(cn,kn){try{!function ln(cn){cn.value instanceof oe?Promise.resolve(cn.value.v).then(xt,Xt):Ct(Ve[0][2],cn)}(ce[cn](kn))}catch(bn){Ct(Ve[0][3],bn)}}function xt(cn){Ke("next",cn)}function Xt(cn){Ke("throw",cn)}function Ct(cn,kn){cn(kn),Ve.shift(),Ve.length&&Ke(Ve[0][0],Ve[0][1])}}function De(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ee=le[Symbol.asyncIterator];return Ee?Ee.call(le):(le=function Le(le){var Ee="function"==typeof Symbol&&Symbol.iterator,ve=Ee&&le[Ee],ce=0;if(ve)return ve.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ce>=le.length&&(le=void 0),{value:le&&le[ce++],done:!le}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ve={},ce("next"),ce("throw"),ce("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function ce(Ve){ve[Ve]=le[Ve]&&function(Qe){return new Promise(function(Ke,ln){!function Re(Ve,Qe,Ke,ln){Promise.resolve(ln).then(function(xt){Ve({value:xt,done:Ke})},Qe)}(Ke,ln,(Qe=le[Ve](Qe)).done,Qe.value)})}}}U.d(xe,{FC:()=>Me,KL:()=>De,_T:()=>J,mG:()=>ue,qq:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},_t=>{_t(_t.s=4153)}]);